/*! For license information please see 7.51c93a19.chunk.js.LICENSE.txt */
(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y}));var r=n(24),i=n.n(r),a=n(35),o=n(1),s=n(100),c=n(275),u=n(112),l=n(114),d=n(420),f="/api/v1",p={credentials:"same-origin",headers:{"Content-Type":"application/json"}},h=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var r;Object(s.a)(this,n);var i=e.message;return(r=t.call(this,i)).response=void 0,r.status=void 0,Error.captureStackTrace&&Error.captureStackTrace(Object(c.a)(r),m),r.response=e,r.status=e.status,r}return n}(Object(d.a)(Error)),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e,r){Object(s.a)(this,n);var i="Got status ".concat(e.status," ").concat(e.statusText," when fetching ").concat(f+r);return t.call(this,Object(o.a)(Object(o.a)({},e),{},{message:i}))}return n}(h);function b(e){return e.startsWith("/")?e:"/"+e}function v(e,t){return j.apply(this,arguments)}function j(){return(j=Object(a.a)(i.a.mark((function e(t,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=7;break}return e.next=3,t.json();case 3:if("success"===(r=e.sent).status){e.next=6;break}throw new h(Object(o.a)({message:"Server response did not have `status === 'success`"},r));case 6:return e.abrupt("return",r.payload);case 7:throw new m(t,n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(i.a.mark((function e(t){var n,r,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],t=b(t),e.next=4,fetch((n?"":f)+t,Object(o.a)(Object(o.a)({},p),{},{method:"GET"}));case 4:return r=e.sent,e.next=7,v(r,t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return w.apply(this,arguments)}function w(){return(w=Object(a.a)(i.a.mark((function e(t){var n,r,a,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]&&s[2],t=b(t),e.next=5,fetch((r?"":f)+t,Object(o.a)(Object(o.a)({},p),{},{method:"POST",body:JSON.stringify(n)}));case 5:return a=e.sent,e.next=8,v(a,t);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},102:function(e,t,n){"use strict";n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return j}));var r=n(1),i=n(121),a=n(21),o=n(34),s=n(16),c=n(100),u=n(107),l=n(11),d=n.n(l),f=n(277),p=n.n(f);function h(e){var t=e.oneOfType([e.number,e.string]);return{apiResponse:e.shape({status:e.oneOf(["success","error"]).isRequired,message:e.string,payload:e.any}),apiResponseSuccess:e.shape({status:e.oneOf(["success"]).isRequired,message:e.string,payload:e.any}),apiResponseError:e.shape({status:e.oneOf(["error"]).isRequired,message:e.string.isRequired,payload:e.any}),idOnly:e.shape({id:t}),session:e.shape({id:t,start_date:e.string,end_date:e.string,name:e.string.isRequired}),contractTemplateMinimal:e.shape({template_file:e.string}),contractTemplate:e.shape({template_file:e.string,template_name:e.string}),position:e.shape({position_code:e.string.isRequired,position_title:e.string,hours_per_assignment:e.number,start_date:e.string,end_date:e.string,contract_template_id:t,duties:e.string,qualifications:e.string,desired_num_assignments:e.number,current_enrollment:e.number,current_waitlisted:e.number,instructor_ids:e.arrayOf(t),instructor_preference:e.arrayOf(e.shape({preference_level:e.number,applicant_id:t,instructor_id:t}))}),instructor:e.shape({first_name:e.string.isRequired,last_name:e.string.isRequired,email:e.string,utorid:e.string.isRequired}),assignment:e.shape({start_date:e.string,end_date:e.string,note:e.string,contract_override_pdf:e.string,applicant_id:t.isRequired,position_id:t.isRequired,active_offer_status:e.oneOf(["accepted","rejected","withdrawn","provisional","pending","no_offer",null]),active_offer_url_token:e.string,active_offer_recent_activity_date:e.string,active_offer_nag_count:e.number}),applicant:e.shape({utorid:e.string.isRequired,student_number:e.string,first_name:e.string.isRequired,last_name:e.string.isRequired,email:e.string,phone:e.string}),wageChunk:e.shape({start_date:e.string,end_date:e.string,hours:e.number,rate:e.number}),reportingTag:e.shape({name:e.string}),offer:e.shape({first_name:e.string,last_name:e.string,email:e.string,position_code:e.string,position_title:e.string,position_start_date:e.string,position_end_date:e.string,first_time_ta:e.bool,instructor_contact_desc:e.string,pay_period_desc:e.string,installments:e.number,ta_coordinator_name:e.string,ta_coordinator_email:e.string,emailed_date:e.string,status:e.string,accepted_date:e.string,rejected_date:e.string,withdrawn_date:e.string,url_token:e.string,nag_count:e.number}),application:e.shape({posting_id:t,applicant_id:t,comments:e.string,program:e.string,department:e.string,previous_department_ta:e.bool,previous_university_ta:e.bool,previous_experience_summary:e.string,yip:e.number,annotation:e.string,submission_date:e.string,position_preference:e.arrayOf(e.shape({preference_level:e.number,position_id:t}))}),user:e.shape({utorid:e.string,roles:e.arrayOf(e.string)}),ddah:e.shape({assignment_id:t,signature:e.string,approved_date:e.string,accepted_date:e.string,revised_date:e.string,emailed_date:e.string,url_token:e.string,duties:e.arrayOf(e.shape({description:e.string,hours:e.number,order:e.number}))}),posting:e.shape({name:e.string,intro_text:e.string,open_date:e.string,close_date:e.string,availability:e.oneOf(["auto","open","closed"]),custom_questions:e.any,application_ids:e.arrayOf(t)}),posting_position:e.shape({hours:e.number,num_positions:e.number,position_id:t,posting_id:t}),instructor_preference:e.shape({preference_level:e.number,comment:e.string,position_id:t,posting_id:t}),survey:e.shape({title:e.string,pages:e.arrayOf(e.shape({name:e.string,elements:e.arrayOf(e.shape({type:e.string,name:e.string,title:e.string}))}))})}}h(l);var m=function(){function e(t,n){Object(c.a)(this,e),this.name=void 0,this.args=void 0,this.name=t,this.args=n}return Object(u.a)(e,[{key:"toString",value:function(){return null==this.args?""+this.name:this.name+"("+this.args.join(", ")+")"}}]),e}();function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.concat([new m(t,n)])}var v=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={get:function(t,r,i){if("callChain"===r)return n;if("toJSON"===r)return function(){return n};var a=Reflect.get(t,r,i);return a instanceof Object?e(a,b(n,r)):a},apply:function(t,r,i){var a=n.pop()||{name:"<root>"},o=Reflect.apply(t,r,i);return o instanceof Object?e(o,b(n,a.name,i)):o},ownKeys:function(e){return[].concat(Object(s.a)(Reflect.ownKeys(e)),["callChain","toJSON"])}};return new Proxy(t,r)}(d.a),j=h(v),g={string:"string",number:"number",bool:"boolean",object:"object",array:"array",any:{}};function O(e){var t={};if(e.callChain){var n=Object(o.a)(e.callChain,2),r=n[0],i=[];if(n[1]&&(t.required=!0),r.args)switch(r.name){case"shape":t.type="object",t.properties={};for(var a=0,s=Object.entries(r.args[0]);a<s.length;a++){var c=Object(o.a)(s[a],2),u=c[0],l=O(c[1]);l.required&&(i.push(u),delete l.required),t.properties[u]=l}i.length>0&&(t.required=i);break;case"arrayOf":t.type="array",t.items=O(r.args[0]);break;case"oneOf":t.type="string",t.enum=r.args[0];break;case"oneOfType":t.oneOf=r.args[0].map(O)}else r.name in g&&(t.type=g[r.name])}else console.warn("Attempting to compute swagger values for non-wrapped object",e);return t}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"object"};return{type:"object",properties:{status:{type:"string",enum:["success","error"]},message:{type:"string"},payload:e},required:["status"]}}function w(e){for(var t=new p.a(e),n=Object.keys(t.match(t.spec)),r={},i=0,a=n;i<a.length;i++){var o=a[i];r[o]="{"+o+"}"}return{url:decodeURI(t.reverse(r)||""),templateVars:n}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={responses:{default:{}}};if(!e)return n;var r=["admin"].concat(Object(s.a)(e.roles||[]));return n.summary="(prefixes: ".concat(r.map((function(e){return"/"+e})).join(", "),") ")+e.summary,t.length>0&&(n.parameters=t.map((function(e){return{name:e,in:"path",description:e,required:!0}}))),e.returns&&(n.responses.default={content:{"application/json":{schema:y(O(e.returns))}}}),e.posts&&(n.requestBody={content:{"application/json":{schema:O(e.posts)}}}),n}function x(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getRoutes,n=void 0===t?{}:t,r=e.postRoutes,i=void 0===r?{}:r,s={},c=0,u=Object.entries(n);c<u.length;c++){var l=Object(o.a)(u[c],2),d=l[0],f=l[1],p=w(d),h=p.url,m=p.templateVars;f.docs&&f.docs.exclude||(s[h]=Object.assign(s[h]||{},{get:_(f.docs,m)}))}for(var b=0,v=Object.entries(i);b<v.length;b++){var j=Object(o.a)(v[b],2),g=j[0],O=j[1],y=w(g),x=y.url,S=y.templateVars;O.docs&&O.docs.exclude||(s[x]=Object.assign(s[x]||{},{post:_(O.docs,S)}))}for(var k=Array.from(new Set(Object.keys(s).map((function(e){return e.split("/")[1]})).filter((function(e){return e})))),C=function(){var e=Object(o.a)(E[A],2),t=e[0],n=e[1],r=k.filter((function(e){return t.includes(e)}));n.get&&r.length>0&&(n.get.tags=r),n.post&&r.length>0&&(n.post.tags=r)},A=0,E=Object.entries(s);A<E.length;A++)C();var D,T={},N=Object(a.a)(Object.keys(s).sort());try{for(N.s();!(D=N.n()).done;){var P=D.value;T[P]=s[P]}}catch(R){N.e(R)}finally{N.f()}return T}function S(e){var t=e.func,n=e.exclude,a=void 0!==n&&n,o=Object(i.a)(e,["func","exclude"]),s=function(){return t.apply(void 0,arguments)};return s.docs=Object(r.a)({exclude:a},o),s}},103:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(1),i=n(38),a={position:"tr",autoDismiss:10,title:"Error"},o=function(e){return Object(i.error)(Object(r.a)(Object(r.a)({},a),{},{title:"Error fetching data",message:e}))},s=function(e){return Object(i.error)(Object(r.a)(Object(r.a)({},a),{},{title:"Error updating/inserting data",message:e}))},c=function(e){return Object(i.error)(Object(r.a)(Object(r.a)({},a),{},{title:"Error deleting data",message:e}))},u=function(e){return Object(i.error)(Object(r.a)(Object(r.a)({},a),{},{title:"API Error",message:e}))}},104:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return k}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(46),d=n(148),f=n(91),p=Object(c.a)(o.q),h=Object(c.a)(o.Q),m=Object(c.a)(o.ob),b=Object(c.a)(o.X);var v=Object(c.g)({name:"fetchActiveUser",description:"Fetch the active user",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("/active_user");case 2:if(a=e.sent,t(p(a)),o=k(n())||Object(f.G)(n()).role,"string"!==typeof(i=o)||!["admin","instructor","ta"].includes(i)){e.next=10;break}return e.next=8,t(g(o));case 8:e.next=13;break;case 10:if(!((null===(r=a.roles)||void 0===r?void 0:r.length)>0)){e.next=13;break}return e.next=13,t(g(a.roles[0]));case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}var i}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),j=(Object(c.g)({name:"upsertUsers",description:"Upserts a user (setting their role(s))",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)("/admin/users",e);case 2:return r=t.sent,n(m(r)),t.next=6,n(j());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"fetchUsers",description:"Fetch all users",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=k(n()),e.next=3,Object(u.a)("/".concat(r,"/users"));case 3:return a=e.sent,t(h(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})),g=Object(c.g)({name:"setActiveUserRole",description:"Sets the role of the active user",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(a.a)(i.a.mark((function n(r){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&r(Object(f.T)({role:e})),r(b(e)),t.skipInit){n.next=5;break}return n.next=5,r(Object(d.b)("setActiveUserRole",{startAfterStage:!0}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),O=Object(c.g)({name:"debugOnlyFetchUsers",description:"Fetch all users; this is available only in debug mode and bypasses any user permissions",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("/debug/users");case 2:n=e.sent,t(h(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),y=Object(c.g)({name:"debugOnlyUpsertUser",description:"Upsert a user",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.b)("/debug/users",e);case 2:return r=t.sent,t.abrupt("return",n(m(r)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w=Object(c.g)({name:"debugOnlySetActiveUser",description:"Sets the active user (i.e. fakes the 'logged on' user); available only in debug mode",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(a.a)(i.a.mark((function n(r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.b)("/debug/active_user",e);case 2:if(a=n.sent,r(p(a)),r(b(a.roles[0])),t.skipInit){n.next=8;break}return n.next=8,r(Object(d.b)("setActiveUser"));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),_=l.a._localStoreSelector,x=function(e){return _(e).users},S=function(e){return _(e).active_user},k=function(e){return _(e).active_role}},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return j})),n.d(t,"e",(function(){return g}));var r=n(24),i=n.n(r),a=n(35),o=n(34),s=n(21),c=n(423),u=n.n(c),l=n(103),d=n(190),f=n(109);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";if(!Array.isArray(e))return e;var n,r={},i=Object(s.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a[t]]=a}}catch(o){i.e(o)}finally{i.f()}return r}function h(e){return function(t){return{type:e,payload:t}}}function m(e,t){var n,r={},i={},a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;Object.hasOwnProperty.call(e,o)&&(i[o]=e[o])}}catch(u){a.e(u)}finally{a.f()}for(var c in e)Object.hasOwnProperty.call(i,c)||(r[c]=e[c]);return[r,i]}function b(e,t){return"object"===typeof e[t]&&"id"in e[t]}function v(e,t){return function(n){if(!function(e,t){return"object"===typeof e&&t in e}(n,e)||null==n[e])return n;var r=m(n,[e]),i=Object(o.a)(r,2),a=i[0],s=i[1];return b(s,e)?a[t]=s[e].id:function(e,t){return!(!Array.isArray(e[t])||!(0===e[t].length||"object"===typeof e[t][0]&&"id"in e[t][0]))}(s,e)&&(a[t]=s[e].map((function(e){return e.id}))),a}}function j(e){var t=e.dispatcher,n=(e.name,e.description),r=e.onErrorDispatch;return function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return function(){var e=Object(a.a)(i.a.mark((function e(a){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u()(),a(Object(d.b)(s,n)),e.prev=2,e.next=5,a(t.apply(void 0,o));case 5:return c=e.sent,e.abrupt("return",c);case 9:throw e.prev=9,e.t0=e.catch(2),console.warn("API Error",e.t0),r&&a(r instanceof Function?r(e.t0):Object(l.a)('Error encountered during "'.concat(n,'"'))),e.t0;case 14:return e.prev=14,a(Object(d.a)(s)),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,9,14,17]])})));return function(t){return e.apply(this,arguments)}}()}}function g(e,t){var n;return e===(null===(n=Object(f.a)(t()))||void 0===n?void 0:n.id)}},109:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"a",(function(){return S}));var r=n(24),i=n.n(r),a=n(35),o=n(110),s=n(2),c=n(103),u=n(106),l=n(101),d=n(39),f=n(104),p=n(148),h=Object(u.a)(s.P),m=Object(u.a)(s.L),b=Object(u.a)(s.mb),v=Object(u.a)(s.o),j=Object(u.a)(s.W),g=Object(u.g)({name:"fetchSessions",description:"Fetch sessions",onErrorDispatch:function(e){return Object(c.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(f.a)(n()),e.next=4,Object(l.a)("/".concat(r,"/sessions"));case 4:return a=e.sent,t(h(a)),e.abrupt("return",a);case 9:return e.prev=9,e.t0=e.catch(0),t(h([])),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()}}),O=(Object(u.g)({name:"fetchSession",description:"Fetch session",onErrorDispatch:function(e){return Object(c.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(l.a)("/".concat(a,"/sessions/").concat(e.id));case 3:return o=t.sent,n(m(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(u.g)({name:"upsertSession",description:"Add/insert session",onErrorDispatch:function(e){return Object(c.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(l.b)("/".concat(a,"/sessions"),e);case 3:return o=t.sent,n(b(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),y=Object(u.g)({name:"deleteSession",description:"Delete session",onErrorDispatch:function(e){return Object(c.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(l.b)("/".concat(a,"/sessions/delete"),e);case 3:o=t.sent,n(v(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),w=Object(u.g)({name:"setActiveSession",description:"Set the active session",onErrorDispatch:function(e){return Object(c.a)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o,s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=t.skipInit,s=a(),(c=S(s))!==e){n.next=5;break}return n.abrupt("return");case 5:if(null!=e){n.next=9;break}return r(j(null)),r(Object(p.a)()),n.abrupt("return");case 9:if((c||{id:null}).id!==e.id){n.next=11;break}return n.abrupt("return");case 11:if(r(j(e)),o){n.next=15;break}return n.next=15,r(Object(p.b)("setActiveSession",{startAfterStage:!0}));case 15:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),_=d.a._localStoreSelector,x=Object(o.a)(_,(function(e){return e._modelData})),S=Object(o.a)(_,(function(e){return e.activeSession}))},111:function(e,t,n){"use strict";n.d(t,"k",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"l",(function(){return g})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return A}));var r=n(21),i=n(1),a=n(100),o=n(107),s=n(34),c=n(16);function u(e,t){e=new Date(e),t=new Date(t);var n=new Date(e.getFullYear(),11,31),r=new Date(e.getFullYear(),12,1);return e<=n&&t>n?[{start_date:e.toISOString(),end_date:n.toISOString()},{start_date:r.toISOString(),end_date:t.toISOString()}]:[{start_date:e.toISOString(),end_date:t.toISOString()}]}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",n=e.map((function(e){return+e[t]})).filter((function(e){return null!=e})),r=Math.max.apply(Math,[0].concat(Object(c.a)(n)));return isNaN(r)?"id-"+Math.round(1e4*Math.random()):r+1}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return t.find((function(t){return t[n]==e[n]}))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return e=e.map((function(e){return""+e})),t.filter((function(t){return e.includes(""+t[n])}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.splice(t.indexOf(e),1)}function h(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:{required:!0,unique:!0}},r=0,i=Object.entries(n);r<i.length;r++){var a=Object(s.a)(i[r],2),o=a[0],c=a[1];if(c.required&&(null==e[o]||""===e[o]))return"Property ".concat(o," cannot be empty");if(c.unique&&d(e,t,o))return"Duplicate entry exists for property ".concat(o," with value ").concat(e[o])}return!1}var m=function(){function e(t,n){Object(a.a)(this,e),this.data=t,this.ownData=n}return Object(o.a)(e,[{key:"findAll",value:function(){return Object(c.a)(this.ownData)}},{key:"find",value:function(e){return this.rawFind(e)}},{key:"rawFind",value:function(e){return null==e?null:null!=e.id?d(e,this.ownData):null!=e.utorid?d({utorid:e},this.ownData):d({id:e},this.ownData)}},{key:"delete",value:function(e){if(!(e=this.rawFind(e)))throw new Error("Cannot delete object ".concat(JSON.stringify(e)));return p(e,this.ownData),e}},{key:"unusedId",value:function(){if(!this.ownData)throw new Error("Cannot get unused ID when `ownData` hasn't been set");return l(this.ownData)}},{key:"create",value:function(e){var t=l(this.ownData),n=Object(i.a)(Object(i.a)({},e),{},{id:t});return this.ownData.push(n),n}},{key:"validateNew",value:function(e){throw new Error("Subclasses must implement `validateNew()`")}},{key:"validateProp",value:function(e,t,n){return!0}},{key:"updateIfFound",value:function(e){var t=this.rawFind(e);if(!t)return null;for(var n in e)null!=n&&(this.validateProp(n,e[n],e.id),t[n]=e[n]);return t}},{key:"upsert",value:function(e){return this.rawFind(e)?this.updateIfFound(e):(this.validateNew(e),this.create(e))}}]),e}();function b(e){var t=e.map((function(e){return e.start_date})),n=e.map((function(e){return e.end_date}));return t.sort(),n.sort(),{start_date:t[0],end_date:n[n.length-1]}}function v(e){return null==e||0===e.length?"":1===e.length?e[0]:2===e.length?"".concat(e[0]," and ").concat(e[1]):((e=Object(c.a)(e))[e.length-1]="and "+e[e.length-1],e.join(", "))}function j(e){return e?v(e.map((function(e){return"".concat(e.first_name," ").concat(e.last_name," <").concat(e.email,">")}))):[]}function g(e){var t,n={},i=Object(r.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=a.rate,s=a.start_date,c=a.end_date,u=a.hours;s=new Date(s),c=new Date(c),n[o]=n[o]||{hours:0,rate:o};var l=n[o];l.hours+=u,l.start_date=l.start_date||s,l.start_date=Math.min(l.start_date,s),l.end_date=l.end_date||c,l.end_date=Math.max(l.end_date,c)}}catch(d){i.e(d)}finally{i.f()}return v(Object.values(n).map((function(e){var t=e.hours,n=e.rate,r=e.start_date,i=e.end_date;return r=new Date(r),i=new Date(i),"".concat(t," hours at $").concat(n,"/hour from ").concat(r.toLocaleDateString("EN-ca",{month:"long",day:"numeric",year:"numeric"})," to ").concat(i.toLocaleDateString("EN-ca",{month:"long",day:"numeric",year:"numeric"}))})))}function O(e){var t={};for(var n in e)null!=e[n]&&(t[n]=e[n]);return t}function y(e){var t=e.role,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"admin";if(t!==n)throw new Error("Invalid route for user with role '".concat(t,"'"))}for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),_=new Uint8Array(256),x=0;x<256;++x)_[x]=255;function S(e){if(e>=_.length)throw new Error("Unable to parse base64 string.");var t=_[e];if(255===t)throw new Error("Unable to parse base64 string.");return t}function k(e){var t,n="",r=e.length;for(t=2;t<r;t+=3)n+=w[e[t-2]>>2],n+=w[(3&e[t-2])<<4|e[t-1]>>4],n+=w[(15&e[t-1])<<2|e[t]>>6],n+=w[63&e[t]];return t===r+1&&(n+=w[e[t-2]>>2],n+=w[(3&e[t-2])<<4],n+="=="),t===r&&(n+=w[e[t-2]>>2],n+=w[(3&e[t-2])<<4|e[t-1]>>4],n+=w[(15&e[t-1])<<2],n+="="),n}function C(e){if(e.length%4!==0)throw new Error("Unable to parse base64 string.");var t=e.indexOf("=");if(-1!==t&&t<e.length-2)throw new Error("Unable to parse base64 string.");for(var n,r=e.endsWith("==")?2:e.endsWith("=")?1:0,i=e.length,a=new Uint8Array(i/4*3),o=0,s=0;o<i;o+=4,s+=3)n=S(e.charCodeAt(o))<<18|S(e.charCodeAt(o+1))<<12|S(e.charCodeAt(o+2))<<6|S(e.charCodeAt(o+3)),a[s]=n>>16,a[s+1]=n>>8&255,a[s+2]=255&n;return a.subarray(0,a.length-r)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextDecoder;return t.decode(C(e))}w.forEach((function(e,t){_[e.charCodeAt(0)]=t})),_["=".charCodeAt(0)]=0},126:function(e,t,n){var r=n(762);e.exports=function(e,t){if(null==e)return{};var n,i,a=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},e.exports.default=e.exports,e.exports.__esModule=!0},130:function(e,t,n){(function(n){var r,i,a;i=[],void 0===(a="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=o.URL||o.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?a(c):i(c.href)?r(e,t,n):a(c,c.target="_blank")):(c.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){a(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,o){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),n);else if(i(e))r(e,n,o);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){a(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var a="application/octet-stream"===e.type,c=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var d=o.URL||o.webkitURL,f=d.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});o.saveAs=c.saveAs=c,e.exports=c})?r.apply(t,i):r)||(e.exports=a)}).call(this,n(59))},131:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},133:function(e,t,n){"use strict";n.d(t,"f",(function(){return h})),n.d(t,"m",(function(){return m})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return j})),n.d(t,"j",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return A})),n.d(t,"d",(function(){return N})),n.d(t,"n",(function(){return p})),n.d(t,"k",(function(){return l})),n.d(t,"i",(function(){return R})),n.d(t,"c",(function(){return H}));var r=n(243),i=n.n(r);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="".concat(n).concat(n?"_":"","export_").concat((new Date).toLocaleDateString("en-CA",{year:"numeric",month:"numeric",day:"numeric"}));if("spreadsheet"===t||"csv"===t){var a=i.a.utils.book_new(),o=i.a.utils.aoa_to_sheet(e.toSpreadsheet());i.a.utils.book_append_sheet(a,o,"Instructors");var s="csv"===t?"csv":"xlsx",c=new File([i.a.write(a,{type:"array",bookType:s})],"".concat(r,".").concat(s),{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});return c}if("json"===t){var u=new File([JSON.stringify(e.toJson(),null,4)],"".concat(r,".json"),{type:"application/json"});return u}throw new Error('Cannot process data to format "'.concat(t,'"; try "spreadsheet" or "json".'))}var o=n(21),s=n(16);function c(e){return e.map((function(e){return e.map((function(e){return null!==e&&void 0!==e?e:null}))}))}var u=n(34);var l={session:function(e){return{name:e.name,start_date:e.start_date,end_date:e.end_date,rate1:e.rate1,rate2:e.rate2}},contractTemplate:function(e){return{template_name:e.template_name,template_file:e.template_file}},instructor:function(e){return{first_name:e.first_name,last_name:e.last_name,utorid:e.utorid,email:e.email}},position:function(e){return{position_code:e.position_code,position_title:e.position_title,hours_per_assignment:e.hours_per_assignment,start_date:e.start_date,end_date:e.end_date,duties:e.duties,qualifications:e.qualifications,desired_num_assignments:e.desired_num_assignments,current_enrollment:e.current_enrollment,current_waitlisted:e.current_waitlisted,instructors:e.instructors.map((function(e){return e.utorid})),contract_template:e.contract_template.template_name}},posting:function(e){return{name:e.name,open_date:e.open_date,close_date:e.close_date,intro_text:e.intro_text,custom_questions:e.custom_questions,posting_positions:e.posting_positions.map(l.postingPosition)}},postingPosition:function(e){return{position_code:e.position.position_code,num_positions:e.num_positions,hours:e.hours}},wageChunk:function(e){return{start_date:e.start_date,end_date:e.end_date,rate:e.rate,hours:e.hours}},assignment:function(e,t){var n={utorid:e.applicant.utorid,position_code:e.position.position_code};e.contract_override_pdf&&(n.contract_override_pdf=e.contract_override_pdf);var r=e.position;return(e.start_date&&e.start_date!==r.start_date||e.end_date&&e.end_date!==r.end_date)&&(n.start_date=e.start_date||r.start_date,n.end_date=e.end_date||r.end_date),Array.isArray(e.wage_chunks)&&0!==e.wage_chunks.length?t&&function(e,t,n,r){if(!n||!Array.isArray(e))return!0;if(1===e.length){var i=e[0];if(i.start_date===t.start_date&&i.end_date===t.end_date&&(i.rate===n.rate1||i.rate===n.rate2)&&i.hours===r)return!0}if(2===e.length){var a=Object(u.a)(e,2),o=a[0],s=a[1];if(!o.end_date||!o.end_date||!s.start_date||!s.end_date)return!1;if(o.end_date>s.start_date){var c=o;o=s,s=c}if(o.start_date!==t.start_date||s.end_date!==t.end_date)return!1;if(o.hours+s.hours!==r)return!1;if("12-31"===(o.end_date||"").slice(5,10)&&"01-01"===(s.start_date||"").slice(5,10)&&o.rate===n.rate1&&s.rate===n.rate2)return!0}return!1}(e.wage_chunks,r,t,e.hours)?n.hours=e.hours:n.wage_chunks=e.wage_chunks.map((function(e){return l.wageChunk(e)})):n.hours=e.hours,n},applicant:function(e){return{first_name:e.first_name,last_name:e.last_name,utorid:e.utorid,email:e.email,student_number:e.student_number,phone:e.phone}},application:function(e){var t;return Object.assign(l.applicant(e.applicant),{annotation:e.annotation,comments:e.comments,department:e.department,gpa:e.gpa,program:e.program,yip:e.yip,previous_experience_summary:e.previous_experience_summary,previous_department_ta:e.previous_department_ta,previous_university_ta:e.previous_university_ta,documents:e.documents,custom_question_answers:e.custom_question_answers,posting:(null===(t=e.posting)||void 0===t?void 0:t.name)||null,position_preferences:e.position_preferences.map((function(e){return{position_code:e.position.position_code,preference_level:e.preference_level}})),instructor_preferences:e.instructor_preferences.map((function(e){return{position_code:e.position.position_code,preference_level:e.preference_level,comment:e.comment}})),submission_date:e.submission_date})},ddah:function(e){var t=Object(s.a)(e.duties);return t.sort((function(e,t){return e.order-t.order})),{position_code:e.assignment.position.position_code,applicant:e.assignment.applicant.utorid,duties:t.map((function(e){return{hours:e.hours,description:e.description}}))}}};function d(e){try{return e&&new Date(e).toJSON().slice(0,10)}catch(t){return""}}function f(e){var t=[];if(!e)return t;for(var n=Math.max.apply(Math,Object(s.a)(e.map((function(e){var t;return(null===(t=e.wage_chunks)||void 0===t?void 0:t.length)||0}))).concat([0])),r=0;r<n;r++)t.push("Period ".concat(r+1," Rate"),"Period ".concat(r+1," Hours"),"Period ".concat(r+1," Start Date"),"Period ".concat(r+1," End Date"));return t}var p={instructor:function(e){return c([["Last Name","First Name","UTORid","email"]].concat(e.map((function(e){return[e.last_name,e.first_name,e.utorid,e.email]}))))},applicant:function(e){return c([["Last Name","First Name","UTORid","Student Number","email","Phone"]].concat(e.map((function(e){return[e.last_name,e.first_name,e.utorid,e.student_number,e.email,e.phone]}))))},application:function(e){var t=e.map(l.application),n=document.location.origin;return c([["Last Name","First Name","UTORid","Student Number","email","Phone","Annotation","Department","Program","YIP","GPA","Posting","Position Preferences","Previous Experience Summary","Comments","Documents","Instructor Preferences","Instructor Comments","Custom Question Answers","Submission Date"]].concat(t.map((function(e){return[e.last_name,e.first_name,e.utorid,e.student_number,e.email,e.phone,e.annotation,e.department,e.program,e.yip,e.gpa,e.posting,e.position_preferences.map((function(e){return"".concat(e.position_code,":").concat(e.preference_level)})).join("; "),e.previous_experience_summary,e.comments,e.documents.map((function(e){return new URL("".concat(n,"/public/files/").concat(e.url_token)).href})).join(" "),e.instructor_preferences.map((function(e){return"".concat(e.position_code,":").concat(e.preference_level)})).join("; "),e.instructor_preferences.filter((function(e){return null!=e.comment})).map((function(e){return"".concat(e.position_code,':"').concat(e.comment,'"')})).join("; "),e.custom_question_answers?JSON.stringify(e.custom_question_answers):null,e.submission_date]}))))},position:function(e){return c([["Position Code","Position Title","Start Date","End Date","Hours Per Assignment","Number of Assignments","Contract Template","Instructors","Duties","Qualifications","Current Enrollment","Current Waitlist"]].concat(e.map((function(e){return[e.position_code,e.position_title,e.start_date&&new Date(e.start_date).toJSON().slice(0,10),e.end_date&&new Date(e.end_date).toJSON().slice(0,10),e.hours_per_assignment,e.desired_num_assignments,e.contract_template.template_name,e.instructors.map((function(e){return"".concat(e.last_name,", ").concat(e.first_name)})).join("; "),e.duties||"",e.qualifications||"",e.current_enrollment,e.current_waitlisted]}))))},posting:function(e){var t=[e.name,e.open_date,e.close_date],n=[e.intro_text,JSON.stringify(e.custom_questions)],r=[null,null,null],i=[null,null];return c([["Name","Open Date","Close Date","Position Code","Num Positions","Hours per Assignment","Intro Text","Custom Questions"]].concat(Array.from({length:Math.max(e.posting_positions.length,1)},(function(a,o){var c,u=0===o?t:r,l=0===o?n:i,d=e.posting_positions[o];return[].concat(Object(s.a)(u),[null===d||void 0===d||null===(c=d.position)||void 0===c?void 0:c.position_code,null===d||void 0===d?void 0:d.num_positions,null===d||void 0===d?void 0:d.hours],Object(s.a)(l))}))))},ddah:function(e){var t=Math.max.apply(Math,Object(s.a)(e.map((function(e){return e.duties.length||0}))).concat([0])),n=Array.from({length:2*t},(function(e,t){return t%2===0?"Hours ".concat(t/2+1):"Duty ".concat((t-1)/2+1)}));return c([["Position","Last Name","First Name","email","Assignment Hours","Offer Status",""].concat(n)].concat(e.map((function(e){return[e.assignment.position.position_code,e.assignment.applicant.last_name,e.assignment.applicant.first_name,e.assignment.applicant.email,e.assignment.hours,e.assignment.active_offer_status,""].concat(function(e){var t=[],n=Object(s.a)(e.duties);n.sort((function(e,t){return e.order-t.order}));var r,i=Object(o.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;t.push(a.hours),t.push(a.description)}}catch(c){i.e(c)}finally{i.f()}return t}(e))}))))},assignment:function(e){var t=e.map((function(e){var t;return{first_name:e.applicant.first_name,last_name:e.applicant.last_name,utorid:e.applicant.utorid,email:e.applicant.email,position_code:e.position.position_code,start_date:e.start_date,end_date:e.end_date,contract_template:e.contract_override_pdf?null:e.position.contract_template.template_name,contract_override_pdf:e.contract_override_pdf,hours:e.hours,active_offer_status:e.active_offer_status,active_offer_recent_activity_date:e.active_offer_recent_activity_date,wage_chunks:null===(t=e.wage_chunks)||void 0===t?void 0:t.map((function(e){return{hours:e.hours,rate:e.rate,start_date:e.start_date,end_date:e.end_date}}))}}));return c([["Last Name","First Name","UTORid","Email","Position Code","Start Date","End Date","Hours","Contract Template","Contract Override PDF","Offer Status","Recent Activity Date","","Number of Pay Periods"].concat(Object(s.a)(f(t)))].concat(t.map((function(e){return[e.last_name,e.first_name,e.utorid,e.email,e.position_code,d(e.start_date),d(e.end_date),e.hours,e.contract_template,e.contract_override_pdf,e.active_offer_status,e.active_offer_recent_activity_date,null].concat(Object(s.a)(function(e){var t=[];if(!e)return t;t.push(e.length);var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.push(i.rate,i.hours,d(i.start_date),d(i.end_date))}}catch(a){r.e(a)}finally{r.f()}return t}(e.wage_chunks)))}))))}};function h(e,t){return a({toSpreadsheet:function(){return p.application(e)},toJson:function(){return{applications:e.map((function(e){return l.application(e)}))}}},t,"applications")}function m(e,t){return a({toSpreadsheet:function(){return p.posting(e)},toJson:function(){return{postings:[l.posting(e)]}}},t,"postings")}function b(e,t){return a({toSpreadsheet:function(){return p.applicant(e)},toJson:function(){return{applicants:e.map((function(e){return l.applicant(e)}))}}},t,"applicants")}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n,r){return t instanceof Function&&(n=t(n)),a({toSpreadsheet:function(){return p.assignment(n)},toJson:function(){return{assignments:n.map((function(t){return l.assignment(t,e)}))}}},r,"assignments")}}function j(e){return function(t,n){return e instanceof Function&&(t=e(t)),a({toSpreadsheet:function(){return p.ddah(t)},toJson:function(){return{ddahs:t.map((function(e){return l.ddah(e)}))}}},n,"ddahs")}}function g(e,t){return a({toSpreadsheet:function(){return p.instructor(e)},toJson:function(){return{instructors:e.map((function(e){return l.instructor(e)}))}}},t,"instructors")}function O(e,t){return a({toSpreadsheet:function(){return p.position(e)},toJson:function(){return{positions:e.map((function(e){return l.position(e)}))}}},t,"positions")}var y=n(1),w=n(100),_=n(107),x=n(282);function S(e,t){for(var n in t)t[n]===e&&delete t[n];return t}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e in t)return t[e];var n=Object(x.a)(Object.keys(t)),r=n.get(e,null,.7);if(r){var i=r[0][1];return t[i]}return null}var C=function(){function e(t){Object(w.a)(this,e),this.keys=void 0,this.keyMap=void 0,this.unmatchedKeys=void 0,this.empiricalKeyMap=void 0,this.unknownKeys=void 0,this.keys=t.keys,this.keyMap=Object(y.a)({},t.keyMap);var n,r=Object(o.a)(this.keys);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.keyMap[i]=i}}catch(a){r.e(a)}finally{r.f()}this.unmatchedKeys=Object(y.a)({},this.keyMap),this.empiricalKeyMap={},this.unknownKeys={}}return Object(_.a)(e,[{key:"formatRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},r=0,i=Object.entries(e);r<i.length;r++){var a=Object(u.a)(i[r],2),o=a[0],s=a[1];if(o in this.empiricalKeyMap)n[this.empiricalKeyMap[o]]=s;else if(!(o in this.unknownKeys)){var c=k(o,this.unmatchedKeys);null!=c?(t&&console.log("Assuming association between spreadsheet column",'"'.concat(o,'"'),"and the key",'"'.concat(c,'"')),this.empiricalKeyMap[o]=c,S(c,this.unmatchedKeys),n[c]=s):(t&&console.log("Could not find a key corresponding to spreadsheet column",'"'.concat(o,'"')),this.unknownKeys[o]=!0)}}return n}}]),e}();function A(e,t){var n=t.find((function(t){return t.utorid===e}));if(n)return n;var r,i={},a=Object(o.a)(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;i["".concat(s.last_name,", ").concat(s.first_name)]=s,i["".concat(s.first_name," ").concat(s.last_name)]=s}}catch(u){a.e(u)}finally{a.f()}var c=Object(x.a)(Object.keys(i)).get(e,null,.7);if(c)return i[Array.isArray(c)?c[0][1]:c];throw new Error('Could not find a match for "'.concat(e,'"'))}var E=n(122);function D(e,t){var n,r=t.requiredKeys,i=t.keys,a=Object(o.a)(e);try{for(a.s();!(n=a.n()).done;){var s,c=n.value,u=Object(o.a)(r);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(null==c[l])throw new Error('Item "'.concat(JSON.stringify(c),'" missing required property "').concat(l,'"'))}}catch(h){u.e(h)}finally{u.f()}var d,f=Object(o.a)(i);try{for(f.s();!(d=f.n()).done;){var p=d.value;void 0===c[p]&&(c[p]=null)}}catch(h){f.e(h)}finally{f.f()}}}catch(h){a.e(h)}finally{a.f()}}function T(e){if("number"===typeof e){var t=Math.round(86400*(e-25569)*1e3);e=new Date(t).toJSON().replace("Z","")}var n=E.parseDate(e);try{return n.toJSON().replace(/T.*/,"T00:00:00.000Z")}catch(r){throw new Error('Cannot parse "'.concat(e,'" as date'))}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[],requiredKeys:[],dateColumns:[],keyMap:{},primaryKey:"",baseName:""},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.keys,i=t.baseName,a=[];if("json"===e.fileType){var s=e.data;s[i]&&(s=s[i]);var c,u=Object(o.a)(s);try{for(u.s();!(c=u.n()).done;){var l,d=c.value,f={},p=Object(o.a)(r);try{for(p.s();!(l=p.n()).done;){var h=l.value;f[h]=d[h]}}catch(O){p.e(O)}finally{p.f()}a.push(f)}}catch(O){u.e(O)}finally{u.f()}}if("spreadsheet"===e.fileType){var m,b=e.data,v=new C(t),j=Object(o.a)(b);try{for(j.s();!(m=j.n()).done;){var g=m.value;a.push(v.formatRow(g,n))}}catch(O){j.e(O)}finally{j.f()}}return t.dateColumns&&t.dateColumns.length>0&&(a=a.map((function(e){var n,r=Object(y.a)({},e),i=Object(o.a)(t.dateColumns);try{for(i.s();!(n=i.n()).done;){var a=n.value;null!=r[a]&&(r[a]=T(r[a]))}}catch(O){i.e(O)}finally{i.f()}return r}))),D(a,t),a}var P=n(97),R={session:function(e,t){var n=(t||{}).id;return null!=n?Object(y.a)({id:n},e):e},contractTemplate:function(e,t){var n=(t||{}).id;return null!=n?Object(y.a)({id:n},e):e},instructor:function(e,t){var n=(t||{}).id;return null!=n?Object(y.a)({id:n},e):e},applicant:function(e,t){var n=(t||{}).id;return null!=n?Object(y.a)({id:n},e):e},position:function(e,t){var n=t||{},r=n.id,i=n.instructors,a=n.contractTemplates;if(!Array.isArray(i))throw new Error("You must pass an array of instructors to reconstruct a position");if(!Array.isArray(a))throw new Error("You must pass an array of contract templates to reconstruct a position");var o={position_code:e.position_code,position_title:e.position_title,hours_per_assignment:e.hours_per_assignment,start_date:e.start_date,end_date:e.end_date,duties:e.duties,qualifications:e.qualifications,desired_num_assignments:e.desired_num_assignments,current_enrollment:e.current_enrollment,current_waitlisted:e.current_waitlisted};null!=r&&(o.id=r);var s=a.find((function(t){return t.template_name===e.contract_template}));if(null==s)throw new Error("Couldn't find contract template with name \"".concat(e.contract_template,'"'));o.contract_template=s;var c=e.instructors.map((function(e){var t=i.find((function(t){return t.utorid===e}));if(null==t)throw new Error('Could not find instructor with utorid "'.concat(e,'"'));return t}));return o.instructors=c,o},wageChunk:function(e,t){var n=(t||{}).id;return null!=n?Object(y.a)({id:n},e):e},assignment:function(e,t){var n=t||{},r=n.id,i=n.positions,a=n.applicants,s=n.session;if(!Array.isArray(i))throw new Error("You must pass an array of positions to reconstruct an assignment");if(!Array.isArray(a))throw new Error("You must pass an array of applicants to reconstruct an assignment");if(!s)throw new Error("You must pass a session to reconstruct an assignment");var c={contract_override_pdf:e.contract_override_pdf};null!=r&&(c.id=r),null!=e.hours&&(c.hours=e.hours);var u=i.find((function(t){return t.position_code===e.position_code}));if(null==u)throw new Error('Cannot find position with position code "'.concat(e.position_code,'"'));c.position=u;var l=a.find((function(t){return t.utorid===e.utorid}));if(null==l)throw new Error("Couldn't find applicant with UTORid \"".concat(e.utorid,'"'));if(c.applicant=l,Array.isArray(e.wage_chunks)){var d,f=0,p=Object(o.a)(e.wage_chunks);try{for(p.s();!(d=p.n()).done;){f+=d.value.hours}}catch(h){p.e(h)}finally{p.f()}c.hours=f,c.wage_chunks=e.wage_chunks}return c.start_date=e.start_date||u.start_date,c.end_date=e.end_date||u.end_date,c},ddah:function(e,t){var n=t||{},r=n.id,i=n.assignments;if(!Array.isArray(i))throw new Error("You must pass an array of assignments to reconstruct a ddah");var a=i.find((function(t){return t.applicant.utorid===e.applicant&&t.position.position_code===e.position_code}));if(!a)throw new Error("Cannot find assignment corresponding to '".concat(e.position_code,"' and UTORid '").concat(e.applicant,"'"));var s,c=e.duties.map((function(e,t){return Object(y.a)(Object(y.a)({},e),{},{order:t+1})})),u=0,l=Object(o.a)(c);try{for(l.s();!(s=l.n()).done;){u+=s.value.hours}}catch(d){l.e(d)}finally{l.f()}return u=Object(P.i)(u,2),null==r?{assignment:a,duties:c,total_hours:u,status:null}:{id:r,assignment:a,duties:c,total_hours:u,status:null}},posting:function(e,t){var n=t||{},r=n.id,i=n.positions;if(!Array.isArray(i))throw new Error("You must pass a positions list to create a posting");var a={name:e.name,applications:[],availability:"auto",open_date:e.open_date,close_date:e.close_date,custom_questions:e.custom_questions,intro_text:e.intro_text,url_token:"",posting_positions:[]},o=e.posting_positions.map((function(e){var t=i.find((function(t){return t.position_code===e.position_code}));if(null==t)throw new Error('Could not find position corresponding to "'.concat(e.position_code,'"'));return{hours:e.hours,num_positions:e.num_positions,position:t,posting:a}}));return null!=r&&(a.id=r),a.posting_positions=o,a}};function H(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=[];if("json"===e.fileType){var a=e.data;a.ddahs&&(a=a.ddahs);var c,u=Object(o.a)(a);try{for(u.s();!(c=u.n()).done;){var l=c.value;i.push(l)}}catch(S){u.e(S)}finally{u.f()}}if("spreadsheet"===e.fileType){var d=e.data,f=Math.round(Math.max.apply(Math,Object(s.a)(d.map((function(e){return Object.keys(e).length}))).concat([0]))/2);f+=50;for(var p={Position:"position_code","First Name":"first_name","Given Name":"first_name",First:"first_name","Last Name":"last_name",Surname:"last_name","Family Name":"last_name",Last:"last_name"},h=0;h<=f;h++)p["Duty ".concat(h)]="duty_".concat(h),p["Hours ".concat(h)]="hours_".concat(h),h<10&&(p["Duty 0".concat(h)]="duty_".concat(h),p["Hours 0".concat(h)]="hours_".concat(h));var m,b=new C({keys:["position_code","first_name","last_name","utorid"],keyMap:p}),v=Object(o.a)(d);try{for(v.s();!(m=v.n()).done;){var j=m.value,g=b.formatRow(j,n);if(r&&(g.position_code=r),null==g.utorid){var O=A("".concat(g.first_name," ").concat(g.last_name),t);g.utorid=O.utorid,delete g.first_name,delete g.last_name}for(var y=[],w=0;w<=f;w++){var _=g["duty_".concat(w)],x=g["hours_".concat(w)];null==_&&null==x||(y.push({description:_||"",hours:x||0}),delete g["duty_".concat(w)],delete g["hours_".concat(w)])}i.push({position_code:g.position_code,applicant:g.utorid,duties:y})}}catch(S){v.e(S)}finally{v.f()}}return i}},134:function(e,t,n){"use strict";n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return k})),n.d(t,"f",(function(){return D})),n.d(t,"b",(function(){return T})),n.d(t,"g",(function(){return N})),n.d(t,"a",(function(){return F}));var r=n(1),i=n(121),a=n(21),o=n(24),s=n.n(o),c=n(35),u=n(2),l=n(103),d=n(106),f=n(101),p=n(37),h=n(110),m=n(149),b=n(140),v=n(104),j=n(192),g=n(109),O=Object(d.a)(u.u),y=Object(d.a)(u.C),w=Object(d.a)(u.eb),_=Object(d.a)(u.g),x=new Error("Cannot interact with Assignments without an active session"),S=Object(d.g)({name:"fetchAssignments",description:"Fetch assignments",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(){return function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(v.a)(n()),null!=(i=Object(g.a)(n()))){e.next=4;break}throw x;case 4:return a=i.id,e.next=7,Object(f.a)("/".concat(r,"/sessions/").concat(a,"/assignments"));case 7:return o=e.sent,Object(d.e)(a,n)&&t(O(o)),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),k=Object(d.g)({name:"fetchAssignment",description:"Fetch assignment",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(v.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/assignments/").concat(e.id));case 3:return a=t.sent,n(y(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),C=Object(d.c)("applicant","applicant_id"),A=Object(d.c)("position","position_id");function E(e){return A(C(e))}var D=Object(d.g)({name:"upsertAssignment",description:"Add/insert assignment",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(v.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/assignments"),E(e));case 3:if(a=t.sent,n(w(a)),!e.wage_chunks){t.next=11;break}return t.next=8,n(Object(j.b)(a,e.wage_chunks));case 8:return t.next=10,n(k(a));case 10:a=t.sent;case 11:return n(w(a)),t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),T=(Object(d.g)({name:"deleteAssignment",description:"Delete assignment",onErrorDispatch:function(e){return Object(l.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(v.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/assignments/delete"),E(e));case 3:a=t.sent,n(_(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(d.g)({name:"exportAssignments",description:"Export assignments",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(c.a)(s.a.mark((function n(r,i){var o,c,u,l,d;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,r(S());case 4:return o=F(i()),c=o.map((function(e){return r(Object(j.a)(e))})),n.next=8,Promise.all(c);case 8:u=Object(a.a)(o);try{for(u.s();!(l=u.n()).done;)(d=l.value).wage_chunks=Object(j.c)(i())(d)}catch(s){u.e(s)}finally{u.f()}return n.abrupt("return",e(o,t));case 11:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})),N=Object(d.g)({name:"upsertAssignments",description:"Upsert a list of assignments",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return r=e.map((function(e){return n(D(e))})),t.next=5,Promise.all(r);case 5:return t.next=7,n(S());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}});function P(e,t){if(!t)return!0;var n,r=0,i=Object(a.a)(t);try{for(i.s();!(n=i.n()).done;){r+=n.value.hours}}catch(o){i.e(o)}finally{i.f()}return r===e.hours}var R=p.a._localStoreSelector,H=Object(h.a)(R,(function(e){return e._modelData})),I=Object(h.a)(R,(function(e){return e._offersByAssignmentId})),F=Object(h.a)([H,m.a,b.e,j.c,I],(function(e,t,n,a,o){if(0===e.length)return[];var s=Object(d.b)(t),c=Object(d.b)(n);return e.map((function(e){var t=e.position_id,n=e.applicant_id,u=Object(i.a)(e,["position_id","applicant_id"]),l=a(e),d=o[e.id];return Object(r.a)(Object(r.a)({},u),{},{position:c[t]||{},applicant:s[n]||{},wage_chunks:P(e,l)?l:null,offers:d})})).filter((function(e){return null!=e.position.id&&null!=e.applicant.id}))}))},140:function(e,t,n){"use strict";n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return _})),n.d(t,"f",(function(){return C})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return E})),n.d(t,"g",(function(){return D})),n.d(t,"e",(function(){return P}));var r=n(1),i=n(121),a=n(24),o=n.n(a),s=n(35),c=n(2),u=n(103),l=n(106),d=n(101),f=n(40),p=n(110),h=n(166),m=n(167),b=n(104),v=n(109),j=Object(l.a)(c.M),g=Object(l.a)(c.I),O=Object(l.a)(c.jb),y=Object(l.a)(c.l),w=new Error("Cannot interact with Positions without an active session"),_=Object(l.g)({name:"fetchPositions",description:"Fetch positions",onErrorDispatch:function(e){return Object(u.c)(e.toString())},dispatcher:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=Object(v.a)(n()))){e.next=3;break}throw w;case 3:return i=r.id,a=Object(b.a)(n()),e.next=7,Object(d.a)("/".concat(a,"/sessions/").concat(i,"/positions"));case 7:return s=e.sent,Object(l.e)(i,n)&&t(j(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),x=(Object(l.g)({name:"fetchPosition",description:"Fetch position",onErrorDispatch:function(e){return Object(u.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(i=Object(v.a)(r()))){t.next=3;break}throw w;case 3:return a=i.id,s=Object(b.a)(r()),t.next=7,Object(d.a)("/".concat(s,"/sessions/").concat(a,"/positions/").concat(e.id));case 7:c=t.sent,n(g(c));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(l.c)("instructors","instructor_ids")),S=Object(l.c)("contract_template","contract_template_id");function k(e){return S(x(e))}var C=Object(l.g)({name:"upsertPosition",description:"Add/insert position",onErrorDispatch:function(e){return Object(u.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a,s,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(i=Object(v.a)(r()))){t.next=3;break}throw w;case 3:return a=i.id,s=Object(b.a)(r()),t.next=7,Object(d.b)("/".concat(s,"/sessions/").concat(a,"/positions"),k(e));case 7:return c=t.sent,n(O(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),A=Object(l.g)({name:"deletePosition",description:"Delete position",onErrorDispatch:function(e){return Object(u.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(b.a)(r()),t.next=3,Object(d.b)("/".concat(i,"/positions/delete"),k(e));case 3:a=t.sent,n(y(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),E=Object(l.g)({name:"exportPositions",description:"Export positions",onErrorDispatch:function(e){return Object(u.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(s.a)(o.a.mark((function n(r,i){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,r(_());case 4:return a=P(i()),n.abrupt("return",e(a,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),D=Object(l.g)({name:"upsertPositions",description:"Upsert a list of positions",onErrorDispatch:function(e){return Object(u.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return r=e.map((function(e){return n(C(e))})),t.next=5,Promise.all(r);case 5:return t.next=7,n(_());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),T=f.a._localStoreSelector,N=Object(p.a)(T,(function(e){return e._modelData})),P=Object(p.a)([N,h.e,m.b],(function(e,t,n){var a=Object(l.b)(t),o=Object(l.b)(n);return e.map((function(e){var t=e.instructor_ids,n=e.contract_template_id,s=Object(i.a)(e,["instructor_ids","contract_template_id"]);return Object(r.a)(Object(r.a)({},s),{},{instructors:t.map((function(e){return a[e]})).filter((function(e){return e})),contract_template:o[n]})}))}))},141:function(e,t,n){"use strict";n.d(t,"g",(function(){return S})),n.d(t,"a",(function(){return A})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return D})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return N})),n.d(t,"i",(function(){return P})),n.d(t,"d",(function(){return R})),n.d(t,"b",(function(){return z}));var r=n(1),i=n(121),a=n(21),o=n(24),s=n.n(o),c=n(35),u=n(2),l=n(103),d=n(106),f=n(101),p=n(110),h=n(104),m=n(10),b=n(134),v=n(109),j=n(97),g=Object(d.a)(u.w),O=Object(d.a)(u.E),y=Object(d.a)(u.gb),w=Object(d.a)(u.i),_=Object(d.a)(u.c),x=Object(d.a)(u.d),S=Object(d.g)({name:"fetchDdahs",description:"Fetch DDAHs",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(){return function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,i,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(n()),null!=(i=Object(v.a)(n()))){e.next=4;break}throw new Error("Cannot fetch DDAHs without an active session");case 4:return a=i.id,e.next=7,Object(f.a)("/".concat(r,"/sessions/").concat(a,"/ddahs"));case 7:return o=e.sent,Object(d.e)(a,n)&&t(g(o)),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),k=(Object(d.g)({name:"fetchDdah",description:"Fetch a DDAH",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/ddahs/").concat(e.id));case 3:return a=t.sent,n(O(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(d.c)("assignment","assignment_id"));function C(e){return Object(d.d)(e,"assignment")?k(e):e}var A=Object(d.g)({name:"approveDdah",description:"Set a DDAH's status to approved",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/ddahs/").concat(e.id,"/approve"));case 3:return a=t.sent,n(_(a)),n(y(a)),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),E=Object(d.g)({name:"emailDdah",description:"Email a DDAH",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/ddahs/").concat(e.id,"/email"));case 3:return a=t.sent,n(x(a)),n(y(a)),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),D=Object(d.g)({name:"upsertDdah",description:"Add/insert a DDAH",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/ddahs"),C(e));case 3:return a=t.sent,n(y(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),T=Object(d.g)({name:"deleteDdah",description:"Delete a DDAH",onErrorDispatch:function(e){return Object(l.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n,r){var i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/ddahs/").concat(e.id,"/delete"),C(e));case 3:a=t.sent,n(w(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),N=Object(d.g)({name:"exportDdahs",description:"Export DDAHs",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(c.a)(s.a.mark((function n(r,i){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,r(S());case 4:return a=z(i()),n.abrupt("return",e(a,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),P=Object(d.g)({name:"upsertDdahs",description:"Upsert a list of DDAHs",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return r=e.map((function(e){return n(D(e))})),t.next=5,Promise.all(r);case 5:return t.next=7,n(S());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),R=Object(d.g)({name:"downloadDdahAcceptedList",description:"Download a pdf list of accepted DDAHs for the active session",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(){return function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,i,a,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.a)(n()),null!=(i=Object(v.a)(n()))){e.next=4;break}throw new Error("Cannot fetch DDAHs without an active session");case 4:return a=i.id,e.next=7,Object(f.a)("/".concat(r,"/sessions/").concat(a,"/ddahs/accepted_list.pdf"));case 7:return o=e.sent,c=new Uint8Array(atob(o.content).split("").map((function(e){return e.charCodeAt(0)}))),e.abrupt("return",new File([c],o.file_name,{type:o.mime_type}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}});function H(e){var t,n=0,r=Object(a.a)(e.duties);try{for(r.s();!(t=r.n()).done;){n+=t.value.hours}}catch(i){r.e(i)}finally{r.f()}return Object(j.i)(n,2)}var I=m.e._localStoreSelector,F=Object(p.a)(I,(function(e){return e._modelData})),z=Object(p.a)([F,b.a],(function(e,t){if(0===e.length)return[];var n=Object(d.b)(t);return e.map((function(e){var t,a=e.assignment_id,o=Object(i.a)(e,["assignment_id"]);return Object(r.a)(Object(r.a)({},o),{},{status:(t=o,t.accepted_date?"accepted":t.emailed_date?"emailed":null),total_hours:H(o),assignment:n[a]||{}})})).filter((function(e){return null!=e.assignment.id}))}))},143:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return _}));var r=n(24),i=n.n(r),a=n(35),o=n(34),s=n(109),c=n(104),u=n(149),l=n(191),d=n(134),f=n(167),p=n(166),h=n(140),m=n(193),b=n(168),v=n(141),j=n(276),g=n(165);function O(e){if(null!=e){var t=n(323).mockAPI;!0===e?t.replaceGlobalFetch():t.restoreGlobalFetch()}}function y(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=Object(o.a)(r[n],2),a=i[0],s=i[1];null!=s&&(t[a]=s)}return t}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{startAfterStage:!1},n=t.startAfterStage?1:0;return function(){var t=Object(a.a)(i.a.mark((function t(r,a){var o,g,w,x,S,k,C,A,E;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w=function(t){var r=["pageLoad","toggleMockAPI","setActiveUser","setActiveUserRole","fetchInstructors","fetchSessions","setActiveSession","updateGlobals","fetchSessionDependentData"],i=r.indexOf(e)+n<=r.indexOf(t);if(i&&"setActiveSession"===t){var c=a(),u=Object(s.d)(c),l=Object(s.a)(c)||{id:o.activeSession};return u.find((function(e){return e.id===l.id}))}if(i&&"fetchSessionDependentData"===t){var d=a(),f=Object(s.a)(d);return null!=(null===f||void 0===f?void 0:f.id)}return i},o={mockAPI:null,activeSession:null,role:null},g=[],!w("pageLoad")){t.next=8;break}if(!window.location){t.next=8;break}return Object.assign(o,Object(b.a)(window.location.search)),t.next=8,r(Object(m.b)(y(o)));case 8:if(w("toggleMockAPI")&&O(Object(m.a)(a()).mockAPI),!w("setActiveUser")){t.next=12;break}return t.next=12,r(Object(c.f)());case 12:if(!w("setActiveUserRole")){t.next=18;break}return r(_()),r(Object(p.d)([])),x=Object(c.a)(a()),t.next=18,r(Object(c.g)(x,{skipInit:!0}));case 18:if(w("fetchInstructors")&&g.push(r(Object(p.c)()).catch(console.log)),!w("fetchSessions")){t.next=22;break}return t.next=22,r(Object(s.c)());case 22:if(!w("setActiveSession")){t.next=29;break}return S=a(),k=Object(s.d)(S),C=Object(s.a)(S),A=k.find((function(e){return e.id===o.activeSession}))||C,t.next=29,r(Object(s.e)(A,{skipInit:!0}));case 29:if(!w("updateGlobals")){t.next=32;break}return t.next=32,r(Object(m.b)(y(o)));case 32:if(!w("fetchSessionDependentData")){t.next=38;break}return t.next=35,r(_());case 35:return E=[f.e,u.d,h.c,l.b,d.d,v.g,j.a],t.next=38,Promise.all(E.map((function(e){return r(e())})));case 38:return t.next=40,Promise.all(g);case 40:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}function _(){return function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t(Object(j.b)([])),t(Object(u.e)([])),t(Object(d.e)([])),t(Object(f.f)([])),t(Object(l.c)([])),t(Object(h.d)([])),t(Object(g.f)([])),t(Object(g.d)([]))]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},149:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return j})),n.d(t,"f",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"a",(function(){return x}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(42),d=n(110),f=n(104),p=n(109),h=Object(c.a)(o.s),m=Object(c.a)(o.A),b=Object(c.a)(o.cb),v=Object(c.a)(o.e),j=Object(c.g)({name:"fetchApplicants",description:"Fetch applicants",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(f.a)(n()),null!=(a=Object(p.a)(n()))){e.next=4;break}throw new Error("Cannot fetch DDAHs without an active session");case 4:return o=a.id,e.next=7,Object(u.a)("/".concat(r,"/sessions/").concat(o,"/applicants"));case 7:return s=e.sent,Object(c.e)(o,n)&&t(h(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),g=(Object(c.g)({name:"fetchApplicant",description:"Fetch applicant",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.a)("/".concat(a,"/applicants/").concat(e.id));case 3:return o=t.sent,n(m(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"upsertApplicant",description:"Add/insert applicant",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o,s,c,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Object(f.a)(a()),!t){n.next=11;break}if(null!=(c=Object(p.a)(a()))){n.next=5;break}throw new Error("Cannot fetch DDAHs without an active session");case 5:return l=c.id,n.next=8,Object(u.b)("/".concat(o,"/sessions/").concat(l,"/applicants"),e);case 8:s=n.sent,n.next=14;break;case 11:return n.next=13,Object(u.b)("/".concat(o,"/applicants"),e);case 13:s=n.sent;case 14:return r(b(s)),n.abrupt("return",s);case 16:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})),O=Object(c.g)({name:"deleteApplicant",description:"Delete applicant",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/applicants/delete"),e);case 3:return o=t.sent,n(v(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),y=Object(c.g)({name:"exportApplicants",description:"Export applicants",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,r(j());case 4:return o=x(a()),n.abrupt("return",e(o,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),w=Object(c.g)({name:"upsertApplicants",description:"Upsert applicants",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return r=e.map((function(e){return n(g(e))})),t.next=5,Promise.all(r);case 5:return t.next=7,n(j());case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),_=l.a._localStoreSelector,x=Object(d.a)(_,(function(e){return e._modelData}))},165:function(e,t,n){"use strict";n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"i",(function(){return C})),n.d(t,"g",(function(){return A})),n.d(t,"c",(function(){return E})),n.d(t,"j",(function(){return D})),n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return N})),n.d(t,"h",(function(){return F}));var r=n(1),i=n(34),a=n(24),o=n.n(a),s=n(35),c=n(110),u=n(2),l=n(103),d=n(106),f=n(101),p=n(44),h=n(104),m=n(45),b=n(140),v=Object(d.a)(u.N),j=Object(d.a)(u.K),g=Object(d.a)(u.lb),O=Object(d.a)(u.n),y=Object(d.a)(u.O),w=Object(d.a)(u.J),_=Object(d.a)(u.kb),x=Object(d.a)(u.m),S=Object(d.g)({name:"fetchPostings",description:"Fetch postings",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=n().model.sessions.activeSession)){e.next=3;break}throw new Error("Cannot fetch Postings without an active session");case 3:return i=r.id,a=Object(h.a)(n()),e.next=7,Object(f.a)("/".concat(a,"/sessions/").concat(i,"/postings"));case 7:return s=e.sent,Object(d.e)(i,n)&&t(v(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}});Object(d.g)({name:"fetchPosting",description:"Fetch posting",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/postings/").concat(e.id));case 3:return a=t.sent,n(j(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}});function k(e){var t=Object(d.f)(e,["posting_positions","applications"]),n=Object(i.a)(t,2),r=n[0];n[1];return r}var C=Object(d.g)({name:"upsertPosting",description:"Add/insert posting",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,i){var a,s,c,u,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(h.a)(i()),null!=(s=i().model.sessions.activeSession)){t.next=4;break}throw new Error("Cannot fetch Postings without an active session");case 4:return c=s.id,t.next=7,Object(f.b)("/".concat(a,"/sessions/").concat(c,"/postings"),k(e));case 7:if(u=t.sent,n(g(u)),l=e.posting_positions,!Array.isArray(l)){t.next=14;break}return d=u.id,t.next=14,Promise.all(l.map((function(e){return n(D(Object(r.a)(Object(r.a)({},e),{},{posting_id:d,posting:Object(r.a)(Object(r.a)({},e.posting),{},{id:d})})))})));case 14:return t.abrupt("return",u);case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),A=(Object(d.g)({name:"deletePosting",description:"Delete posting",onErrorDispatch:function(e){return Object(l.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.b)("/".concat(i,"/postings/delete"),e);case 3:a=t.sent,n(O(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(d.g)({name:"fetchSurvey",description:"Fetch the survey associated with a posting",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/postings/").concat(e.id,"/survey"));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),E=(Object(d.g)({name:"fetchPostingPositions",description:"Fetch posting_positions",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(){return function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=n().model.sessions.activeSession)){e.next=3;break}throw new Error("Cannot fetch PostingPositions without an active session");case 3:return i=r.id,a=Object(h.a)(n()),e.next=7,Object(f.a)("/".concat(a,"/sessions/").concat(i,"/posting_positions"));case 7:return s=e.sent,t(y(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),Object(d.g)({name:"fetchPostingPositionsForPosting",description:"Fetch posting_positions for a particular posting",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/postings/").concat(e.id,"/posting_positions"));case 3:return a=t.sent,n(y(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),D=(Object(d.g)({name:"fetchPostingPosition",description:"Fetch posting_position",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(h.a)(r()),t.next=3,Object(f.a)("/".concat(i,"/posting_positions/").concat(e.id));case 3:return a=t.sent,n(w(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(d.g)({name:"upsertPostingPosition",description:"Add/insert posting_position",onErrorDispatch:function(e){return Object(l.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=P(e),a=Object(h.a)(r()),t.next=4,Object(f.b)("/".concat(a,"/posting_positions"),i);case 4:return s=t.sent,n(_(s)),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),T=Object(d.g)({name:"deletePostingPosition",description:"Delete posting_position",onErrorDispatch:function(e){return Object(l.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(s.a)(o.a.mark((function t(n,r){var i,a,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=P(e),a=Object(h.a)(r()),t.next=4,Object(f.b)("/".concat(a,"/posting_positions/delete"),i);case 4:s=t.sent,n(x(s));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),N=Object(d.g)({name:"exportPosting",description:"Export a posting",onErrorDispatch:function(e){return Object(l.c)(e.toString())},dispatcher:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"spreadsheet";return function(){var r=Object(s.a)(o.a.mark((function r(i,a){var s,c;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t instanceof Function){r.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return r.next=4,Promise.all([i(S())]);case 4:if(s=F(a()),null!=(c=s.find((function(t){return t.id===e})))){r.next=8;break}throw new Error("Could not find posting with id ".concat(e));case 8:return r.abrupt("return",t(c,n));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}});function P(e){if(function(e){return null!=e&&"object"===typeof e&&"posting_id"in e&&"position_id"in e}(e))return e;var t=Object(d.f)(e,["position","posting"]),n=Object(i.a)(t,2),a=n[0],o=n[1];return Object(r.a)(Object(r.a)({},a),{},{position_id:o.position.id,posting_id:o.posting.id})}function R(e,t,n){var a=new Map(n.map((function(e){return[e.id,e]}))),o=Object(d.f)(e,["application_ids"]),s=Object(i.a)(o,2),c=s[0],u=(s[1],Object(r.a)(Object(r.a)({},c),{},{applications:[],posting_positions:[]})),l=t.filter((function(t){return t.posting_id===e.id})).filter((function(e){return a.has(e.position_id)})).map((function(e){var t=Object(d.f)(e,["position_id","posting_id"]),n=Object(i.a)(t,2),o=n[0],s=n[1];return Object(r.a)(Object(r.a)({},o),{},{position:a.get(s.position_id),posting:u})}));return u.posting_positions=l,{posting:u,postingPositions:l}}var H=p.a._localStoreSelector,I=m.a._localStoreSelector,F=Object(c.a)(H,I,b.e,(function(e,t,n){var r=t._modelData;return e._modelData.map((function(e){return R(e,r,n)})).map((function(e){return e.posting}))}));Object(c.a)(I,H,b.e,(function(e,t,n){var r=e._modelData;return t._modelData.map((function(e){return R(e,r,n)})).map((function(e){return e.postingPositions})).flat()}))},166:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return j})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return y})),n.d(t,"e",(function(){return _}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(41),d=n(110),f=n(104),p=Object(c.a)(o.x),h=Object(c.a)(o.G),m=Object(c.a)(o.ib),b=Object(c.a)(o.k),v=Object(c.g)({name:"fetchInstructors",description:"Fetch instructors",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.a)(n()),e.next=3,Object(u.a)("/".concat(r,"/instructors"));case 3:return a=e.sent,t(p(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),j=(Object(c.g)({name:"fetchInstructor",description:"Fetch instructor",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.a)("/".concat(a,"/instructors/").concat(e.id));case 3:return o=t.sent,n(h(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"upsertInstructor",description:"Add/insert instructor",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/instructors"),e);case 3:return o=t.sent,n(m(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),g=Object(c.g)({name:"deleteInstructor",description:"Delete instructor",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/instructors/delete"),e);case 3:o=t.sent,n(b(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),O=Object(c.g)({name:"exportInstructors",description:"Export instructors",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,r(v());case 4:return o=_(a()),n.abrupt("return",e(o,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),y=Object(c.g)({name:"upsertInstructors",description:"Upsert instructors",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return");case 2:return r=e.map((function(e){return n(j(e))})),t.next=5,Promise.all(r);case 5:return t.next=7,n(v());case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w=l.a._localStoreSelector,_=Object(d.a)(w,(function(e){return e._modelData}))},167:function(e,t,n){"use strict";n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return O})),n.d(t,"i",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"h",(function(){return S})),n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return A}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(43),d=n(110),f=n(104),p=n(111),h=n(109),m=Object(c.a)(o.v),b=Object(c.a)(o.r),v=Object(c.a)(o.fb),j=Object(c.a)(o.h),g=new Error("Cannot interact with Contract Templates without an active session"),O=Object(c.g)({name:"fetchContractTemplates",description:"Fetch contract_templates",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(f.a)(n()),null!=(a=Object(h.a)(n()))){e.next=4;break}throw g;case 4:return o=a.id,e.next=7,Object(u.a)("/".concat(r,"/sessions/").concat(o,"/contract_templates"));case 7:return s=e.sent,Object(c.e)(o,n)&&t(m(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),y=Object(c.g)({name:"upsertContractTemplate",description:"Add/insert contract_template",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(f.a)(r()),null!=(o=Object(h.a)(r()))){t.next=4;break}throw g;case 4:return s=o.id,t.next=7,Object(u.b)("/".concat(a,"/sessions/").concat(s,"/contract_templates"),e);case 7:return c=t.sent,n(v(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),w=(Object(c.g)({name:"deleteContractTemplate",description:"Delete contract_template from a session",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(f.a)(r()),null!=(o=Object(h.a)(r()))){t.next=4;break}throw g;case 4:return s=o.id,t.next=7,Object(u.b)("/".concat(a,"/sessions/").concat(s,"/contract_templates/delete"),e);case 7:return c=t.sent,n(j(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"fetchAllContractTemplates",description:"Fetch all available contract_templates",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.a)(n()),e.next=3,Object(u.a)("/".concat(r,"/available_contract_templates"));case 3:return a=e.sent,t(b(a)),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}})),_=Object(c.g)({name:"previewContractTemplate",description:"Preview the html content of a contract template. No redux state is set by this call, but the contents of the template is returned.",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.a)("/".concat(a,"/contract_templates/").concat(e,"/view"));case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),x=Object(c.g)({name:"downloadContractTemplate",description:"Download the content of a contract template. No redux state is set by this call, but a `File` object with the contents of the template is returned.",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),t.next=3,Object(u.a)("/".concat(a,"/contract_templates/").concat(e,"/download"));case 3:return o=t.sent,s=new Uint8Array(atob(o.content).split("").map((function(e){return e.charCodeAt(0)}))),t.abrupt("return",new File([s],o.file_name,{type:o.mime_type}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),S=Object(c.g)({name:"uploadContractTemplate",description:"Upload the `File` object as a contract template",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(f.a)(r()),o=e.name,t.t0=Uint8Array,t.next=5,e.arrayBuffer();case 5:return t.t1=t.sent,s=new t.t0(t.t1),c=Object(p.c)(s),t.next=10,Object(u.b)("/".concat(a,"/contract_templates/upload"),{file_name:o,content:c});case 10:return l=t.sent,n(b(l)),t.abrupt("return",l);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),k=l.a._localStoreSelector,C=Object(d.a)(k,(function(e){return e._modelData})),A=Object(d.a)(k,(function(e){return e.all}))},168:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(34),i=n(21);function a(e){if("string"===typeof e&&""!==e&&!Number.isNaN(+e))return+e;try{return JSON.parse(e)}catch(t){return e}}function o(e){var t,n=new URLSearchParams(e),o={},s=Object(i.a)(n.entries());try{for(s.s();!(t=s.n()).done;){var c=Object(r.a)(t.value,2),u=c[0],l=c[1];o[u]=a(l)}}catch(d){s.e(d)}finally{s.f()}return o}},171:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var o=i.apply(null,r);o&&e.push(o)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},190:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(2),i=function(e,t){return{type:r.b,payload:{id:e,message:t}}},a=function(e){return{type:r.a,payload:{id:e}}}},191:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"a",(function(){return _}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(149),d=n(104),f=n(109),p=n(165),h=n(211),m=Object(c.a)(o.t),b=Object(c.a)(o.B),v=Object(c.a)(o.db),j=Object(c.a)(o.f),g=Object(c.c)("applicant","applicant_id");function O(e){return g(e)}var y=Object(c.g)({name:"fetchApplications",description:"Fetch applications",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(d.a)(n()),null!=(a=Object(f.a)(n()))){e.next=4;break}throw new Error("Cannot fetch Applications without an active session");case 4:return o=a.id,e.next=7,Object(u.a)("/".concat(r,"/sessions/").concat(o,"/applications"));case 7:return s=e.sent,Object(c.e)(o,n)&&t(m(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),w=(Object(c.g)({name:"fetchApplication",description:"Fetch application",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(d.a)(r()),null!=(o=Object(f.a)(r()))){t.next=4;break}throw new Error("Cannot fetch Applications without an active session");case 4:return s=o.id,t.next=7,Object(u.a)("/".concat(a,"/sessions/").concat(s,"/applications/").concat(e.id));case 7:return c=t.sent,n(b(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"upsertApplication",description:"Add/insert application",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(d.a)(r()),null!=(o=Object(f.a)(r()))){t.next=4;break}throw new Error("Cannot upsert Applications without an active session");case 4:return s=o.id,t.next=7,Object(u.b)("/".concat(a,"/sessions/").concat(s,"/applications"),O(e));case 7:return c=t.sent,n(v(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),_=(Object(c.g)({name:"deleteApplication",description:"Delete application",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(d.a)(r()),null!=(o=Object(f.a)(r()))){t.next=4;break}throw new Error("Cannot delete Applications without an active session");case 4:return s=o.id,t.next=7,Object(u.b)("/".concat(a,"/sessions/").concat(s,"/applications/delete"),O(e));case 7:c=t.sent,n(j(c));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"exportApplications",description:"Export applications",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"spreadsheet";return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e instanceof Function){n.next=2;break}throw new Error('"formatter" must be a function when using the export action.');case 2:return n.next=4,Promise.all([r(Object(l.d)()),r(Object(p.e)()),r(y())]);case 4:return o=Object(h.a)(a()),n.abrupt("return",e(o,t));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}))},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return y}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(110),d=n(37),f=n(134),p=n(104),h=Object(c.a)(o.R),m=Object(c.a)(o.pb),b=Object(c.a)(o.nb),v=Object(c.a)(o.p),j=Object(c.g)({name:"fetchWageChunksForAssignment",description:"Fetch wage chunks associated with an assignment",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(p.a)(r()),o=e.id,t.next=4,Object(u.a)("/".concat(a,"/assignments/").concat(o,"/wage_chunks"));case 4:s=t.sent,n(h(s));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),g=Object(c.g)({name:"upsertWageChunksForAssignment",description:"Fetch wage chunks associated with an assignment",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e,t){return function(){var n=Object(a.a)(i.a.mark((function n(r,a){var o,s,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=Object(p.a)(a()),s=e.id,n.next=4,Object(u.b)("/".concat(o,"/assignments/").concat(s,"/wage_chunks"),t);case 4:return c=n.sent,r(m(c)),n.next=8,r(Object(f.c)(e));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}),O=(Object(c.g)({name:"upsertWageChunk",description:"Add/insert wage chunk",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(p.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/wage_chunks"),e);case 3:o=t.sent,n(b(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"deleteWageChunk",description:"Delete a wage chunk",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(p.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/wage_chunks/delete"),e);case 3:o=t.sent,n(v(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),d.a._localStoreSelector),y=Object(l.a)(O,(function(e){return function(t){var n=t.id;return e._wageChunksByAssignmentId[n]?e._wageChunksByAssignmentId[n]:[]}}))},193:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return b}));var r=n(121),i=n(34),a=n(24),o=n.n(a),s=n(1),c=n(35),u=n(106),l=n(103),d=n(109),f=n(148),p=Object(u.g)({name:"setGlobals",description:"Sets global variables",onErrorDispatch:function(e){return Object(l.a)(e.toString())},dispatcher:function(e){return function(){var t=Object(c.a)(o.a.mark((function t(n,r){var i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(s.a)(Object(s.a)({},b(r())),e),t.next=3,n(h(i));case 3:n({type:"SET_GLOBALS",payload:i});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),h=Object(u.g)({name:"setGlobalsInUrl",description:"Stores global variables in the URL",onErrorDispatch:function(e){return Object(l.a)(e.toString())},dispatcher:function(e){return Object(c.a)(o.a.mark((function t(){var n,r,a,s,c,u,l,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=new URLSearchParams,r=0,a=Object.entries(e);r<a.length;r++)s=Object(i.a)(a[r],2),c=s[0],u=s[1],n.append(c,JSON.stringify(u));window.history.pushState&&(""+n).length>0&&((l=new URL(""+window.location)).search="?"+n,""+(d=""+l)!==""+window.location&&window.history.pushState({path:d},"",d));case 3:case"end":return t.stop()}}),t)})))}}),m=Object(u.g)({name:"setMockAPIState",description:"Activates or deactivates the mockAPI",onErrorDispatch:function(e){return Object(l.a)(e.toString())},dispatcher:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipInit:!1};return function(){var n=Object(c.a)(o.a.mark((function n(r){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r(p({mockAPI:e}));case 2:if(t.skipInit){n.next=5;break}return n.next=5,r(Object(f.b)("toggleMockAPI"));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}),b=function(e){var t=e.ui.globals,n=(t.activeSession,Object(r.a)(t,["activeSession"])),i=Object(d.a)(e);return null!=i&&null!=i.id?Object(s.a)(Object(s.a)({},n),{},{activeSession:i.id}):n}},196:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s}));var r={keys:["first_name","last_name","utorid","email"],keyMap:{"First Name":"first_name","Given Name":"first_name",First:"first_name","Last Name":"last_name",Surname:"last_name","Family Name":"last_name",Last:"last_name"},requiredKeys:["utorid"],primaryKey:"utorid",dateColumns:[],baseName:"instructors"},i={keys:["first_name","last_name","utorid","email","student_number","phone"],keyMap:{"First Name":"first_name","Given Name":"first_name",First:"first_name","Last Name":"last_name",Surname:"last_name","Family Name":"last_name",Last:"last_name","Student Number":"student_number"},requiredKeys:["utorid"],primaryKey:"utorid",dateColumns:[],baseName:"applicants"},a={keys:["name","open_date","close_date","intro_text","custom_questions","position_code","num_positions","hours","posting_positions"],keyMap:{Name:"name","Open Date":"open_date","Close Date":"close_date","Intro Text":"intro_text","Custom Questions":"custom_questions","Position Code":"position_code","Num Positions":"num_positions","Hours per Assignment":"hours","Hours per Position":"hours"},requiredKeys:[],primaryKey:"name",dateColumns:["open_date","close_date"],baseName:"postings"},o={keys:["position_code","position_title","start_date","end_date","hours_per_assignment","desired_num_assignments","contract_template","instructors","duties","qualifications","current_enrollment","current_waitlisted","ad_open_date","ad_close_date","ad_hours_per_assignment","ad_num_assignments"],keyMap:{"Position Code":"position_code","Course Code":"position_code","Course Name":"position_code","Position Title":"position_title","Start Date":"start_date",Start:"start_date","End Date":"end_date",End:"end_date","Hours Per Assignment":"hours_per_assignment","Number of Assignments":"desired_num_assignments","Contract Template":"contract_template","Current Enrollment":"current_enrollment","Current Waitlist":"current_waitlisted"},dateColumns:["start_date","end_date"],requiredKeys:["position_code","contract_template"],primaryKey:"position_code",baseName:"positions"},s={keys:["utorid","position_code","start_date","end_date","contract_template","contract_override_pdf","hours","wage_chunks"],keyMap:{"Position Code":"position_code","Course Name":"position_code","Start Date":"start_date",Start:"start_date","End Date":"end_date",End:"end_date",Hours:"hours","Contract Override PDF":"contract_override_pdf"},dateColumns:["start_date","end_date"],requiredKeys:["position_code","utorid"],primaryKey:["utorid","position_code"],baseName:"assignments"}},211:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(21),i=n(1),a=n(121),o=n(110),s=n(91);function c(e,t){return e.filter((function(e){return null!=e[t]}))}function u(e,t){var n,i=new Map,a=Object(r.a)(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.set(o[t],o)}}catch(s){a.e(s)}finally{a.f()}return i}var l=n(10);function d(e){return Object(o.a)(e,(function(e){return e._modelData}))}var f={applicants:d(l.a._localStoreSelector),applications:d(l.b._localStoreSelector),assignments:d(l.c._localStoreSelector),contractTemplates:d(l.d._localStoreSelector),ddahs:d(l.e._localStoreSelector),instructorPreferences:d(l.f._localStoreSelector),instructors:d(l.g._localStoreSelector),positions:d(l.h._localStoreSelector),postings:d(l.j._localStoreSelector),session:d(l.k._localStoreSelector)};var p=Object(o.a)([f.applications,f.instructorPreferences,function(e){return Object(s.N)(e)},function(e){return Object(s.e)(e)},function(e){return Object(s.O)(e)}],(function(e,t,n,o,s){return function(e,t,n){var o,s,c,l=e.map((function(e){return Object(i.a)({},e)})),d=u(n,"id"),f=u(l,"id"),p=(o=t.map((function(e){var t=e.position_id,n=e.application_id,r=Object(a.a)(e,["position_id","application_id"]);return Object(i.a)(Object(i.a)({},r),{},{position:d.get(t),application:f.get(n)})})),s=["position","application"],o.filter((function(e){return s.every((function(t){return null!=e[t]}))}))),h=Object(r.a)(l);try{var m=function(){var e=c.value;e.instructor_preferences=p.filter((function(t){return t.application.id===e.id}))};for(h.s();!(c=h.n()).done;)m()}catch(b){h.e(b)}finally{h.f()}return{applications:l,instructorPreferences:p}}(function(e,t,n,r){if(0===e.length)return[];var o=u(t,"id"),s=u(n,"id"),l=u(r,"id"),d=e.map((function(e){var t=e.posting_id,n=e.applicant_id,r=e.position_preferences,u=Object(a.a)(e,["posting_id","applicant_id","position_preferences"]),d=c(r.map((function(e){var t=e.position_id,n=e.preference_level;return{position:l.get(t),preference_level:n}})),"position");return Object(i.a)(Object(i.a)({},u),{},{applicant:o.get(n),posting:null==t?null:s.get(t)||null,position_preferences:d,instructor_preferences:[]})}));return c(d,"applicant")}(e,o,s,n),t,n)})),h=Object(o.a)([p],(function(e){return e.applications}));Object(o.a)([p],(function(e){return e.instructorPreferences}))},215:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},216:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},217:function(e,t,n){var r=n(763);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},218:function(e,t,n){var r=n(764).default,i=n(285);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},219:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},248:function(e,t,n){"use strict";var r=n(469),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,c=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),u=function(e,t,n,r){var i;(!(t in e)||"function"===typeof(i=r)&&"[object Function]"===a.call(i)&&r())&&(c?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},l=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)u(e,a[s],t[a[s]],n[a[s]])};l.supportsDescriptors=!!c,e.exports=l},276:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return O}));var r=n(24),i=n.n(r),a=n(35),o=n(2),s=n(103),c=n(106),u=n(101),l=n(104),d=n(109),f=Object(c.a)(o.y),p=Object(c.a)(o.F),h=Object(c.a)(o.hb),m=Object(c.a)(o.j),b=Object(c.c)("application","application_id"),v=Object(c.c)("position","position_id");function j(e){return v(b(e))}var g=Object(c.g)({name:"fetchInstructorPreferences",description:"Fetch instructor_preferences",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(){return function(){var e=Object(a.a)(i.a.mark((function e(t,n){var r,a,o,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(l.a)(n()),null!=(a=Object(d.a)(n()))){e.next=4;break}throw new Error("Cannot fetch InstructorPreferences without an active session");case 4:return o=a.id,e.next=7,Object(u.a)("/".concat(r,"/sessions/").concat(o,"/instructor_preferences"));case 7:return s=e.sent,Object(c.e)(o,n)&&t(f(s)),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}}),O=(Object(c.g)({name:"fetchInstructorPreference",description:"Fetch instructor_preference",onErrorDispatch:function(e){return Object(s.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(l.a)(r()),null!=(o=Object(d.a)(r()))){t.next=4;break}throw new Error("Cannot fetch InstructorPreferences without an active session");case 4:return s=o.id,t.next=7,Object(u.a)("/".concat(a,"/sessions/").concat(s,"/instructor_preferences/").concat(e.id));case 7:return c=t.sent,n(p(c)),t.abrupt("return",c);case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(c.g)({name:"upsertInstructorPreference",description:"Add/insert instructor_preference",onErrorDispatch:function(e){return Object(s.d)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(l.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/instructor_preferences"),j(e));case 3:return o=t.sent,n(h(o)),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}));Object(c.g)({name:"deleteInstructorPreference",description:"Delete instructor_preference",onErrorDispatch:function(e){return Object(s.b)(e.toString())},dispatcher:function(e){return function(){var t=Object(a.a)(i.a.mark((function t(n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(l.a)(r()),t.next=3,Object(u.b)("/".concat(a,"/instructor_preferences/delete"),j(e));case 3:o=t.sent,n(m(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})},285:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},323:function(e,t,n){"use strict";n.r(t),n.d(t,"MockAPI",(function(){return X})),n.d(t,"mockAPI",(function(){return $})),n.d(t,"mockData",(function(){return f}));var r=n(24),i=n.n(r),a=n(35),o=n(21),s=n(100),c=n(107),u=n(277),l=n.n(u),d={"/math/default.html":'<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8" />\n        <title>Offer Letter</title>\n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            html {\n                margin: 0;\n                padding: 0;\n            }\n            body {\n                width: 8.5in;\n                margin: 0;\n                padding-left: 0.75in;\n                padding-right: 0.75in;\n                hyphens: auto;\n                text-align: justify;\n                box-sizing: border-box;\n                font-family: Helvetica, sans-serif;\n                font-size: 12pt;\n            }\n            .i {\n                font-style: italic;\n            }\n            .emphcolor {\n                color: red;\n            }\n            table.appointment-summary {\n                margin-left: 1in;\n                font-size: 0.9em;\n            }\n            .appointment-summary th {\n                padding-right: 0.5em;\n                text-align: right;\n                font-weight: normal;\n            }\n            .letter-head p {\n                margin-bottom: 0.5in;\n            }\n            .letter-foot {\n                margin-top: 1in;\n            }\n            .signature {\n                font-family: alex_brushregular, cursive;\n                font-size: 30pt;\n                margin-left: 0.5in;\n                margin-bottom: 0.1in;\n            }\n            .applicant .signature {\n                border-bottom: 1px solid black;\n                min-width: 2.5in;\n                display: inline-block;\n                margin-left: 0;\n            }\n            .checkbox {\n                font-size: 18pt;\n            }\n\n            @media only screen and (max-width: 9in) {\n                /* when printed, these styles won\'t show\n\t\t\t\tbecause the "screen" is 8.5in */\n                body {\n                    width: unset;\n                    padding-bottom: 0.5in;\n                    padding-left: 2em;\n                    padding-right: 2em;\n                }\n            }\n        </style>\n        <link rel="stylesheet" href="font.css" />\n        <link rel="stylesheet" href="header.css" />\n        \x3c!-- for rendering with wkhtmltopdf styles need to be inlined; when rendered directly in a browser,\n\tthis will just be invalid CSS --\x3e\n        <style>\n            {{ style_font }}\n        </style>\n        <style>\n            {{ style_header }}\n        </style>\n    </head>\n    <body>\n        <div class="letter-head">\n            <div class="uoftlogo"></div>\n            <p>{{ date }}</p>\n            <p>\n                {{ first_name }} {{ last_name }}<br />\n                c/o Some Department<br />\n                University of Toronto\n            </p>\n            <p>Dear {{ first_name }},</p>\n        </div>\n        <div class="letter-body">\n            <p>\n                I am pleased to offer you an appointment as a Teaching Assistant\n                in Some Department. The starting date of your appointment will\n                be {{ start_date | date: "%b %d, %Y" }} and this appointment\n                will end on {{ end_date | date: "%b %d, %Y" }} with no further\n                notice to you.\n            </p>\n            <h3 class="i">Appointment Summary</h3>\n            <table class="appointment-summary">\n                <tr>\n                    <th>Appointment:</th>\n                    <td class="emphcolor">\n                        {{ position_code }} {{ position_title }}\n                    </td>\n                </tr>\n                <tr>\n                    <th>Hours:</th>\n                    <td class="emphcolor">{{ hours }}</td>\n                </tr>\n                <tr>\n                    <th>Start Date:</th>\n                    <td>{{ start_date | date: "%b %d, %Y" }}</td>\n                </tr>\n                <tr>\n                    <th>End Date:</th>\n                    <td>{{ end_date | date: "%b %d, %Y" }}</td>\n                </tr>\n                <tr>\n                    <th>Rate:</th>\n                    <td>{{ pay_period_desc }}</td>\n                </tr>\n            </table>\n\n            <p>\n                Your appointment will be for {{ hours }} hours for {{\n                position_code }}. Your Course Coordinator(s) {{\n                instructor_contact_desc }} will be in contact with you. You will\n                be paid {{ pay_period_desc }} for this position. You will be\n                paid in {{ installments }} instalments, once per month for the\n                period of your appointment. Your salary will be paid by direct\n                deposit.\n            </p>\n            Your payroll documentation will be available online through the\n            University\u2019s Employee Self-Service (ESS) at\n            <a href="http://ess.hrandequity.utoronto.ca/"\n                >ess.hrandequity.utoronto.ca/</a\n            >. This includes electronic delivery of your pay statement, tax\n            documentation, and other payroll documentation as made available\n            from time to time. You are able to print copies of these documents\n            directly from ESS.\n            <p>\n                By signing this Employment Agreement, you authorize the\n                University to provide your T4 slips electronically and not in a\n                paper format. If you wish to discuss an alternative format,\n                please contact Central Payroll Services at\n                payroll.hr@utoronto.ca.\n            </p>\n            <p>\n                This appointment is being granted on the basis that you are a\n                student or Post-Doctoral Fellow (PDF) at the University of\n                Toronto on the starting date of the appointment. If you are not\n                a student or PDF on the starting date of this appointment, this\n                offer is revoked and the University will have no obligations\n                under this letter.\n            </p>\n            <p>\n                As a Teaching Assistant, you will be a member of the Canadian\n                Union of Public Employees (CUPE) Local 3902, Unit 1 bargaining\n                unit. Your employment will be governed by the terms and\n                conditions of the collective agreement between the University of\n                Toronto and CUPE Local 3902, which may be found on the web at\n                <br />\n                <a\n                    href="http://agreements.hrandequity.utoronto.ca/#CUPE3902_Unit1"\n                    >agreements.hrandequity.utoronto.ca/#CUPE3902_Unit1</a\n                >\n                <br />\n                Once you accept the offer of employment, a copy of the agreement\n                will be given to you if you do not already have one. A statement\n                about the Union, along with other information about the Union,\n                can be found on the Union\'s website (<a\n                    href="http://www.cupe3902.org/unit-1/"\n                    >http://www.cupe3902.org/unit-1/</a\n                >). All of this information is that of the Union, represents the\n                views of the Union, and has not been approved or endorsed by the\n                University.\n            </p>\n            <h3>Required Training</h3>\n            <p>\n                You are required to take the following training:\n            </p>\n            <ul>\n                <li>\n                    U of T AODA Online Training, provided by the Accessibility\n                    for Ontarians with Disabilities Act (AODA) Office, available\n                    at\n                    <a href="http://aoda.hrandequity.utoronto.ca/"\n                        >aoda.hrandequity.utoronto.ca/</a\n                    >\n                </li>\n            </ul>\n            <p>\n                If you are new to the University, or have not previously\n                completed the training, you will be notified by email when the\n                training module becomes available for your completion, normally\n                one month after the start date of this appointment. Completion\n                of this training will be automatically captured in the system\n                and you will be paid for this training in accordance with the\n                rates set out in your collective agreement. Please note that you\n                only need to complete the above training program once with the\n                University.\n            </p>\n            <h3>Policies & Procedures</h3>\n            <p>\n                You will also be subject to and bound by University policies of\n                general application and their related guidelines. The policies\n                are listed on the Governing Council website at\n                <a\n                    href="http://www.governingcouncil.utoronto.ca/Governing_Council/Policies.htm"\n                    >www.governingcouncil.utoronto.ca/Governing_Council/Policies.htm</a\n                >\n                For convenience, a partial list of policies, those applicable to\n                all employees, and related guidelines can be found on the Human\n                Resources and Equity website at policies.hrandequity.utoronto.ca\n                Printed versions will be provided, upon request, through Human\n                Resources or your supervisor.\n            </p>\n            <p>\n                You should pay particular attention to those policies which\n                confirm the University\u2019s commitment to, and your obligation to\n                support, a workplace that is free from discrimination and\n                harassment as set out in the Human Rights Code, is safe as set\n                out in the Occupational Health and Safety Act, and that respects\n                the University\'s commitment to equity and to workplace civility.\n            </p>\n            <p>\n                All of the applicable policies may be amended and/or new\n                policies may be introduced from time to time. When this happens,\n                if notice is required you will be given notice as the University\n                deems necessary and the amendments will become binding terms of\n                your employment contract with the University.\n            </p>\n            <h3>Accessibility</h3>\n            <p>\n                The University has a number of programs and services available\n                to employees who have need of accommodation due to disability\n                through its Health & Well-being Programs and Services (<a\n                    href="http://www.hrandequity.utoronto.ca/about-hr-equity/health.htm"\n                    >www.hrandequity.utoronto.ca/about-hr-equity/health.htm</a\n                >). A description of the accommodation process is available in\n                the Accommodation for Employees with Disabilities: U of T\n                Guidelines, which may be found at:\n                <br />\n                <a\n                    href="http://well-being.hrandequity.utoronto.ca/services/#accommodation"\n                    >well-being.hrandequity.utoronto.ca/services/#accommodation</a\n                >\n                <br />\n                In the event that you have a disability that would impact upon\n                how you would respond to an emergency in the workplace (e.g.,\n                situations requiring evacuation), you should contact Health &\n                Well-being Programs & Services at 416.978.2149 as soon as\n                possible so that you can be provided with information regarding\n                an individualized emergency response plan.\n            </p>\n            <p>\n                The law requires the Employment Standards Act Poster to be\n                provided to all employees; it is available on the HR & Equity\n                website at\n                <a\n                    href="http://www.hrandequity.utoronto.ca/news/employment-standards-ontario"\n                    >www.hrandequity.utoronto.ca/news/employment-standards-ontario</a\n                >\n                This poster describes the minimum rights and obligations\n                contained in the Employment Standards Act. Please note that in\n                many respects this offer of employment exceeds the minimum\n                requirements set out in the Act.\n            </p>\n            <p>\n                Your duties may include all or any combination of the following:\n                grading, scheduled tutorials, office hours, Math Aid Centre\n                hours, and test and exam invigilation. You will be expected to\n                complete all grading for all student work that is completed\n                during the term of the appointment, up to and including final\n                exams.\n            </p>\n            <p>\n                Within 15 working days after the date of this letter, you will\n                be given the opportunity to review the Description of Duties and\n                Allocation of Hours (DDAH) form, which will set out more\n                specifically the duties of your position, and the hours assigned\n                to each.\n            </p>\n            <p>\n                Please sign below to indicate your acceptance of this offer, and\n                return a copy of this letter to me as soon as possible but no\n                later than 2 days after you have been provided with the DDAH\n                form. If we have not heard from you by this deadline, this offer\n                may be withdrawn. If you are unable to accept this offer, please\n                advise me immediately.\n            </p>\n            <p>\n                If you have any questions, please contact me via email at\n                <a href="mailto:tacoord@toronto.edu">tacoord@toronto.edu</a>\n            </p>\n        </div>\n        <div class="letter-foot tacoordinator">\n            <p>Yours sincerely,</p>\n            <div class="signature">Tom Tomson</div>\n            <div class="details">\n                Tom Tomson<br />TA Coordinator<br />Some Department\n            </div>\n        </div>\n        <div>\n            <p>\n                <span class="checkbox"\n                    >{% if signature == blank %}\u2610{% else %}\u2611{% endif %}</span\n                >\n                I confirm that I will be registered as a University of Toronto\n                student or PDF on the date that this appointment begins. I\n                understand that if I should cease to be registered as a\n                University of Toronto student or PDF during the period of this\n                appointment, for any reason other than convocation, I must\n                immediately notify my supervisor, and my appointment may be\n                terminated.\n            </p>\n        </div>\n        <div class="letter-foot applicant">\n            <p>Please sign below to accept this offer.</p>\n            <div class="signature">{{ signature }}</div>\n            <div class="details">\n                Applicant Signature\n            </div>\n        </div>\n    </body>\n</html>',"/math/oto.html":'<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8" />\n        <title>Offer Letter</title>\n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            html {\n                margin: 0;\n                padding: 0;\n            }\n            body {\n                width: 8.5in;\n                margin: 0;\n                padding-left: 0.75in;\n                padding-right: 0.75in;\n                hyphens: auto;\n                text-align: justify;\n                box-sizing: border-box;\n                font-family: Helvetica, sans-serif;\n                font-size: 12pt;\n            }\n            .i {\n                font-style: italic;\n            }\n            .emphcolor {\n                color: red;\n            }\n            table.appointment-summary {\n                margin-left: 1in;\n                font-size: 0.9em;\n            }\n            .appointment-summary th {\n                padding-right: 0.5em;\n                text-align: right;\n                font-weight: normal;\n            }\n            .letter-head p {\n                margin-bottom: 0.5in;\n            }\n            .letter-foot {\n                margin-top: 1in;\n            }\n            .signature {\n                font-family: alex_brushregular, cursive;\n                font-size: 30pt;\n                margin-left: 0.5in;\n                margin-bottom: 0.1in;\n            }\n            .applicant .signature {\n                border-bottom: 1px solid black;\n                min-width: 2.5in;\n                display: inline-block;\n                margin-left: 0;\n            }\n            .checkbox {\n                font-size: 18pt;\n            }\n\n            @media only screen and (max-width: 9in) {\n                /* when printed, these styles won\'t show\n\t\t\t\tbecause the "screen" is 8.5in */\n                body {\n                    width: unset;\n                    padding-bottom: 0.5in;\n                    padding-left: 2em;\n                    padding-right: 2em;\n                }\n            }\n        </style>\n        <link rel="stylesheet" href="font.css" />\n        <link rel="stylesheet" href="header.css" />\n        \x3c!-- for rendering with wkhtmltopdf styles need to be inlined; when rendered directly in a browser,\n\tthis will just be invalid CSS --\x3e\n        <style>\n            {{ style_font }}\n        </style>\n        <style>\n            {{ style_header }}\n        </style>\n    </head>\n    <body>\n        <div class="letter-head">\n            <div class="uoftlogo"></div>\n            <p>{{ date }}</p>\n            <p>\n                {{ first_name }} {{ last_name }}<br />\n                c/o Some Department<br />\n                University of Toronto\n            </p>\n            <p>Dear {{ first_name }},</p>\n        </div>\n        <div class="letter-body">\n            <p>\n                I am pleased to offer you an appointment as a Teaching Assistant\n                in Some Department. The starting date of your appointment will\n                be {{ start_date | date: "%b %d, %Y" }} and this appointment\n                will end on {{ end_date | date: "%b %d, %Y" }} with no further\n                notice to you.\n            </p>\n            <h3 class="i">Appointment Summary</h3>\n            <table class="appointment-summary">\n                <tr>\n                    <th>Appointment:</th>\n                    <td class="emphcolor">\n                        {{ position_code }} {{ position_title }}\n                    </td>\n                </tr>\n                <tr>\n                    <th>Hours:</th>\n                    <td class="emphcolor">{{ hours }}</td>\n                </tr>\n                <tr>\n                    <th>Start Date:</th>\n                    <td>{{ start_date | date: "%b %d, %Y" }}</td>\n                </tr>\n                <tr>\n                    <th>End Date:</th>\n                    <td>{{ end_date | date: "%b %d, %Y" }}</td>\n                </tr>\n                <tr>\n                    <th>Rate:</th>\n                    <td>{{ pay_period_desc }}</td>\n                </tr>\n            </table>\n\n            <p>\n                Your appointment will be for {{ hours }} hours for {{\n                position_code }}. This is a ONE TIME ONLY appointment. Your Course Coordinator(s) {{\n                instructor_contact_desc }} will be in contact with you. You will\n                be paid {{ pay_period_desc }} for this position. You will be\n                paid in one instalment. Your salary will be paid by direct\n                deposit.\n            </p>\n            Your payroll documentation will be available online through the\n            University\u2019s Employee Self-Service (ESS) at\n            <a href="http://ess.hrandequity.utoronto.ca/"\n                >ess.hrandequity.utoronto.ca/</a\n            >. This includes electronic delivery of your pay statement, tax\n            documentation, and other payroll documentation as made available\n            from time to time. You are able to print copies of these documents\n            directly from ESS.\n            <p>\n                By signing this Employment Agreement, you authorize the\n                University to provide your T4 slips electronically and not in a\n                paper format. If you wish to discuss an alternative format,\n                please contact Central Payroll Services at\n                payroll.hr@utoronto.ca.\n            </p>\n            <p>\n                This appointment is being granted on the basis that you are a\n                student or Post-Doctoral Fellow (PDF) at the University of\n                Toronto on the starting date of the appointment. If you are not\n                a student or PDF on the starting date of this appointment, this\n                offer is revoked and the University will have no obligations\n                under this letter.\n            </p>\n            <p>\n                As a Teaching Assistant, you will be a member of the Canadian\n                Union of Public Employees (CUPE) Local 3902, Unit 1 bargaining\n                unit. Your employment will be governed by the terms and\n                conditions of the collective agreement between the University of\n                Toronto and CUPE Local 3902, which may be found on the web at\n                <br />\n                <a\n                    href="http://agreements.hrandequity.utoronto.ca/#CUPE3902_Unit1"\n                    >agreements.hrandequity.utoronto.ca/#CUPE3902_Unit1</a\n                >\n                <br />\n                Once you accept the offer of employment, a copy of the agreement\n                will be given to you if you do not already have one. A statement\n                about the Union, along with other information about the Union,\n                can be found on the Union\'s website (<a\n                    href="http://www.cupe3902.org/unit-1/"\n                    >http://www.cupe3902.org/unit-1/</a\n                >). All of this information is that of the Union, represents the\n                views of the Union, and has not been approved or endorsed by the\n                University.\n            </p>\n            <h3>Required Training</h3>\n            <p>\n                You are required to take the following training:\n            </p>\n            <ul>\n                <li>\n                    U of T AODA Online Training, provided by the Accessibility\n                    for Ontarians with Disabilities Act (AODA) Office, available\n                    at\n                    <a href="http://aoda.hrandequity.utoronto.ca/"\n                        >aoda.hrandequity.utoronto.ca/</a\n                    >\n                </li>\n            </ul>\n            <p>\n                If you are new to the University, or have not previously\n                completed the training, you will be notified by email when the\n                training module becomes available for your completion, normally\n                one month after the start date of this appointment. Completion\n                of this training will be automatically captured in the system\n                and you will be paid for this training in accordance with the\n                rates set out in your collective agreement. Please note that you\n                only need to complete the above training program once with the\n                University.\n            </p>\n            <h3>Policies & Procedures</h3>\n            <p>\n                You will also be subject to and bound by University policies of\n                general application and their related guidelines. The policies\n                are listed on the Governing Council website at\n                <a\n                    href="http://www.governingcouncil.utoronto.ca/Governing_Council/Policies.htm"\n                    >www.governingcouncil.utoronto.ca/Governing_Council/Policies.htm</a\n                >\n                For convenience, a partial list of policies, those applicable to\n                all employees, and related guidelines can be found on the Human\n                Resources and Equity website at policies.hrandequity.utoronto.ca\n                Printed versions will be provided, upon request, through Human\n                Resources or your supervisor.\n            </p>\n            <p>\n                You should pay particular attention to those policies which\n                confirm the University\u2019s commitment to, and your obligation to\n                support, a workplace that is free from discrimination and\n                harassment as set out in the Human Rights Code, is safe as set\n                out in the Occupational Health and Safety Act, and that respects\n                the University\'s commitment to equity and to workplace civility.\n            </p>\n            <p>\n                All of the applicable policies may be amended and/or new\n                policies may be introduced from time to time. When this happens,\n                if notice is required you will be given notice as the University\n                deems necessary and the amendments will become binding terms of\n                your employment contract with the University.\n            </p>\n            <h3>Accessibility</h3>\n            <p>\n                The University has a number of programs and services available\n                to employees who have need of accommodation due to disability\n                through its Health & Well-being Programs and Services (<a\n                    href="http://www.hrandequity.utoronto.ca/about-hr-equity/health.htm"\n                    >www.hrandequity.utoronto.ca/about-hr-equity/health.htm</a\n                >). A description of the accommodation process is available in\n                the Accommodation for Employees with Disabilities: U of T\n                Guidelines, which may be found at:\n                <br />\n                <a\n                    href="http://well-being.hrandequity.utoronto.ca/services/#accommodation"\n                    >well-being.hrandequity.utoronto.ca/services/#accommodation</a\n                >\n                <br />\n                In the event that you have a disability that would impact upon\n                how you would respond to an emergency in the workplace (e.g.,\n                situations requiring evacuation), you should contact Health &\n                Well-being Programs & Services at 416.978.2149 as soon as\n                possible so that you can be provided with information regarding\n                an individualized emergency response plan.\n            </p>\n            <p>\n                The law requires the Employment Standards Act Poster to be\n                provided to all employees; it is available on the HR & Equity\n                website at\n                <a\n                    href="http://www.hrandequity.utoronto.ca/news/employment-standards-ontario"\n                    >www.hrandequity.utoronto.ca/news/employment-standards-ontario</a\n                >\n                This poster describes the minimum rights and obligations\n                contained in the Employment Standards Act. Please note that in\n                many respects this offer of employment exceeds the minimum\n                requirements set out in the Act.\n            </p>\n            <p>\n                Your duties may include all or any combination of the following:\n                grading, scheduled tutorials, office hours, Math Aid Centre\n                hours, and test and exam invigilation. You will be expected to\n                complete all grading for all student work that is completed\n                during the term of the appointment, up to and including final\n                exams.\n            </p>\n            <p>\n                Within 15 working days after the date of this letter, you will\n                be given the opportunity to review the Description of Duties and\n                Allocation of Hours (DDAH) form, which will set out more\n                specifically the duties of your position, and the hours assigned\n                to each.\n            </p>\n            <p>\n                Please sign below to indicate your acceptance of this offer, and\n                return a copy of this letter to me as soon as possible but no\n                later than 2 days after you have been provided with the DDAH\n                form. If we have not heard from you by this deadline, this offer\n                may be withdrawn. If you are unable to accept this offer, please\n                advise me immediately.\n            </p>\n            <p>\n                If you have any questions, please contact me via email at\n                <a href="mailto:tacoord@toronto.edu">tacoord@toronto.edu</a>\n            </p>\n        </div>\n        <div class="letter-foot tacoordinator">\n            <p>Yours sincerely,</p>\n            <div class="signature">Tom Tomson</div>\n            <div class="details">\n                Tom Tomson<br />TA Coordinator<br />Some Department\n            </div>\n        </div>\n        <div>\n            <p>\n                <span class="checkbox"\n                    >{% if signature == blank %}\u2610{% else %}\u2611{% endif %}</span\n                >\n                I confirm that I will be registered as a University of Toronto\n                student or PDF on the date that this appointment begins. I\n                understand that if I should cease to be registered as a\n                University of Toronto student or PDF during the period of this\n                appointment, for any reason other than convocation, I must\n                immediately notify my supervisor, and my appointment may be\n                terminated.\n            </p>\n        </div>\n        <div class="letter-foot applicant">\n            <p>Please sign below to accept this offer.</p>\n            <div class="signature">{{ signature }}</div>\n            <div class="details">\n                Applicant Signature\n            </div>\n        </div>\n    </body>\n</html>'};d["/math/default2018.html"]=d["/math/default.html"],d["/math/invigilate.html"]=d["/math/default.html"],d["/math/invigilate2014.html"]=d["/math/default.html"];var f={sessions:[{id:1,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",name:"2019 Fall",rate1:45.55,rate2:47.33},{id:2,start_date:"2020-01-01T00:00:00.000Z",end_date:"2020-04-30T00:00:00.000Z",name:"2021 Spring",rate1:45.55,rate2:null}],available_contract_templates:[{template_file:"/math/default.html"},{template_file:"/math/default2018.html"},{template_file:"/math/invigilate.html"},{template_file:"/math/invigilate2014.html"},{template_file:"/math/oto.html"}],contract_templates:[{id:1,template_name:"standard",template_file:"/math/default.html"},{id:2,template_name:"oto",template_file:"/math/oto.html"},{id:3,template_name:"standard",template_file:"/math/default2018.html"},{id:4,template_name:"invigilate",template_file:"/math/invigilate.html"}],contract_templates_by_session:{1:[1,2],2:[3,4]},contract_templates_by_filename:d,instructors:[{id:1e3,last_name:"Smith",first_name:"Henry",email:"hery.smith@utoronto.ca",utorid:"smithh"},{id:1001,last_name:"Garcia",first_name:"Emily",email:"emily.garcia@utoronto.ca",utorid:"garciae"},{id:1002,last_name:"Miller",first_name:"Megan",email:"megan.miller@utoronto.ca",utorid:"millerm"},{id:1003,last_name:"Beera",first_name:"Lizzy",email:"lizzy.beera@utoronto.ca",utorid:"beeral"}],positions_by_session:{1:[10,11,14,15,16],2:[12,13]},positions:[{id:10,position_code:"MAT135H1F",position_title:"Calculus I",hours_per_assignment:70,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",contract_template_id:1,duties:"Tutorials",qualifications:"Teaching skill",desired_num_assignments:15,current_enrollment:1200,current_waitlisted:200,instructor_ids:[1e3,1001],instructor_preferences:[{preference_level:2,applicant_id:2e3,instructor_id:1e3},{preference_level:1,applicant_id:2002,instructor_id:1e3},{preference_level:-1,applicant_id:2005,instructor_id:1001},{preference_level:1,applicant_id:2002,instructor_id:1001},{preference_level:1,applicant_id:2006,instructor_id:1001}]},{id:11,position_code:"MAT136H1F",position_title:"Calculus II",hours_per_assignment:70,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",contract_template_id:2,instructor_ids:[]},{id:12,position_code:"CSC135H1F",position_title:"Computer Fun",hours_per_assignment:70,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",duties:"Tutorials",contract_template_id:3,instructor_ids:[1e3],instructor_preferences:[{preference_level:-1,applicant_id:2005,instructor_id:1e3},{preference_level:2,applicant_id:2001,instructor_id:1e3},{preference_level:1,applicant_id:2006,instructor_id:1e3}]},{id:13,position_code:"MAT235H1F",position_title:"Calculus III",hours_per_assignment:70,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",contract_template_id:3,instructor_ids:[1002],instructor_preferences:[{preference_level:2,applicant_id:2e3,instructor_id:1002},{preference_level:1,applicant_id:2002,instructor_id:1002}]},{instructor_ids:[1002],position_code:"CSC100H1S",position_title:"Computers for Humans",hours_per_assignment:100,duties:"Some combination of marking, invigilating, tutorials, office hours, and the help centre.",contract_template_id:1,start_date:"2021-01-01T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:14},{instructor_ids:[1e3],position_code:"MAT137Y1Y",position_title:"Calculus!",hours_per_assignment:250,duties:"Some combination of marking, invigilating, tutorials, office hours, and the help centre.",contract_template_id:1,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",qualifications:"Skilled Proofs Reader",current_enrollment:1500,current_waitlisted:78,desired_num_assignments:22,id:15},{instructor_ids:[1001],position_code:"MAT135H1F Head TA",position_title:"Calculus I",hours_per_assignment:225,duties:"Top-notch Head TA Stuff",contract_template_id:1,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",desired_num_assignments:3,id:16}],applicants:[{id:2e3,utorid:"weasleyr",student_number:"89013443",first_name:"Ron",last_name:"Weasley",email:"ron@potter.com",phone:"543-223-9993"},{id:2001,utorid:"potterh",student_number:"999666999",first_name:"Harry",last_name:"Potter",email:"harry@potter.com"},{id:2002,utorid:"smithb",email:"smithb@mail.utoronto.ca",first_name:"Bethany",last_name:"Smith",student_number:"131382748"},{id:2003,utorid:"wilsonh",email:"wilsonh@mail.utoronto.ca",first_name:"Hanna",last_name:"Wilson",student_number:"600366904"},{id:2004,utorid:"molinat",email:"molinat@mail.utoronto.ca",first_name:"Troy",last_name:"Molina",student_number:"328333023"},{id:2005,utorid:"howeyb",email:"howeyb@mail.utoronto.ca",first_name:"Brett",last_name:"Howey",student_number:"329613524"},{id:2006,utorid:"brownd",email:"brownd@mail.utoronto.ca",first_name:"David",last_name:"Brown",student_number:"29151485"}],assignments_by_session:{1:[100,101,102,103,104,105,106,107,108,109],2:[]},assignments:[{id:100,position_id:10,applicant_id:2001,hours:90},{id:101,position_id:10,applicant_id:2005,hours:95},{note:"",position_id:16,applicant_id:2e3,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",id:102},{note:"",position_id:16,applicant_id:2002,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",id:103},{note:"",position_id:15,applicant_id:2001,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:104},{note:"",position_id:15,applicant_id:2002,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:105},{note:"",position_id:15,applicant_id:2005,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:106},{note:"",position_id:15,applicant_id:2e3,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:107},{note:"",position_id:15,applicant_id:2006,start_date:"2019-09-02T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:108},{note:"",position_id:14,applicant_id:2002,start_date:"2021-01-01T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z",id:109}],wage_chunks:[{id:3e3,assignment_id:100,hours:20,start_date:"2019-09-08T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z",rate:10.01},{id:3001,assignment_id:100,hours:35,start_date:"2020-01-01T00:00:00.000Z",end_date:"2020-04-20T00:00:00.000Z",rate:12.02},{id:3002,assignment_id:101,hours:95,start_date:"2019-09-01T00:00:00.000Z",end_date:"2020-04-20T00:00:00.000Z",rate:null},{id:3003,assignment_id:102,hours:225,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z"},{id:3004,assignment_id:103,hours:225,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T00:00:00.000Z"},{id:3005,assignment_id:104,hours:125,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T05:00:00.000Z"},{id:3006,assignment_id:104,hours:125,start_date:"2020-01-01T05:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"},{id:3007,assignment_id:105,hours:125,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T05:00:00.000Z"},{id:3008,assignment_id:105,hours:125,start_date:"2020-01-01T05:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"},{id:3009,assignment_id:106,hours:125,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T05:00:00.000Z"},{id:3010,assignment_id:106,hours:125,start_date:"2020-01-01T05:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"},{id:3011,assignment_id:107,hours:100,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T05:00:00.000Z"},{id:3012,assignment_id:107,hours:100,start_date:"2020-01-01T05:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"},{id:3013,assignment_id:108,hours:100,start_date:"2019-09-02T00:00:00.000Z",end_date:"2019-12-31T05:00:00.000Z"},{id:3014,assignment_id:108,hours:100,start_date:"2020-01-01T05:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"},{id:3015,assignment_id:109,hours:100,start_date:"2021-01-01T00:00:00.000Z",end_date:"2020-04-03T00:00:00.000Z"}],offers:[{id:1e4,assignment_id:100,status:"withdrawn"},{id:10001,assignment_id:100,status:"pending"},{id:10002,assignment_id:101,status:"accepted"},{id:10003,assignment_id:102,status:"withdrawn"}],applications:[{id:15e3,comments:"",program:"Phd",department:"Computer Science",previous_experience_summary:"Last year I TAed a bunch",yip:2,annotation:"",session_id:1,applicant_id:2e3,position_preferences:[{preference_level:2,position_id:10},{preference_level:3,position_id:15}]},{id:15001,comments:"",program:"UG",department:"Computer Science",previous_experience_summary:"",yip:2,annotation:"",session_id:1,applicant_id:2001,position_preferences:[{preference_level:0,position_id:12},{preference_level:3,position_id:13}]},{id:15002,comments:"",program:"Phd",department:"Math",previous_experience_summary:"",yip:2,annotation:"",session_id:1,applicant_id:2002,position_preferences:[{preference_level:3,position_id:10},{preference_level:3,position_id:13},{preference_level:2,position_id:12},{preference_level:0,position_id:11}]},{id:15003,comments:"",program:"Phd",department:"Computer Science",previous_experience_summary:"",yip:2,annotation:"",session_id:1,applicant_id:2005,position_preferences:[{preference_level:2,position_id:10},{preference_level:3,position_id:13},{preference_level:0,position_id:12},{preference_level:1,position_id:11}]},{id:15004,comments:"",program:"UG",department:"Computer Science",previous_experience_summary:"",yip:2,annotation:"",session_id:1,applicant_id:2006,position_preferences:[{preference_level:3,position_id:10},{preference_level:0,position_id:13},{preference_level:2,position_id:12}]},{id:15005,comments:"",program:"UG",department:"Math",previous_experience_summary:"",yip:3,annotation:"",session_id:2,applicant_id:2002,position_preferences:[{preference_level:3,position_id:10},{preference_level:3,position_id:13},{preference_level:2,position_id:12},{preference_level:0,position_id:11}]},{id:15006,comments:"",program:"MSc",department:"Computer Science",previous_experience_summary:"",yip:2,annotation:"",session_id:2,applicant_id:2003,position_preferences:[{preference_level:3,position_id:10},{preference_level:3,position_id:13},{preference_level:2,position_id:12},{preference_level:0,position_id:11}]},{id:15007,comments:"",program:"UG",department:"Computer Science",previous_experience_summary:"",yip:4,annotation:"",session_id:2,applicant_id:2004,position_preferences:[{preference_level:1,position_id:10},{preference_level:3,position_id:13}]}],ddahs:[{id:700,assignment_id:100,signature:null,approved_date:null,accepted_date:null,revised_date:null,emailed_date:null,url_token:"DJAKSLJLFD",duties:[{order:2,hours:25,description:"marking:Marking the midterm"},{order:1,hours:4,description:"training:Initial training"},{order:3,hours:40,description:"contact:Running tutorials"}]},{id:701,assignment_id:101,signature:"Brett Howey",approved_date:null,accepted_date:"2019-09-02T00:00:00.000Z",revised_date:null,emailed_date:"2019-09-02T00:00:00.000Z",url_token:"somerandomtoken",duties:[{order:2,hours:50,description:"marking:Marking the midterm"},{order:1,hours:6,description:"training:Initial training"}]}],users:[{email:"hery.smith@utoronto.ca",utorid:"smithh",roles:["admin","instructor"]},{email:"emily.garcia@utoronto.ca",utorid:"garciae",roles:["instructor"]},{email:"megan.miller@utoronto.ca",utorid:"millerm",roles:["instructor"]},{email:"lizzy.beera@utoronto.ca",utorid:"beeral",roles:["instructor"]}],active_user:"smithh"},p=n(188),h=n(147),m=n(112),b=n(114),v=n(111),j=n(102),g=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.sessions)}return Object(c.a)(n,[{key:"create",value:function(e){var t=Object(p.a)(Object(h.a)(n.prototype),"create",this).call(this,e);return this.data.assignments_by_session[t.id]=[],t}},{key:"findAll",value:function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(e=Object(p.a)(Object(h.a)(n.prototype),"findAll",this)).call.apply(e,[this].concat(r))}},{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{name:{required:!0,unique:!0}});if(t)throw new Error(t)}},{key:"validateProp",value:function(e,t,n){if("name"===e){if(void 0===t||0===t.length)throw new Error("Property ".concat(e," cannot be empty or undefined."));var r=this.findAll().filter((function(e){return e.id!==n})),i=Object(v.j)({name:t},r,{name:{unique:!0}});if(i)throw new Error(i)}return!0}}]),n}(v.a),O={get:{"/sessions":Object(j.b)({func:function(e){return new g(e).findAll()},summary:"Get all available sessions",returns:j.d.arrayOf(j.a.session)}),"/sessions/:session_id/instructor_preferences":Object(j.b)({func:function(){throw new Error("not implemented")},summary:"Get all instructor preferences associated with the session",returns:j.d.arrayOf(j.a.instructor_preference)})},post:{"/sessions":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new g(e).upsert(n)},summary:"Upsert a session",returns:j.a.session,posts:j.a.session}),"/sessions/delete":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new g(e).delete(n)},summary:"Delete a session",posts:j.a.idOnly,returns:j.a.session})}},y=n(16),w=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).ownData=r.data.contract_templates,r}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(v.j)(e,this.ownData,{template_name:{required:!0},template_file:{required:!0}});if(n)throw new Error(n);if(t){var r=Object(v.j)(e,this.findAllBySession(t),{template_name:{required:!0,unique:!0}});if(r)throw new Error(r)}}},{key:"upload",value:function(e){var t=e.file_contents,n=e.file_name;if(n in this.data.contract_templates_by_filename)throw new Error("Template with filename '".concat(n,"' already exists."));this.data.contract_templates_by_filename[n]=t,this.data.available_contract_templates.push({template_file:n})}},{key:"getTemplateHtml",value:function(e){if(!((e=new n(this.data).find(e)).template_file in this.data.contract_templates_by_filename))throw new Error("Could not find Html for template ".concat(e.template_file));return this.data.contract_templates_by_filename[e.template_file]}},{key:"findAllBySession",value:function(e){var t=new g(this.data).find(e);return Object(v.h)(this.data.contract_templates_by_session[t.id]||[],this.ownData)}},{key:"upsertBySession",value:function(e,t){var n=new g(this.data).find(t);this.find(e)||this.validateNew(e,n);var r=this.upsert(e);return this.data.contract_templates_by_session[n.id]=this.data.contract_templates_by_session[n.id]||[],this.data.contract_templates_by_session[n.id].push(r.id),r}}]),n}(v.a),_={get:{"/available_contract_templates":Object(j.b)({func:function(e){return Object(y.a)(e.available_contract_templates)},summary:"Get all available contract templates (these are literal files on the server).",returns:j.d.arrayOf(j.a.contractTemplateMinimal)}),"/sessions/:session_id/contract_templates":Object(j.b)({func:function(e,t){return new w(e).findAllBySession(t.session_id)},summary:"Get contract templates associated with this session.",returns:j.d.arrayOf(j.a.contractTemplate)}),"/contract_templates/:template_id/view":Object(j.b)({func:function(e,t){return new w(e).getTemplateHtml(t.template_id)},summary:"Get a preview of the contact template (i.e., the actual HTML).",returns:j.d.string}),"/contract_templates/:template_id/download":Object(j.b)({func:function(e,t){var n=t.template_id,r=new w(e),i=r.getTemplateHtml(n),a=(new TextEncoder).encode(i);return{file_name:r.find(n).template_file,mime_type:"text/html",content:Object(v.c)(a)}},summary:"Download the raw HTML template associated with the contract-template. No substitutions are made to this file. The `content` filed is encoded in Base64 and may be a binary file (e.g., a zip file).",returns:j.d.shape({file_name:j.d.string,mime_type:j.d.string,content:j.d.string})})},post:{"/sessions/:session_id/contract_templates":Object(j.b)({func:function(e,t,n){return new w(e).upsertBySession(n,t.session_id)},summary:"Associate a position template with a session; this method upserts",posts:j.a.contractTemplate,returns:j.a.contractTemplate}),"/contract_templates/upload":Object(j.b)({func:function(e,t,n){Object(v.e)(t,"admin");var r=n.file_name,i=n.content,a=Object(v.b)(i);return new w(e).upload({file_contents:a,file_name:r}),Object(y.a)(e.available_contract_templates)},summary:"Upload a base64-encoded contract template. (The contract template should be utf-8 encoded HTML).",posts:j.d.shape({file_name:j.d.string,content:j.d.string}),returns:j.d.arrayOf(j.a.contractTemplateMinimal)}),"/contract_templates/delete":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Delete a contract template",posts:j.a.contractTemplate,returns:j.a.contractTemplate}),"/contract_templates":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Update a contract template",posts:j.a.contractTemplate,returns:j.a.contractTemplate})}},x=n(1),S=n(34),k=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.users)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{utorid:{required:!0,unique:!0}});if(t)throw new Error(t)}},{key:"rawFind",value:function(e){return null==e?null:null!=e.id?Object(v.g)(e,this.ownData):null!=e.utorid?Object(v.g)(e,this.ownData,"utorid"):Object(v.g)({utorid:e},this.ownData,"utorid")}},{key:"setActiveUser",value:function(e){var t=this.find(e);if(!t)throw new Error("Cannot find user ".concat(JSON.stringify(e)," to set as active"));this.data.active_user=t.utorid}},{key:"getActiveUser",value:function(){return this.find(this.data.active_user)}}]),n}(v.a),C={get:{"/users":Object(j.b)({func:function(e){return new k(e).findAll()},summary:"Get all available users.",returns:j.d.arrayOf(j.a.user)}),"/active_user":Object(j.b)({func:function(e){return new k(e).getActiveUser()},summary:"Gets the currently active user.",returns:j.d.arrayOf(j.a.user),roles:["instructor","ta"]})},post:{"/users":Object(j.b)({func:function(e,t,n){return new k(e).upsert(n)},summary:"Upserts user info",returns:j.d.arrayOf(j.a.user),posts:j.a.user})}},A=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.instructors)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{utorid:{required:!0,unique:!0},first_name:{required:!0},last_name:{required:!0}});if(t)throw new Error(t)}},{key:"delete",value:function(e){var t=this.find(e);if(!t)throw new Error("Cannot find instructor matching ".concat(JSON.stringify(e)));Object(p.a)(Object(h.a)(n.prototype),"delete",this).call(this,t);var r,i=Object(o.a)(this.data.positions);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a.instructor_ids||[]).includes(t.id)&&Object(v.d)(t.id,a.instructor_ids)}}catch(s){i.e(s)}finally{i.f()}return t}},{key:"getFromActiveUser",value:function(){var e=new k(this.data).getActiveUser();return new n(this.data).findAll().find((function(t){return t.utorid===e.utorid}))}}]),n}(v.a),E={get:{"/instructors":Object(j.b)({func:function(e,t){if("admin"===t.role)return new A(e).findAll();if("instructor"===t.role){var n=new A(e).getFromActiveUser();if(!n)return[];var r,i=new D(e).getForInstructor(n),a=new Set,s=Object(o.a)(i);try{for(s.s();!(r=s.n()).done;){var c,u=r.value,l=Object(o.a)(u.instructor_ids);try{for(l.s();!(c=l.n()).done;){var d=c.value;a.add(d)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){s.e(f)}finally{s.f()}return new A(e).findAll().filter((function(e){return a.has(e.id)}))}Object(v.e)(t,"")},summary:"Get a list of all instructors",returns:j.d.arrayOf(j.a.instructor)})},post:{"/instructors":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new A(e).upsert(n)},summary:"Upsert an instructor",posts:j.a.instructor,returns:j.a.instructor}),"/instructors/delete":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new A(e).delete(n)},summary:"Delete an instructor (removes from all positions)",posts:j.a.idOnly,returns:j.a.instructor})}},D=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.positions)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var n=Object(v.j)(e,this.findAllBySession(t),{position_code:{required:!0,unique:!0}});if(n)throw new Error(n)}}},{key:"find",value:function(e){for(var t=this.rawFind(e),n=null,r=0,i=Object.entries(this.data.positions_by_session);r<i.length;r++){var a=Object(S.a)(i[r],2),o=a[0];if(a[1].includes(t.id)){n=o;break}}return Object(x.a)(Object(x.a)({},t),{},{session_id:n})}},{key:"getSession",value:function(e){return new g(this.data).find({id:e.session_id})}},{key:"getContractTemplate",value:function(e){return new w(this.data).find({id:e.contract_template_id})}},{key:"getInstructors",value:function(e){var t=this;return e.instructor_ids?e.instructor_ids.map((function(e){return new A(t.data).find({id:e})})):[]}},{key:"getForInstructor",value:function(e){if(!(e=new A(this.data).find(e)))throw new Error("Cannot find a matching instructor");return this.findAll().filter((function(t){return(t.instructor_ids||[]).includes(e.id)}))}},{key:"delete",value:function(e){var t=this.rawFind(e);if(!t)throw new Error("Cannot find position matching ".concat(JSON.stringify(e)));Object(p.a)(Object(h.a)(n.prototype),"delete",this).call(this,t);for(var r=0,i=Object.values(this.data.positions_by_session);r<i.length;r++){var a=i[r];a.includes(t.id)&&Object(v.d)(t.id,a)}return t}},{key:"findAllBySession",value:function(e){var t=new g(this.data).find(e);return Object(v.h)(this.data.positions_by_session[t.id]||[],this.ownData)}},{key:"upsertBySession",value:function(e,t){var n=new g(this.data).rawFind(t);this.rawFind(e)||(this.validateNew(e,n),e.start_date=void 0===e.start_date?n.start_date:e.start_date,e.end_date=void 0===e.end_date?n.end_date:e.end_date);var r=this.upsert(e);return this.data.positions_by_session[n.id]=this.data.positions_by_session[n.id]||[],this.data.positions_by_session[n.id].push(r.id),r}},{key:"findAssociatedSession",value:function(e){var t=this,n=this.find(e);if(!n)throw new Error("Could not associated session because there is no position matching ".concat(JSON.stringify(e)));var r=Object.keys(this.data.positions_by_session).find((function(e){return t.data.positions_by_session[e].includes(n.id)}));return null!=r?+r:r}}]),n}(v.a),T={get:{"/sessions/:session_id/positions":Object(j.b)({func:function(e,t){if("admin"===t.role)return new D(e).findAllBySession(t.session_id);if("instructor"===t.role){var n=new A(e).getFromActiveUser();return n?new D(e).findAllBySession(t.session_id).filter((function(e){return e.instructor_ids.includes(n.id)})):[]}Object(v.e)(t,"")},summary:"Get positions associated with this session.",returns:j.d.arrayOf(j.a.position)})},post:{"/sessions/:session_id/positions":Object(j.b)({func:function(e,t,n){return new D(e).upsertBySession(n,t.session_id)},summary:"Upsert a position associated with a session. If a new position is created, it will be automatically associated with the given session",posts:j.a.position,returns:j.a.position}),"/positions":Object(j.b)({func:function(e,t,n){Object(v.e)(t,"admin");var r=e.positions,i=Object(v.g)(n,r);if(i)return Object.assign(i,n);throw new Error("Cannot find position with id=".concat(n.id))},summary:"Update a position",posts:j.a.position,returns:j.a.position}),"/positions/delete":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new D(e).delete(n)},summary:"Delete a position",posts:j.a.idOnly,returns:j.a.position})}},N=n(97),P=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.wage_chunks)}return Object(c.a)(n,[{key:"validateNew",value:function(){}},{key:"findAllByAssignment",value:function(e){var t=this,n=new B(this.data).rawFind(e);if(!n)throw new Error("Could not find assignment matching ".concat(JSON.stringify(e)));return Object(v.h)([n.id],this.ownData,"assignment_id").map((function(e){return t.find(e)}))}},{key:"find",value:function(e){var t=this.rawFind(e),n=Object(x.a)({},t);if(null==n.rate){var r=this.getSession(e);if(null==r.rate2)n.rate=r.rate1;else{var i=new Date(e.start_date),a=new Date(e.end_date),o=new Date(r.start_date),s=new Date(o.getFullYear(),11,31);n.rate=i<=s&&a<=s?r.rate1:r.rate2}}return n}},{key:"getSession",value:function(e){var t=this.rawFind(e),n=new B(this.data).rawFind({id:t.assignment_id}),r=new B(this.data).getPosition(n);return new D(this.data).getSession(r)}},{key:"upsertByAssignment",value:function(e,t){var n=new B(this.data).rawFind(t);if(!n)throw new Error("Could not find assignment matching ".concat(JSON.stringify(t)));return this.upsert(Object(x.a)(Object(x.a)({},e),{},{assignment_id:n.id}))}},{key:"setAllByAssignment",value:function(e,t){var n=this,r=new B(this.data).rawFind(t);if(!r)throw new Error("Could not find assignment matching ".concat(JSON.stringify(t)));var i=this.findAllByAssignment(t);e.forEach((function(e){return n.upsertByAssignment(e,r)}));var a,s=Object(o.a)(i);try{for(s.s();!(a=s.n()).done;){var c=a.value;Object(v.g)(c,e)||this.delete(c)}}catch(u){s.e(u)}finally{s.f()}return this.findAllByAssignment(r)}}]),n}(v.a),R={get:{},post:{"/wage_chunks":Object(j.b)({func:function(e,t,n){return new P(e).upsert(n)},posts:j.a.wageChunk,summary:"Upsert a wage_chunk",returns:j.a.wageChunk}),"/wage_chunks/delete":Object(j.b)({func:function(e,t,n){return new P(e).delete(n)},posts:j.a.wageChunk,summary:"Delete a wage_chunk. Must have a valid id specified.",returns:j.a.wageChunk})}},H=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.applications)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{session_id:{required:!0},applicant_id:{required:!0}});if(t)throw new Error(t)}},{key:"findAllBySession",value:function(e){var t=new g(this.data).find(e);if(!t)throw new Error("Cannot find applicant by session because session ".concat(JSON.stringify(e)," cannot be found"));return Object(v.h)([t.id],this.ownData,"session_id")}}]),n}(v.a),I={get:{"/sessions/:session_id/applications":Object(j.b)({func:function(e,t){return new H(e).findAllBySession(t.session_id)},summary:"Get all applications associated with the given session",returns:j.d.arrayOf(j.a.application)})},post:{"/applications":Object(j.b)({func:function(e,t,n){return new H(e).upsert(n)},summary:"Upsert an application",posts:j.a.application,returns:j.a.application}),"/sessions/:session_id/applications":Object(j.b)({func:function(e,t,n){return new H(e).upsert(n)},summary:"Upsert an application",posts:j.a.application,returns:j.a.application}),"/instructor_preferences":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Upsert an instructor_preference",posts:j.a.instructor_preference,returns:j.a.instructor_preference})}},F=n(168),z=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.applicants)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{utorid:{required:!0,unique:!0},first_name:{required:!0},last_name:{required:!0}});if(t)throw new Error(t)}},{key:"findAllBySession",value:function(e){var t=new g(this.data).find(e);if(!t)throw new Error("Cannot find applicant by session because session ".concat(JSON.stringify(e)," cannot be found"));var n=new H(this.data).findAllBySession(t),r=new B(this.data).findAllBySession(t),i=Array.from(new Set(n.map((function(e){return e.applicant_id})).concat(r.map((function(e){return e.applicant_id})))));return Object(v.h)(i,this.ownData)}}]),n}(v.a),M={get:{"/sessions/:session_id/applicants":Object(j.b)({func:function(e,t){if("admin"===t.role)return new z(e).findAllBySession(t.session_id);if("instructor"===t.role){var n=new A(e).getFromActiveUser();if(!n)return[];var r=new B(e).findAllBySessionAndInstructor(t.session_id,n).map((function(e){return e.applicant_id}));return new z(e).findAll().filter((function(e){return r.includes(e.id)}))}Object(v.e)(t,"")},summary:"Get all applicants associated with the given session",returns:j.d.arrayOf(j.a.applicant)}),"/applicants":Object(j.b)({func:function(e){return new z(e).findAll()},summary:"Get all applicants",returns:j.d.arrayOf(j.a.applicant)}),"/applicants/:applicant_id":Object(j.b)({func:function(e,t){return new z(e).find(t.applicant_id)},summary:"Get an applicant",returns:j.a.applicant})},post:{"/applicants":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new z(e).upsert(n)},summary:"Upsert an applicant",posts:j.a.applicant,returns:j.a.applicant}),"/sessions/:session_id/applicants":Object(j.b)({func:function(e,t,n){Object(v.e)(t,"admin");var r=new z(e).findAll().find((function(e){return e.id===n.id||e.utorid===n.utorid}))||{},i=new z(e).upsert(Object(x.a)(Object(x.a)({},r),Object(v.f)(n)));return new H(e).findAllBySession(t.session_id).find((function(e){return e.applicant_id===i.id}))||new H(e).upsert({session_id:Object(F.b)(t.session_id),applicant_id:i.id,comment:"<Autogenerated>"}),i},summary:"Upsert an applicant. If they have no application associated with the current session, an application is created.",posts:j.a.applicant,returns:j.a.applicant}),"/applicants/delete":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new z(e).delete(n)},summary:"Delete an applicant",posts:j.a.idOnly,returns:j.a.applicant})}},B=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.assignments)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,[],{position_id:{required:!0},applicant_id:{required:!0}});if(t)throw new Error(t)}},{key:"findAllBySession",value:function(e){var t=this,r=new g(this.data).rawFind(e);return Object(v.h)(this.data.assignments_by_session[r.id]||[],this.ownData).map((function(e){return new n(t.data).find(e)}))}},{key:"getPosition",value:function(e){return new D(this.data).find({id:e.position_id})}},{key:"getApplicant",value:function(e){return new z(this.data).find({id:e.applicant_id})}},{key:"getWageChunkInfo",value:function(e){var t=new P(this.data).findAllByAssignment(e);return{hours:N.k.apply(void 0,Object(y.a)(t.map((function(e){return e.hours})))),wageChunks:t}}},{key:"getActiveOffer",value:function(e){return new L(this.data).findByAssignment(e)}},{key:"find",value:function(e){var t=this.rawFind(e);if(!t)return t;var n=Object(x.a)({},t),r=this.getWageChunkInfo(t).hours;n.hours=r;var i=this.getActiveOffer(t);i&&(n.active_offer_status=i.status,n.active_offer_url_token=i.url_token);var a=this.getPosition(t);return t.start_date||(n.start_date=a.start_date),t.end_date||(n.end_date=a.end_date),n}},{key:"upsert",value:function(e){var t=this.find(Object(p.a)(Object(h.a)(n.prototype),"upsert",this).call(this,e)),r=new D(this.data).findAssociatedSession(t.position_id);if(r&&this.data.assignments_by_session[r].push(t.id),null==e.hours||+t.hours===+e.hours)return t;var i=new P(this.data).findAllByAssignment(t);if(0===i.length){var a,s=Object(v.k)(t.start_date,t.end_date),c=Object(o.a)(s);try{for(c.s();!(a=c.n()).done;){var u=a.value;new P(this.data).upsertByAssignment({hours:0,start_date:u.start_date,end_date:u.end_date},t)}}catch(b){c.e(b)}finally{c.f()}}i=new P(this.data).findAllByAssignment(t);var l,d=(+e.hours-+(this.find(t).hours||0))/i.length,f=Object(o.a)(i);try{for(f.s();!(l=f.n()).done;){var m=l.value;new P(this.data).upsert(Object(x.a)(Object(x.a)({},m),{},{hours:(m.hours||0)+d}))}}catch(b){f.e(b)}finally{f.f()}return this.find(t)}},{key:"findAllBySessionAndInstructor",value:function(e,t){e=new g(this.data).find(e),t=new A(this.data).find(t);var n=new D(this.data).getForInstructor(t),r=this.findAllBySession(e),i=n.map((function(e){return e.id}));return r.filter((function(e){return i.includes(e.position_id)}))}}]),n}(v.a),L=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.offers)}return Object(c.a)(n,[{key:"findByAssignment",value:function(e){var t=this._ensureAssignment(e);if(t&&t._noActiveOffer)return null;var n=Object(v.h)([t.id],this.data.offers,"assignment_id");return n[n.length-1]||null}},{key:"findAllByAssignment",value:function(e){var t=this._ensureAssignment(e);return t&&t._noActiveOffer?null:Object(v.h)([t.id],this.data.offers,"assignment_id")}},{key:"_ensureAssignment",value:function(e){var t=new B(this.data).rawFind(e);if(!t)throw new Error("Could not find assignment matching ".concat(JSON.stringify(e)));return t}},{key:"getAssignment",value:function(e){return new B(this.data).find({id:e.assignment_id})}},{key:"find",value:function(e){var t=this.rawFind(e),n=this.getAssignment(t),r=new B(this.data).getWageChunkInfo(n),i=r.hours,a=r.wageChunks,o=new B(this.data).getPosition(n),s=new B(this.data).getApplicant(n),c=new D(this.data).getInstructors(o),u=new D(this.data).getContractTemplate(o),l=Object(v.m)(a),d=l.start_date,f=l.end_date;return Object(x.a)(Object(x.a)({accepted_date:null,rejected_date:null,withdrawn_date:null,signature:"",nag_count:0},t),{},{contract_template:u.template_file,contract_override_pdf:n.contract_override_pdf,first_name:s.first_name,last_name:s.last_name,email:s.email,position_code:o.position_code,position_title:o.position_title,position_start_date:d,position_end_date:f,first_time_ta:null,instructor_contact_desc:Object(v.i)(c),pay_period_desc:Object(v.l)(a),hours:i,ta_coordinator_name:"Dr. Coordinator",ta_coordinator_email:"coordinator@utoronto.ca",url_token:"mock_api_offer_url_token"})}},{key:"withdrawByAssignment",value:function(e){var t=this.findByAssignment(this._ensureAssignment(e));return this.find(this.upsert(Object(x.a)(Object(x.a)({},t),{},{status:"withdrawn",withdrawn_date:(new Date).toISOString()})))}},{key:"rejectByAssignment",value:function(e){var t=this.findByAssignment(this._ensureAssignment(e));return this.find(this.upsert(Object(x.a)(Object(x.a)({},t),{},{status:"rejected",rejected_date:(new Date).toISOString()})))}},{key:"acceptByAssignment",value:function(e){var t=this.findByAssignment(this._ensureAssignment(e));return this.find(this.upsert(Object(x.a)(Object(x.a)({},t),{},{status:"accepted",accepted_date:(new Date).toISOString()})))}},{key:"emailByAssignment",value:function(e){var t=this.findByAssignment(this._ensureAssignment(e));return this.find(this.upsert(Object(x.a)(Object(x.a)({},t),{},{status:"pending",emailed_date:(new Date).toISOString()})))}},{key:"nagByAssignment",value:function(e){var t=this.findByAssignment(this._ensureAssignment(e));if(!t.emailed_date)throw new Error("The active offer for assignment with id=".concat(e.id," has not been emailed yet, so a nag email cannot be sent"));return this.find(this.upsert(Object(x.a)(Object(x.a)({},t),{},{nag_count:(t.nag_count||0)+1})))}},{key:"getHistoryByAssignment",value:function(e){var t=this.findAllByAssignment(this._ensureAssignment(e));if(0===t.length)throw new Error("There is no offer history for assignment with id=".concat(e.id,"."));return t.sort((function(e,t){return new Date(t.emailed_date)-new Date(e.emailed_date)})),t}},{key:"createByAssignment",value:function(e){var t=this._ensureAssignment(e),n=this.findByAssignment(t);if(n&&["pending","accepted","rejected","provisional"].includes(n.status))throw new Error("An offer already exists for assignment=".concat(JSON.stringify(e)));return new B(this.data).upsert(Object(x.a)(Object(x.a)({},t),{},{_noActiveOffer:!1})),this.upsert(this.find(this.create({assignment_id:t.id,status:"provisional"})))}}]),n}(v.a),U={get:{"/sessions/:session_id/assignments":Object(j.b)({func:function(e,t){if("admin"===t.role)return new B(e).findAllBySession(t.session_id);if("instructor"===t.role){var n=new A(e).getFromActiveUser();return n?new B(e).findAllBySessionAndInstructor(t.session_id,n):[]}Object(v.e)(t,"")},summary:"Get assignments associated with a session",returns:j.d.arrayOf(j.a.assignment)}),"/assignments/:assignment_id":Object(j.b)({func:function(e,t){return new B(e).find(t.assignment_id)},summary:"Get an assignment",returns:j.a.assignment}),"/assignments/:assignment_id/active_offer":Object(j.b)({func:function(e,t){return new B(e).getActiveOffer(t.assignment_id)},summary:"Get the active offer associated with an assignment",returns:j.a.offer}),"/assignments/:assignment_id/wage_chunks":Object(j.b)({func:function(e,t){return new B(e).getWageChunkInfo(t.assignment_id).wageChunks},summary:"Get the wage_chunks associated with an assignment",returns:j.d.arrayOf(j.a.wageChunk)}),"/assignments/:assignment_id/active_offer/history":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).getHistoryByAssignment(t.assignment_id)},summary:"Fetches all offers that have previously been emailed.",returns:j.a.offer})},post:{"/assignments":Object(j.b)({func:function(e,t,n){Object(v.e)(t,"admin");var r=new B(e).find(n);if(r){var i=new B(e).getActiveOffer(r);if(!i)return new B(e).upsert(n);if(["withdrawn","provisional"].includes(i.status))return new B(e).upsert(Object(x.a)(Object(x.a)({},n),{},{_noActiveOffer:!0}));throw new Error("Cannot update an assignment that has an active offer with status '".concat(i.status,"'"))}return new B(e).upsert(n)},posts:j.a.assignment,summary:"Upsert an assignment",returns:j.a.assignment}),"/assignments/:assignment_id/wage_chunks":Object(j.b)({func:function(e,t,n){return Object(v.e)(t,"admin"),new P(e).setAllByAssignment(n,t.assignment_id)},summary:"Sets the wage chunks of an assignment to the specified list. The contents of the list are upserted. Omitted wage chunks are deleted.",posts:j.d.arrayOf(j.a.wageChunk),returns:j.d.arrayOf(j.a.wageChunk)}),"/assignments/:assignment_id/active_offer/withdraw":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).withdrawByAssignment(t.assignment_id)},summary:"Withdraws the active offer for the specified assignment",returns:j.a.offer}),"/assignments/:assignment_id/active_offer/reject":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).rejectByAssignment(t.assignment_id)},summary:"Rejects the active offer for the specified assignment",returns:j.a.offer}),"/assignments/:assignment_id/active_offer/accept":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).acceptByAssignment(t.assignment_id)},summary:"Accepts the active offer for the specified assignment",returns:j.a.offer}),"/assignments/:assignment_id/active_offer/create":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).createByAssignment(t.assignment_id)},summary:"Creates an offer for the specified assignment, provided there are no active offers for this assignment.",returns:j.a.offer}),"/assignments/:assignment_id/active_offer/email":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).emailByAssignment(t.assignment_id)},summary:"Emails the active offer for the specified assignment",returns:j.a.offer}),"/assignments/:assignment_id/active_offer/nag":Object(j.b)({func:function(e,t){return Object(v.e)(t,"admin"),new L(e).nagByAssignment(t.assignment_id)},summary:"Sends a nag email for the active offer for the specified assignment which has already been emailed once",returns:j.a.offer})}},W={},G=function(){function e(t){Object(s.a)(this,e),this.data=t}return Object(c.a)(e,[{key:"getAllData",value:function(){return this.data}},{key:"makeSnapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"snapshot";return W[e]=JSON.stringify(this.getAllData()),this.getAllData()}},{key:"clearData",value:function(){var e=this;return this.makeSnapshot("beforeclear"),Object.keys(this.data).forEach((function(t){var n;"available_contract_templates"!==t&&"contract_templates_by_filename"!==t&&(e.data[t]="object"===typeof(n=e.data[t])?n instanceof Array?[]:{}:"string"===typeof n?"":n.constructor())})),this.getAllData()}},{key:"restoreSnapshot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"snapshot",t=JSON.parse(W[e]||"{}");return this.clearData(),Object.assign(this.data,t),this.getAllData()}}]),e}(),V={get:{"/debug/active_user":Object(j.b)({func:function(e){return new k(e).getActiveUser()},summary:"Gets the active user; in debug mode this is specified by posting to `active_user`.",returns:j.a.user}),"/debug/users":Object(j.b)({func:function(e){return new k(e).findAll()},summary:"Get a list of all users",returns:j.d.arrayOf(j.a.user)}),"/debug/routes":Object(j.b)({func:function(){},summary:"Get a all available routes"}),"/debug/serializers":Object(j.b)({func:function(){},summary:"Get a all available serializers and their attributes. These will cover the majority of the payloads that the API can return."})},post:{"/debug/active_user":Object(j.b)({func:function(e,t,n){var r=new k(e),i=r.find(n);if(!i)throw new Error("Could not find user matching ".concat(JSON.stringify(n)));return r.setActiveUser(i),r.getActiveUser()},summary:"Sets the active user; this will override whatever credentials are passed to the server.",returns:j.d.arrayOf(j.a.user),posts:j.a.user}),"/debug/users":Object(j.b)({func:function(e,t,n){return new k(e).upsert(n)},summary:"Adds a user; this is done without any permission checks, so it can be used to bootstrap permissions during debug.",returns:j.d.arrayOf(j.a.user),posts:j.a.user}),"/debug/clear_data":Object(j.b)({func:function(e){return new G(e).clearData()},summary:"Deletes all data in the database"}),"/debug/snapshot":Object(j.b)({func:function(e){return new G(e).makeSnapshot()},summary:"Makes a snapshot of the current state of the database"}),"/debug/restore_snapshot":Object(j.b)({func:function(e){return new G(e).restoreSnapshot()},summary:"Restores the last snapshot of the database"})}};var q=function(e){Object(m.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,e,e.ddahs)}return Object(c.a)(n,[{key:"validateNew",value:function(e){var t=Object(v.j)(e,this.ownData,{assignment_id:{required:!0,unique:!0}});if(t)throw new Error(t)}},{key:"findAllBySession",value:function(e){var t=new g(this.data).find(e);if(!t)throw new Error("Cannot find DDAHs by session because session ".concat(JSON.stringify(e)," cannot be found"));var n=new B(this.data).findAllBySession(t).map((function(e){return e.id}));return this.ownData.filter((function(e){return n.includes(e.assignment_id)}))}}]),n}(v.a),Z={get:{"/sessions/:session_id/ddahs":Object(j.b)({func:function(e,t){if("admin"===t.role)return new q(e).findAllBySession(t.session_id);Object(v.e)(t,"")},summary:"Get all ddah forms associated with assignments for the given session",returns:j.d.arrayOf(j.a.ddah)}),"/sessions/:session_id/ddahs/accepted_list":Object(j.b)({func:function(e,t){if("admin"===t.role)throw new Error("Not implemented in mock API");Object(v.e)(t,"")},summary:"Get a signature list of all TAs who have acknowledged their DDAH form for this session. Returns a base64 encoded html file.",returns:j.d.shape({file_name:j.d.string,mime_type:j.d.string,content:j.d.string})}),"/sessions/:session_id/ddahs/accepted_list.pdf":Object(j.b)({func:function(e,t){if("admin"===t.role)throw new Error("Not implemented in mock API");Object(v.e)(t,"")},summary:"Get a signature list of all TAs who have acknowledged their DDAH form for this session. Returns a base64 encoded html file.",returns:j.d.shape({file_name:j.d.string,mime_type:j.d.string,content:j.d.string})}),"/ddahs/:ddah_id":Object(j.b)({func:function(e,t){return new q(e).find(t.ddah_id)},summary:"Get a ddah",returns:j.a.ddah}),"/assignments/:assignment_id/ddah":Object(j.b)({func:function(e,t){if("admin"===t.role||"instructor"===t.role){var n=new B(e).find(t.assignment_id);if(!n)throw new Error("Cannot create a DDAH because an assignment with id '".concat(t.assignment_id,"' cannot be found."));return new q(e).findAll().find((function(e){return e.assignment_id===n.id}))}Object(v.e)(t,"")},summary:"Find a DDAH associated with a specific assignment.",returns:j.a.ddah,roles:["instructor"]})},post:{"/ddahs":Object(j.b)({func:function(e,t,n){Object(v.e)(t,"admin");var r=new q(e).find({id:n.id});if(!r||!n.duties)return new q(e).upsert(n);var i={accepted_date:null,approved_date:null,signature:null};function a(e,t){return e.order-t.order}return JSON.stringify(Object(y.a)(n.duties).sort(a))!==JSON.stringify(Object(y.a)(r.duties).sort(a))?((r.accepted_date||r.emailed_date)&&(i.revised_date=new Date),new q(e).upsert(Object(x.a)(Object(x.a)({},n),i))):new q(e).upsert(n)},summary:"Upsert a ddah",posts:j.a.ddah,returns:j.a.ddah}),"/ddahs/:ddah_id/approve":Object(j.b)({func:function(e,t){Object(v.e)(t,"admin");var n=new q(e).find({id:t.ddah_id});if(!n)throw new Error("Could not find DDAH with id '".concat(t.ddah_id,"'"));return new q(e).upsert(Object(x.a)(Object(x.a)({},n),{},{approved_date:(new Date).toISOString()}))},summary:"Approve a DDAH",returns:j.a.ddah}),"/ddahs/:ddah_id/delete":Object(j.b)({func:function(e,t){if(Object(v.e)(t,"admin"),!new q(e).find({id:t.ddah_id}))throw new Error("Could not find DDAH with id '".concat(t.ddah_id,"'"));return new q(e).delete({id:t.ddah_id})},summary:"Delete a DDAH",returns:j.a.ddah}),"/ddahs/:ddah_id/email":Object(j.b)({func:function(e,t){if("admin"===t.role||"instructor"===t.role){var n=new q(e).find({id:t.ddah_id});if(!n)throw new Error("Could not find DDAH with id '".concat(t.ddah_id,"'"));return new q(e).upsert(Object(x.a)(Object(x.a)({},n),{},{emailed_date:(new Date).toISOString()}))}Object(v.e)(t,"")},summary:"Email a DDAH",returns:j.a.ddah,roles:["instructor"]}),"/assignments/:assignment_id/ddah":Object(j.b)({func:function(e,t,n){if("admin"===t.role||"instructor"===t.role){if(!new B(e).find(t.assignment_id))throw new Error("Cannot create a DDAH because an assignment with id '".concat(t.assignment_id,"' cannot be found."));return new q(e).upsert(Object(x.a)(Object(x.a)({},n),{},{assignment_id:Object(F.b)(t.assignment_id)}))}Object(v.e)(t,"")},summary:"Create a DDAH associated with a specific assignment. You may specify the details of the DDAH in th body of this request.",posts:j.a.ddah,returns:j.a.ddah})}},Y={get:{"/sessions/:session_id/positions/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Get all reporting tags associated with a session",returns:j.d.arrayOf(j.a.reportingTag)}),"/sessions/:session_id/wage_chunks/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Get all reporting tags associated with a session",returns:j.d.arrayOf(j.a.reportingTag)}),"/wage_chunks/:wage_chunk_id/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Get all reporting tags associated with a wage chunk",returns:j.d.arrayOf(j.a.reportingTag)}),"/positions/:position_id/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Get all reporting tags associated with a position",returns:j.d.arrayOf(j.a.reportingTag)})},post:{"/wage_chunks/:wage_chunk_id/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Add a reporting tag associated with a wage chunk",returns:j.a.reportingTag,posts:j.a.reportingTag}),"/wage_chunks/:wage_chunk_id/reporting_tags/delete":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Remove an association between a reporting tag and a wage chunk",returns:j.a.reportingTag,posts:j.a.reportingTag}),"/positions/:position_id/reporting_tags":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Add a reporting tag associated with a position",returns:j.a.reportingTag,posts:j.a.reportingTag}),"/positions/:position_id/reporting_tags/delete":Object(j.b)({func:function(){throw new Error("Not implemented in mock API")},summary:"Remove an association between a reporting tag and a position",returns:j.a.reportingTag,posts:j.a.reportingTag})}},K={get:{"/sessions/:session_id/postings":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get all postings associated with a session",returns:j.d.arrayOf(j.a.posting)}),"/sessions/:session_id/posting_positions":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get all posting_positions associated with a session",returns:j.d.arrayOf(j.a.posting_position)}),"/postings/:posting_id/posting_positions":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get all posting_positions associated with a posting",returns:j.d.arrayOf(j.a.posting_position)}),"/postings/:posting_id":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get a single posting",returns:j.a.posting}),"/postings/:posting_id/survey":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get the survey associated with a posting",returns:j.d.any}),"/posting_positions/:posting_position_id":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Get a single posting_position",returns:j.a.posting_position})},post:{"/sessions/:session_id/postings":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Upsert a posting",returns:j.a.posting,posts:j.a.posting}),"/postings":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Upsert a posting",returns:j.a.posting,posts:j.a.posting}),"/postings/delete":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Delete a posting",posts:j.a.idOnly,returns:j.a.posting}),"/postings/:posting_id/posting_positions":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Upsert a posting_position",returns:j.a.posting_position,posts:j.a.posting_position}),"/posting_positions":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Upsert a posting_position",returns:j.a.posting_position,posts:j.a.posting_position}),"/posting_positions/delete":Object(j.b)({func:function(){throw new Error("Not implemented")},summary:"Delete a posting_position",posts:j.a.idOnly,returns:j.a.posting_position})}},J={get:{"/public/ddahs/:token":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Get the contents of ddah as `html` or `pdf`",returns:j.d.any}),"/public/ddahs/:token/view":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"View a ddah with an accept dialog",returns:j.d.any}),"/public/ddahs/:token/details":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Get JSON information about a DDAH",returns:j.d.any}),"/public/contracts/:token":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Get an offer as `html` or `pdf`",returns:j.d.any}),"/public/contracts/:token/view":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"View an offer with an accept dialog",returns:j.d.any}),"/public/contracts/:token/details":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Get a JSON object with all the details about the offer",returns:j.d.any}),"/public/postings/:token":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Get a JSON object with the survey_js data for the posting",returns:j.d.any}),"/public/files/:token":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Return the file corresponding to the specified token",returns:j.d.any})},post:{"/public/ddahs/:token/accept":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Set a ddah as accepted",returns:j.d.any}),"/public/contracts/:token/accept":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Accept an offer",returns:j.d.any}),"/public/contracts/:token/reject":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Reject an offer",returns:j.d.any}),"/public/postings/:token/submit":Object(j.b)({func:function(){throw new Error("Not implemented in Mock API")},summary:"Submit survey_js data after filling out a posting",posts:j.d.any,returns:j.d.any})}},X=function(){function e(t){var n=this;Object(s.a)(this,e),this.routePrefix="/api/v1",this.getRoutes=Object.assign({},O.get,_.get,T.get,E.get,U.get,M.get,I.get,R.get,Z.get,Y.get,V.get,C.get,K.get,J.get,{"/all_data":Object(j.b)({func:function(e){return e},exclude:!0})}),this.postRoutes=Object.assign({},O.post,_.post,T.post,E.post,U.post,M.post,I.post,R.post,Z.post,Y.post,V.post,C.post,K.post,J.post),this.apiGET=function(e){var t,r=Object(o.a)(n._getRoutesParsers);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.match(e);if(a)try{return n.authenticateActiveUserBasedOnRole(a.role),{status:"success",message:"",payload:n.getRoutes[i.spec](n.data,a)}}catch(s){return{status:"error",message:s.toString()}}}}catch(c){r.e(c)}finally{r.f()}return{status:"error",message:"could not find route matching ".concat(e)}},this.apiPOST=function(e,t){var r,i=Object(o.a)(n._postRoutesParsers);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.match(e);if(s)try{return n.authenticateActiveUserBasedOnRole(s.role),{status:"success",message:"",payload:n.postRoutes[a.spec](n.data,s,t)}}catch(c){return{status:"error",message:c.toString()}}}}catch(u){i.e(u)}finally{i.f()}return{status:"error",message:"could not find route matching ".concat(e)}},this.active=!1,this.data=t,this._getRoutesParsers=Object.keys(this.getRoutes).map((function(e){var t=new l.a("(/:role)"+e);return t.spec=e,t})),this._postRoutesParsers=Object.keys(this.postRoutes).map((function(e){var t=new l.a("(/:role)"+e);return t.spec=e,t}))}return Object(c.a)(e,[{key:"authenticateActiveUserBasedOnRole",value:function(e){if(null!=e){var t=new k(this.data).getActiveUser();if(null!=t&&!t.roles.includes(e))throw new Error("Not authenticated for accessing routes with prefix /".concat(e))}}},{key:"replaceGlobalFetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.active||(this.active=!0,this._origFetch=fetch,window.fetch=function(){var n=Object(a.a)(i.a.mark((function n(r){var a,o,s,c,u,l=arguments;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=l.length>1&&void 0!==l[1]?l[1]:{},o=new URL(r,"http://dummy.com"),r=(r=o.pathname).startsWith(e.routePrefix)?r.replace(e.routePrefix,""):r,"GET"===a.method?s=e.apiGET(r):("string"===typeof(c=a.body)&&(c=JSON.parse(c)),s=e.apiPOST(r,c)),console.log("MockAPI ".concat(a.method," Request."),r,a,"Responding with",s),u=new Response(new Blob([JSON.stringify(s)],{type:"application/json"}),{status:200,statusText:"OK"}),n.abrupt("return",new Promise((function(e){window.setTimeout((function(){return e(u)}),t)})));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"restoreGlobalFetch",value:function(){this.active=!1,window.fetch=this._origFetch||fetch}}]),e}(),$=new X(f)},325:function(e,t,n){},335:function(e,t){},344:function(e,t,n){},345:function(e,t,n){(function(t,n,r,i){e.exports=function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,n,r)}return n[o].exports}for(var a=!1,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,o,s,c,u,l=[],d=0,f=e.length,p=f,h="string"!==r.getTypeOf(e);d<e.length;)p=f-d,i=h?(t=e[d++],n=d<f?e[d++]:0,d<f?e[d++]:0):(t=e.charCodeAt(d++),n=d<f?e.charCodeAt(d++):0,d<f?e.charCodeAt(d++):0),o=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|i>>6:64,u=2<p?63&i:64,l.push(a.charAt(o)+a.charAt(s)+a.charAt(c)+a.charAt(u));return l.join("")},n.decode=function(e){var t,n,r,o,s,c,u=0,l=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var f,p=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(f=i.uint8array?new Uint8Array(0|p):new Array(0|p);u<e.length;)t=a.indexOf(e.charAt(u++))<<2|(o=a.indexOf(e.charAt(u++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(c=a.indexOf(e.charAt(u++))),f[l++]=t,64!==s&&(f[l++]=n),64!==c&&(f[l++]=r);return f}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=r?"uint8array":"array";function c(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,o,l){var d,f,p=e.file,h=e.compression,m=l!==s.utf8encode,b=a.transformTo("string",l(p.name)),v=a.transformTo("string",s.utf8encode(p.name)),j=p.comment,g=a.transformTo("string",l(j)),O=a.transformTo("string",s.utf8encode(j)),y=v.length!==p.name.length,w=O.length!==j.length,_="",x="",S="",k=p.dir,C=p.date,A={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(A.crc32=e.crc32,A.compressedSize=e.compressedSize,A.uncompressedSize=e.uncompressedSize);var E=0;t&&(E|=8),m||!y&&!w||(E|=2048);var D=0,T=0;k&&(D|=16),"UNIX"===o?(T=798,D|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,k)):(T=20,D|=function(e){return 63&(e||0)}(p.dosPermissions)),d=C.getUTCHours(),d<<=6,d|=C.getUTCMinutes(),d<<=5,d|=C.getUTCSeconds()/2,f=C.getUTCFullYear()-1980,f<<=4,f|=C.getUTCMonth()+1,f<<=5,f|=C.getUTCDate(),y&&(x=r(1,1)+r(c(b),4)+v,_+="up"+r(x.length,2)+x),w&&(S=r(1,1)+r(c(g),4)+O,_+="uc"+r(S.length,2)+S);var N="";return N+="\n\0",N+=r(E,2),N+=h.magic,N+=r(d,2),N+=r(f,2),N+=r(A.crc32,4),N+=r(A.compressedSize,4),N+=r(A.uncompressedSize,4),N+=r(b.length,2),N+=r(_.length,2),{fileRecord:u.LOCAL_FILE_HEADER+N+b+_,dirRecord:u.CENTRAL_FILE_HEADER+r(T,2)+N+r(g.length,2)+"\0\0\0\0"+r(D,4)+r(i,4)+b+_+g}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),u=e("../signature");function l(e,t,n,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(l,o),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,o){var s=a.transformTo("string",o(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},l.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new i(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,n){o++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.0",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new o(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var a=0;a<r.length;a++)n.push(u(r[a]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),a=i.files,o=0;o<a.length;o++){var s=a[o],c=s.fileNameStr,u=r.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=c)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function a(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(a,i),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,n,r){"use strict";n.exports={isNode:"undefined"!=typeof t,newBufferFrom:function(e,n){if(t.from&&t.from!==Uint8Array.from)return t.from(e,n);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new t(e,n)},allocBuffer:function(e){if(t.alloc)return t.alloc(e);var n=new t(e);return n.fill(0),n},isBuffer:function(e){return t.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=a.getTypeOf(t),s=a.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=h(e))&&b.call(this,r,!0);var d="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!d),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var v=null;v=t instanceof u||t instanceof o?t:f.isNode&&f.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var j=new l(e,v,s);this.files[e]=j}var i=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),l=e("./zipObject"),d=e("./generate"),f=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},b=function(e,t){return t=void 0!==t?t:c.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var j={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=b.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=d.generateWorker(this,n,r)}catch(e){(t=new o("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=j},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new c(r.transformTo("uint8array",e)):new a(r.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function a(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(a,r),a.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,r),a.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(a,i),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function a(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,n,r){"use strict";var i=e("../utils"),a=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),c=e("../support"),u=e("../external"),l=null;if(c.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,n){return new u.Promise((function(r,a){var o=[],c=e._internalType,u=e._outputType,l=e._mimeType;e.on("data",(function(e,t){o.push(e),n&&n(t)})).on("error",(function(e){o=[],a(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,n){var r,i=0,a=null,o=0;for(r=0;r<n.length;r++)o+=n[r].length;switch(e){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(a=new Uint8Array(o),r=0;r<n.length;r++)a.set(n[r],i),i+=n[r].length;return a;case"nodebuffer":return t.concat(n);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,o),l);r(e)}catch(e){a(e)}o=[]})).resume()}))}function f(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new a(r)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,n,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof t,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(i),r.blob=0===a.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){o.call(this,"utf-8 decode"),this.leftOver=null}function l(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,r,a,o,s=e.length,c=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(c):new Array(c),a=o=0;o<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,a,o=e.length,c=new Array(2*o);for(t=n=0;t<o;)if((i=e[t++])<128)c[n++]=i;else if(4<(a=s[i]))c[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&t<o;)i=i<<6|63&e[t++],a--;1<a?c[n++]=65533:i<65536?c[n++]=i:(i-=65536,c[n++]=55296|i>>10&1023,c[n++]=56320|1023&i)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),r.applyFromCharCode(c)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,o),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;o!==t.length&&(i.uint8array?(c=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(c=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(l,o),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var i=e("./support"),a=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function c(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),r.newBlob=function(t,n){r.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var r=[],i=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;i<a;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=l.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=l.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return l.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function f(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}r.applyFromCharCode=d;var p={};p.string={string:c,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},p.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:c},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return p[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},r.delay=function(e,t,r){n((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},r.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},r.prepareContent=function(e,t,n,o,c){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var l=r.getTypeOf(t);return l?("arraybuffer"===l?t=r.transformTo("uint8array",t):"string"===l&&(c?t=a.decode(t):n&&!0!==o&&(t=function(e){return u(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),c=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var a=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!r&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&r&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)r.prototype[u[d]]=l;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,o=new i(l),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var a={},o=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==i&&p(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return a.reject(e,r)}r===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,r)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function r(t){n||(n=!0,a.reject(e,t))}function i(t){n||(n=!0,a.resolve(e,t))}var o=h((function(){t(i,r)}));"error"===o.status&&r(o.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(i);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return a.reject(e,n.value);var r=n.value;if(r)p(e,r);else{e.state=s,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,c=-1,u=new this(i);++c<n;)l(e[c],c);return u;function l(e,i){t.resolve(e).then((function(e){o[i]=e,++s!==n||r||(r=!0,a.resolve(u,o))}),(function(e){r||(r=!0,a.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var o,s=-1,c=new this(i);++s<n;)o=e[s],t.resolve(o).then((function(e){r||(r=!0,a.resolve(c,e))}),(function(e){r||(r=!0,a.reject(c,e))}));return c}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,u=0,l=-1,d=0,f=8;function p(e){if(!(this instanceof p))return new p(e);this.options=i.assign({level:l,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(o[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,h))!==u)throw new Error(o[n]);this._dict_set=!0}}function h(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=r.deflate(s,o))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==o||(this.onEnd(u),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=h,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),l=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,u,d,f,p=this.strm,h=this.options.chunkSize,m=this.options.dictionary,b=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new i.Buf8(h),p.next_out=0,p.avail_out=h),(n=r.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&m&&(f="string"==typeof m?a.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===b&&(n=o.Z_OK,b=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=a.utf8border(p.output,p.next_out),u=p.next_out-c,d=a.buf2string(p.output,c),p.next_out=u,p.avail_out=h-u,u&&i.arraySet(p.output,p.output,c,u,0),this.onData(d)):this.onData(i.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(b=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=f,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){var t,n,r,i,a,o;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(o=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)a=e[t],o.set(a,i),i+=a.length;return o}},a={arraySet:function(e,t,n,r,i){for(var a=0;a<r;a++)e[i+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,i,a,o,s=e.length,c=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(c),a=o=0;o<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,a,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(a=o[i]))u[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<s;)i=i<<6|63&e[n++],a--;1<a?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return c(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+t[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),c=e("./messages"),u=0,l=4,d=0,f=-2,p=-1,h=4,m=2,b=8,v=9,j=286,g=30,O=19,y=2*j+1,w=15,_=3,x=258,S=x+_+1,k=42,C=113,A=1,E=2,D=3,T=4;function N(e,t){return e.msg=c[t],t}function P(e){return(e<<1)-(4<e?9:0)}function R(e){for(var t=e.length;0<=--t;)e[t]=0}function H(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function I(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,H(e.strm)}function F(e,t){e.pending_buf[e.pending++]=t}function z(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function M(e,t){var n,r,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-S?e.strstart-(e.w_size-S):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+x,p=u[a+o-1],h=u[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+o]===h&&u[n+o-1]===p&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(r=x-(f-a),a=f-x,o<r){if(e.match_start=t,s<=(o=r))break;p=u[a+o-1],h=u[a+o]}}}while((t=d[t&l])>c&&0!=--i);return o<=e.lookahead?o:e.lookahead}function B(e){var t,n,r,a,c,u,l,d,f,p,h=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-S)){for(i.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;r=e.head[--t],e.head[t]=h<=r?r-h:0,--n;);for(t=n=h;r=e.prev[--t],e.prev[t]=h<=r?r-h:0,--n;);a+=h}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,d=e.strstart+e.lookahead,p=void 0,(f=a)<(p=u.avail_in)&&(p=f),n=0===p?0:(u.avail_in-=p,i.arraySet(l,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=o(u.adler,l,p,d):2===u.state.wrap&&(u.adler=s(u.adler,l,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=_)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+_-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<_)););}while(e.lookahead<S&&0!==e.strm.avail_in)}function L(e,t){for(var n,r;;){if(e.lookahead<S){if(B(e),e.lookahead<S&&t===u)return A;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-S&&(e.match_length=M(e,n)),e.match_length>=_)if(r=a._tr_tally(e,e.strstart-e.match_start,e.match_length-_),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=_){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(I(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<_-1?e.strstart:_-1,t===l?(I(e,!0),0===e.strm.avail_out?D:T):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?A:E}function U(e,t){for(var n,r,i;;){if(e.lookahead<S){if(B(e),e.lookahead<S&&t===u)return A;if(0===e.lookahead)break}if(n=0,e.lookahead>=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=_-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-S&&(e.match_length=M(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===_&&4096<e.strstart-e.match_start)&&(e.match_length=_-1)),e.prev_length>=_&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-_,r=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-_),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+_-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=_-1,e.strstart++,r&&(I(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((r=a._tr_tally(e,0,e.window[e.strstart-1]))&&I(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<_-1?e.strstart:_-1,t===l?(I(e,!0),0===e.strm.avail_out?D:T):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?A:E}function W(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function G(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*y),this.dyn_dtree=new i.Buf16(2*(2*g+1)),this.bl_tree=new i.Buf16(2*(2*O+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(w+1),this.heap=new i.Buf16(2*j+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*j+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:C,e.adler=2===t.wrap?0:1,t.last_flush=u,a._tr_init(t),d):N(e,f)}function q(e){var t=V(e);return t===d&&function(e){e.window_size=2*e.w_size,R(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=_-1,e.match_available=0,e.ins_h=0}(e.state),t}function Z(e,t,n,r,a,o){if(!e)return f;var s=1;if(t===p&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),a<1||v<a||n!==b||r<8||15<r||t<0||9<t||o<0||h<o)return N(e,f);8===r&&(r=9);var c=new G;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+_-1)/_),c.window=new i.Buf8(2*c.w_size),c.head=new i.Buf16(c.hash_size),c.prev=new i.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new i.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,q(e)}r=[new W(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===u)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,I(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-S&&(I(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?D:T):(e.strstart>e.block_start&&(I(e,!1),e.strm.avail_out),A)})),new W(4,4,8,4,L),new W(4,5,16,8,L),new W(4,6,32,32,L),new W(4,4,16,16,U),new W(8,16,32,32,U),new W(8,16,128,128,U),new W(8,32,128,256,U),new W(32,128,258,1024,U),new W(32,258,258,4096,U)],n.deflateInit=function(e,t){return Z(e,t,b,15,8,0)},n.deflateInit2=Z,n.deflateReset=q,n.deflateResetKeep=V,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?f:(e.state.gzhead=t,d):f},n.deflate=function(e,t){var n,i,o,c;if(!e||!e.state||5<t||t<0)return e?N(e,f):f;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l)return N(e,0===e.avail_out?-5:f);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===k)if(2===i.wrap)e.adler=0,F(i,31),F(i,139),F(i,8),i.gzhead?(F(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),F(i,255&i.gzhead.time),F(i,i.gzhead.time>>8&255),F(i,i.gzhead.time>>16&255),F(i,i.gzhead.time>>24&255),F(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),F(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(F(i,255&i.gzhead.extra.length),F(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(F(i,0),F(i,0),F(i,0),F(i,0),F(i,0),F(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),F(i,3),i.status=C);else{var p=b+(i.w_bits-8<<4)<<8;p|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(p|=32),p+=31-p%31,i.status=C,z(i,p),0!==i.strstart&&(z(i,e.adler>>>16),z(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),H(e),o=i.pending,i.pending!==i.pending_buf_size));)F(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),H(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,F(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),H(e),o=i.pending,i.pending===i.pending_buf_size)){c=1;break}c=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,F(i,c)}while(0!==c);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===c&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&H(e),i.pending+2<=i.pending_buf_size&&(F(i,255&e.adler),F(i,e.adler>>8&255),e.adler=0,i.status=C)):i.status=C),0!==i.pending){if(H(e),0===e.avail_out)return i.last_flush=-1,d}else if(0===e.avail_in&&P(t)<=P(n)&&t!==l)return N(e,-5);if(666===i.status&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var h=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===u)return A;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(I(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?D:T):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?A:E}(i,t):3===i.strategy?function(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=x){if(B(e),e.lookahead<=x&&t===u)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=_&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=e.strstart+x;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=x-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=_?(n=a._tr_tally(e,1,e.match_length-_),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(I(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(I(e,!0),0===e.strm.avail_out?D:T):e.last_lit&&(I(e,!1),0===e.strm.avail_out)?A:E}(i,t):r[i.level].func(i,t);if(h!==D&&h!==T||(i.status=666),h===A||h===D)return 0===e.avail_out&&(i.last_flush=-1),d;if(h===E&&(1===t?a._tr_align(i):5!==t&&(a._tr_stored_block(i,0,0,!1),3===t&&(R(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),H(e),0===e.avail_out))return i.last_flush=-1,d}return t!==l?d:i.wrap<=0?1:(2===i.wrap?(F(i,255&e.adler),F(i,e.adler>>8&255),F(i,e.adler>>16&255),F(i,e.adler>>24&255),F(i,255&e.total_in),F(i,e.total_in>>8&255),F(i,e.total_in>>16&255),F(i,e.total_in>>24&255)):(z(i,e.adler>>>16),z(i,65535&e.adler)),H(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&103!==t&&t!==C&&666!==t?N(e,f):(e.state=null,t===C?N(e,-3):d):f},n.deflateSetDictionary=function(e,t){var n,r,a,s,c,u,l,p,h=t.length;if(!e||!e.state)return f;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==k||n.lookahead)return f;for(1===s&&(e.adler=o(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===s&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,h-n.w_size,n.w_size,0),t=p,h=n.w_size),c=e.avail_in,u=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,B(n);n.lookahead>=_;){for(r=n.strstart,a=n.lookahead-(_-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+_-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--a;);n.strstart=r,n.lookahead=_-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=_-1,n.match_available=0,e.next_in=u,e.input=l,e.avail_in=c,n.wrap=s,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,a,o,s,c,u,l,d,f,p,h,m,b,v,j,g,O,y,w,_,x,S,k;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),a=e.next_out,k=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,d=n.wnext,f=n.window,p=n.hold,h=n.bits,m=n.lencode,b=n.distcode,v=(1<<n.lenbits)-1,j=(1<<n.distbits)-1;e:do{h<15&&(p+=S[r++]<<h,h+=8,p+=S[r++]<<h,h+=8),g=m[p&v];t:for(;;){if(p>>>=O=g>>>24,h-=O,0===(O=g>>>16&255))k[a++]=65535&g;else{if(!(16&O)){if(0==(64&O)){g=m[(65535&g)+(p&(1<<O)-1)];continue t}if(32&O){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&g,(O&=15)&&(h<O&&(p+=S[r++]<<h,h+=8),y+=p&(1<<O)-1,p>>>=O,h-=O),h<15&&(p+=S[r++]<<h,h+=8,p+=S[r++]<<h,h+=8),g=b[p&j];n:for(;;){if(p>>>=O=g>>>24,h-=O,!(16&(O=g>>>16&255))){if(0==(64&O)){g=b[(65535&g)+(p&(1<<O)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&g,h<(O&=15)&&(p+=S[r++]<<h,(h+=8)<O&&(p+=S[r++]<<h,h+=8)),c<(w+=p&(1<<O)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=O,h-=O,(O=a-o)<w){if(l<(O=w-O)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=f,(_=0)===d){if(_+=u-O,O<y){for(y-=O;k[a++]=f[_++],--O;);_=a-w,x=k}}else if(d<O){if(_+=u+d-O,(O-=d)<y){for(y-=O;k[a++]=f[_++],--O;);if(_=0,d<y){for(y-=O=d;k[a++]=f[_++],--O;);_=a-w,x=k}}}else if(_+=d-O,O<y){for(y-=O;k[a++]=f[_++],--O;);_=a-w,x=k}for(;2<y;)k[a++]=x[_++],k[a++]=x[_++],k[a++]=x[_++],y-=3;y&&(k[a++]=x[_++],1<y&&(k[a++]=x[_++]))}else{for(_=a-w;k[a++]=k[_++],k[a++]=k[_++],k[a++]=k[_++],2<(y-=3););y&&(k[a++]=k[_++],1<y&&(k[a++]=k[_++]))}break}}break}}while(r<i&&a<s);r-=y=h>>3,p&=(1<<(h-=y<<3))-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=h}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),c=1,u=2,l=0,d=-2,f=1,p=852,h=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=f,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(p),t.distcode=t.distdyn=new r.Buf32(h),t.sane=1,t.back=-1,l):d}function j(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):d}function g(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,j(e))):d}function O(e,t){var n,r;return e?(r=new b,(e.state=r).window=null,(n=g(e,t))!==l&&(e.state=null),n):d}var y,w,_=!0;function x(e){if(_){var t;for(y=new r.Buf32(512),w=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,w,0,e.work,{bits:5}),_=!1}e.lencode=y,e.lenbits=9,e.distcode=w,e.distbits=5}function S(e,t,n,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i<(a=o.wsize-o.wnext)&&(a=i),r.arraySet(o.window,t,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,t,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=j,n.inflateReset2=g,n.inflateResetKeep=v,n.inflateInit=function(e){return O(e,15)},n.inflateInit2=O,n.inflate=function(e,t){var n,p,h,b,v,j,g,O,y,w,_,k,C,A,E,D,T,N,P,R,H,I,F,z,M=0,B=new r.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,h=e.output,g=e.avail_out,b=e.next_in,p=e.input,j=e.avail_in,O=n.hold,y=n.bits,w=j,_=g,I=l;e:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(2&n.wrap&&35615===O){B[n.check=0]=255&O,B[1]=O>>>8&255,n.check=a(n.check,B,2,0),y=O=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&O)<<8)+(O>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&O)){e.msg="unknown compression method",n.mode=30;break}if(y-=4,H=8+(15&(O>>>=4)),0===n.wbits)n.wbits=H;else if(H>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<H,e.adler=n.check=1,n.mode=512&O?10:12,y=O=0;break;case 2:for(;y<16;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(n.flags=O,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=O>>8&1),512&n.flags&&(B[0]=255&O,B[1]=O>>>8&255,n.check=a(n.check,B,2,0)),y=O=0,n.mode=3;case 3:for(;y<32;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.head&&(n.head.time=O),512&n.flags&&(B[0]=255&O,B[1]=O>>>8&255,B[2]=O>>>16&255,B[3]=O>>>24&255,n.check=a(n.check,B,4,0)),y=O=0,n.mode=4;case 4:for(;y<16;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.head&&(n.head.xflags=255&O,n.head.os=O>>8),512&n.flags&&(B[0]=255&O,B[1]=O>>>8&255,n.check=a(n.check,B,2,0)),y=O=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.length=O,n.head&&(n.head.extra_len=O),512&n.flags&&(B[0]=255&O,B[1]=O>>>8&255,n.check=a(n.check,B,2,0)),y=O=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(j<(k=n.length)&&(k=j),k&&(n.head&&(H=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,p,b,k,H)),512&n.flags&&(n.check=a(n.check,p,k,b)),j-=k,b+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===j)break e;for(k=0;H=p[b+k++],n.head&&H&&n.length<65536&&(n.head.name+=String.fromCharCode(H)),H&&k<j;);if(512&n.flags&&(n.check=a(n.check,p,k,b)),j-=k,b+=k,H)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===j)break e;for(k=0;H=p[b+k++],n.head&&H&&n.length<65536&&(n.head.comment+=String.fromCharCode(H)),H&&k<j;);if(512&n.flags&&(n.check=a(n.check,p,k,b)),j-=k,b+=k,H)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(O!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}y=O=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}e.adler=n.check=m(O),y=O=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=g,e.next_in=b,e.avail_in=j,n.hold=O,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){O>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}switch(n.last=1&O,y-=1,3&(O>>>=1)){case 0:n.mode=14;break;case 1:if(x(n),n.mode=20,6!==t)break;O>>>=2,y-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}O>>>=2,y-=2;break;case 14:for(O>>>=7&y,y-=7&y;y<32;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if((65535&O)!=(O>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&O,y=O=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(j<k&&(k=j),g<k&&(k=g),0===k)break e;r.arraySet(h,p,b,k,v),j-=k,b+=k,g-=k,v+=k,n.length-=k;break}n.mode=12;break;case 17:for(;y<14;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(n.nlen=257+(31&O),O>>>=5,y-=5,n.ndist=1+(31&O),O>>>=5,y-=5,n.ncode=4+(15&O),O>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.lens[L[n.have++]]=7&O,O>>>=3,y-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},I=s(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,I){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;D=(M=n.lencode[O&(1<<n.lenbits)-1])>>>16&255,T=65535&M,!((E=M>>>24)<=y);){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(T<16)O>>>=E,y-=E,n.lens[n.have++]=T;else{if(16===T){for(z=E+2;y<z;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(O>>>=E,y-=E,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}H=n.lens[n.have-1],k=3+(3&O),O>>>=2,y-=2}else if(17===T){for(z=E+3;y<z;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}y-=E,H=0,k=3+(7&(O>>>=E)),O>>>=3,y-=3}else{for(z=E+7;y<z;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}y-=E,H=0,k=11+(127&(O>>>=E)),O>>>=7,y-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;k--;)n.lens[n.have++]=H}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,F={bits:n.lenbits},I=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,I){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},I=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,I){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=j&&258<=g){e.next_out=v,e.avail_out=g,e.next_in=b,e.avail_in=j,n.hold=O,n.bits=y,o(e,_),v=e.next_out,h=e.output,g=e.avail_out,b=e.next_in,p=e.input,j=e.avail_in,O=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;D=(M=n.lencode[O&(1<<n.lenbits)-1])>>>16&255,T=65535&M,!((E=M>>>24)<=y);){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(D&&0==(240&D)){for(N=E,P=D,R=T;D=(M=n.lencode[R+((O&(1<<N+P)-1)>>N)])>>>16&255,T=65535&M,!(N+(E=M>>>24)<=y);){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}O>>>=N,y-=N,n.back+=N}if(O>>>=E,y-=E,n.back+=E,n.length=T,0===D){n.mode=26;break}if(32&D){n.back=-1,n.mode=12;break}if(64&D){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&D,n.mode=22;case 22:if(n.extra){for(z=n.extra;y<z;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.length+=O&(1<<n.extra)-1,O>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;D=(M=n.distcode[O&(1<<n.distbits)-1])>>>16&255,T=65535&M,!((E=M>>>24)<=y);){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(0==(240&D)){for(N=E,P=D,R=T;D=(M=n.distcode[R+((O&(1<<N+P)-1)>>N)])>>>16&255,T=65535&M,!(N+(E=M>>>24)<=y);){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}O>>>=N,y-=N,n.back+=N}if(O>>>=E,y-=E,n.back+=E,64&D){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&D,n.mode=24;case 24:if(n.extra){for(z=n.extra;y<z;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}n.offset+=O&(1<<n.extra)-1,O>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(k=_-g,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C=k>n.wnext?(k-=n.wnext,n.wsize-k):n.wnext-k,k>n.length&&(k=n.length),A=n.window}else A=h,C=v-n.offset,k=n.length;for(g<k&&(k=g),g-=k,n.length-=k;h[v++]=A[C++],--k;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;h[v++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===j)break e;j--,O|=p[b++]<<y,y+=8}if(_-=g,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?a(n.check,h,_,v-_):i(n.check,h,_,v-_)),_=g,(n.flags?O:m(O))!==n.check){e.msg="incorrect data check",n.mode=30;break}y=O=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===j)break e;j--,O+=p[b++]<<y,y+=8}if(O!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}y=O=0}n.mode=29;case 29:I=1;break e;case 30:I=-3;break e;case 31:return-4;case 32:default:return d}return e.next_out=v,e.avail_out=g,e.next_in=b,e.avail_in=j,n.hold=O,n.bits=y,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,_-=e.avail_out,e.total_in+=w,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?a(n.check,h,_,e.next_out-_):i(n.check,h,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===_||4===t)&&I===l&&(I=-5),I)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,l):d},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&i(1,t,r,0)!==n.check?-3:S(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,l):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,u,l,d,f){var p,h,m,b,v,j,g,O,y,w=f.bits,_=0,x=0,S=0,k=0,C=0,A=0,E=0,D=0,T=0,N=0,P=null,R=0,H=new r.Buf16(16),I=new r.Buf16(16),F=null,z=0;for(_=0;_<=15;_++)H[_]=0;for(x=0;x<c;x++)H[t[n+x]]++;for(C=w,k=15;1<=k&&0===H[k];k--);if(k<C&&(C=k),0===k)return u[l++]=20971520,u[l++]=20971520,f.bits=1,0;for(S=1;S<k&&0===H[S];S++);for(C<S&&(C=S),_=D=1;_<=15;_++)if(D<<=1,(D-=H[_])<0)return-1;if(0<D&&(0===e||1!==k))return-1;for(I[1]=0,_=1;_<15;_++)I[_+1]=I[_]+H[_];for(x=0;x<c;x++)0!==t[n+x]&&(d[I[t[n+x]]++]=x);if(j=0===e?(P=F=d,19):1===e?(P=i,R-=257,F=a,z-=257,256):(P=o,F=s,-1),_=S,v=l,E=x=N=0,m=-1,b=(T=1<<(A=C))-1,1===e&&852<T||2===e&&592<T)return 1;for(;;){for(g=_-E,y=d[x]<j?(O=0,d[x]):d[x]>j?(O=F[z+d[x]],P[R+d[x]]):(O=96,0),p=1<<_-E,S=h=1<<A;u[v+(N>>E)+(h-=p)]=g<<24|O<<16|y|0,0!==h;);for(p=1<<_-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,x++,0==--H[_]){if(_===k)break;_=t[n+d[x]]}if(C<_&&(N&b)!==m){for(0===E&&(E=C),v+=S,D=1<<(A=_-E);A+E<k&&!((D-=H[A+E])<=0);)A++,D<<=1;if(T+=1<<A,1===e&&852<T||2===e&&592<T)return 1;u[m=N&b]=C<<24|A<<16|v-l|0}}return 0!==N&&(u[v+N]=_-E<<24|64<<16|0),f.bits=C,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,u=256,l=u+1+c,d=30,f=19,p=2*l+1,h=15,m=16,b=7,v=256,j=16,g=17,O=18,y=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=new Array(2*(l+2));o(S);var k=new Array(2*d);o(k);var C=new Array(512);o(C);var A=new Array(256);o(A);var E=new Array(c);o(E);var D,T,N,P=new Array(d);function R(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function H(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function I(e){return e<256?C[e]:C[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function M(e,t,n){z(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function L(e,t,n){var r,i,a=new Array(h+1),o=0;for(r=1;r<=h;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=B(a[s]++,s))}}function U(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<f;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){8<e.bi_valid?F(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function G(e,t,n,r){var i=2*t,a=2*n;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]}function V(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&G(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!G(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function q(e,t,n){var r,i,a,o,s=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?M(e,i,t):(M(e,(a=A[i])+u+1,t),0!==(o=y[a])&&z(e,i-=E[a],o),M(e,a=I(--r),n),0!==(o=w[a])&&z(e,r-=P[a],o)),s<e.last_lit;);M(e,v,t)}function Z(e,t){var n,r,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<c;n++)0!==a[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)V(e,a,n);for(i=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],V(e,a,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,a[2*i]=a[2*n]+a[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,a[2*n+1]=a[2*r+1]=i,e.heap[1]=i++,V(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,a,o,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,b=t.stat_desc.max_length,v=0;for(a=0;a<=h;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)b<(a=c[2*c[2*(r=e.heap[n])+1]+1]+1)&&(a=b,v++),c[2*r+1]=a,u<r||(e.bl_count[a]++,o=0,m<=r&&(o=f[r-m]),s=c[2*r],e.opt_len+=s*(a+o),d&&(e.static_len+=s*(l[2*r+1]+o)));if(0!==v){do{for(a=b-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[b]--,v-=2}while(0<v);for(a=b;0!==a;a--)for(r=e.bl_count[a];0!==r;)u<(i=e.heap[--n])||(c[2*i+1]!==a&&(e.opt_len+=(a-c[2*i+1])*c[2*i],c[2*i+1]=a),r--)}}(e,t),L(a,u,e.bl_count)}function Y(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=t[2*(r+1)+1],++s<c&&i===o||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*j]++):s<=10?e.bl_tree[2*g]++:e.bl_tree[2*O]++,a=i,u=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4))}function K(e,t,n){var r,i,a=-1,o=t[1],s=0,c=7,u=4;for(0===o&&(c=138,u=3),r=0;r<=n;r++)if(i=o,o=t[2*(r+1)+1],!(++s<c&&i===o)){if(s<u)for(;M(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==a&&(M(e,i,e.bl_tree),s--),M(e,j,e.bl_tree),z(e,s-3,2)):s<=10?(M(e,g,e.bl_tree),z(e,s-3,3)):(M(e,O,e.bl_tree),z(e,s-11,7));a=i,u=(s=0)===o?(c=138,3):i===o?(c=6,3):(c=7,4)}}o(P);var J=!1;function X(e,t,n,i){z(e,(s<<1)+(i?1:0),3),function(e,t,n,i){W(e),i&&(F(e,n),F(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){J||(function(){var e,t,n,r,i,a=new Array(h+1);for(r=n=0;r<c-1;r++)for(E[r]=n,e=0;e<1<<y[r];e++)A[n++]=r;for(A[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<w[r];e++)C[i++]=r;for(i>>=7;r<d;r++)for(P[r]=i<<7,e=0;e<1<<w[r]-7;e++)C[256+i++]=r;for(t=0;t<=h;t++)a[t]=0;for(e=0;e<=143;)S[2*e+1]=8,e++,a[8]++;for(;e<=255;)S[2*e+1]=9,e++,a[9]++;for(;e<=279;)S[2*e+1]=7,e++,a[7]++;for(;e<=287;)S[2*e+1]=8,e++,a[8]++;for(L(S,l+1,a),e=0;e<d;e++)k[2*e+1]=5,k[2*e]=B(e,5);D=new R(S,y,u+1,l,h),T=new R(k,w,0,d,h),N=new R(new Array(0),_,0,f,b)}(),J=!0),e.l_desc=new H(e.dyn_ltree,D),e.d_desc=new H(e.dyn_dtree,T),e.bl_desc=new H(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,U(e)},n._tr_stored_block=X,n._tr_flush_block=function(e,t,n,r){var o,s,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return a;return i}(e)),Z(e,e.l_desc),Z(e,e.d_desc),c=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),Z(e,e.bl_desc),t=f-1;3<=t&&0===e.bl_tree[2*x[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?X(e,t,n,r):4===e.strategy||s===o?(z(e,2+(r?1:0),3),q(e,S,k)):(z(e,4+(r?1:0),3),function(e,t,n,r){var i;for(z(e,t-257,5),z(e,n-1,5),z(e,r-4,4),i=0;i<r;i++)z(e,e.bl_tree[2*x[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),q(e,e.dyn_ltree,e.dyn_dtree)),U(e),r&&W(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(A[n]+u+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){z(e,2,3),M(e,v,S),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,a,o,s=1,c={},u=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,n="[object process]"==={}.toString.call(e.process)?function(e){i.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",h,!1):e.attachEvent("onmessage",h),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){a.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(r=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[s]=i,n(s),s++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(u)setTimeout(p,0,e);else{var n=c[e];if(n){u=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{f(e),u=!1}}}}function h(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}).call(this,n(135).Buffer,n(346).setImmediate,n(59),n(169))},424:function(e,t){},440:function(e,t){},441:function(e,t){},461:function(e,t,n){e.exports=n(741)},462:function(e,t,n){var r=n(746),i=n(747),a={float:"cssFloat"},o=n(750);function s(e,t,n){var s=a[t];if("undefined"===typeof s&&(s=function(e){var t=i(e),n=r(t);return a[t]=a[e]=a[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=o(s,n)}}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function u(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:c(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},464:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!==i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}},465:function(e,t,n){var r=n(765),i=n(766),a=n(767),o=n(769);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},466:function(e,t,n){var r=n(772);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},467:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},468:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},469:function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(470),a=Object.keys,o=a?function(e){return a(e)}:n(774),s=Object.keys;o.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=o;return Object.keys||o},e.exports=o},470:function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},472:function(e,t,n){"use strict";var r=function(e){return e!==e};e.exports=function(e,t){return 0===e&&0===t?1/e===1/t:e===t||!(!r(e)||!r(t))}},473:function(e,t,n){"use strict";var r=n(472);e.exports=function(){return"function"===typeof Object.is?Object.is:r}},474:function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},475:function(e,t,n){"use strict";var r=n(474),i=n(248).supportsDescriptors,a=Object.getOwnPropertyDescriptor,o=TypeError;e.exports=function(){if(!i)throw new o("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=a(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof/a/.dotAll)return e.get}return r}},476:function(e,t,n){},741:function(e,t,n){var r=n(24);!function(e,t){"use strict";function n(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,c,"next",e)}function c(e){n(o,i,a,s,c,"throw",e)}s(void 0)}))}}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var c={init:"init"},u=function(e){var t=e.value;return void 0===t?"":t},l=function(){return t.createElement(t.Fragment,null,"\xa0")},d={Cell:u,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){var n=t.style,r=t.className;return e=a({},e,{},o(t,["style","className"])),n&&(e.style=e.style?a({},e.style||{},{},n||{}):n),r&&(e.className=e.className?e.className+" "+r:r),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(n){return void 0===n&&(n={}),[].concat(e,[n]).reduce((function(e,r){return function e(t,n,r){return"function"==typeof n?e({},n(t,r)):Array.isArray(n)?f.apply(void 0,[t].concat(n)):f(t,n)}(e,r,a({},t,{userProps:n}))}),{})}},h=function(e,t,n,r){return void 0===n&&(n={}),e.reduce((function(e,t){return t(e,n)}),t)},m=function(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){e(t,n)}))};function b(e,t,n,r){e.findIndex((function(e){return e.pluginName===n})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function v(e,t){return"function"==typeof e?e(t):e}function j(e){var n=t.useRef();return n.current=e,t.useCallback((function(){return n.current}),[])}var g="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function O(e,n){var r=t.useRef(!1);g((function(){r.current&&e(),r.current=!0}),n)}function y(e,t,n){return void 0===n&&(n={}),function(r,i){void 0===i&&(i={});var o="string"==typeof r?t[r]:r;if(void 0===o)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return w(o,a({},e,{column:t},n,{},i))}}function w(e,n){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(r=e)||"function"==typeof r||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(r)?t.createElement(e,n):e;var r}function _(e,t,n){return void 0===n&&(n=0),e.map((function(e){return S(e=a({},e,{parent:t,depth:n})),e.columns&&(e.columns=_(e.columns,e,n+1)),e}))}function x(e){return T(e,"columns")}function S(e){var t=e.id,n=e.accessor,r=e.Header;if("string"==typeof n){t=t||n;var i=n.split(".");n=function(e){return function(e,t,n){if(!t)return e;var r,i="function"==typeof t?t:JSON.stringify(t),a=A.get(i)||function(){var e=function(e){return function e(t,n){if(void 0===n&&(n=[]),Array.isArray(t))for(var r=0;r<t.length;r+=1)e(t[r],n);else n.push(t);return n}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(F,".").replace(z,"").split(".")}(t);return A.set(i,e),e}();try{r=a.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==r?r:n}(e,i)}}if(!t&&"string"==typeof r&&r&&(t=r),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:n}),e}function k(e,t){if(!t)throw new Error;return Object.assign(e,a({Header:l,Footer:l},d,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function C(e,t,n){void 0===n&&(n=function(){return{}});for(var r=[],i=e,o=0,s=function(){return o++},c=function(){var e={headers:[]},o=[],c=i.some((function(e){return e.parent}));i.forEach((function(r){var i,u=[].concat(o).reverse()[0];c&&(i=r.parent?a({},r.parent,{originalId:r.parent.id,id:r.parent.id+"_"+s(),headers:[r]},n(r)):k(a({originalId:r.id+"_placeholder",id:r.id+"_placeholder_"+s(),placeholderOf:r,headers:[r]},n(r)),t),u&&u.originalId===i.originalId?u.headers.push(r):o.push(i)),e.headers.push(r)})),r.push(e),i=o};i.length;)c();return r.reverse()}var A=new Map;function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=1)if(void 0!==t[r])return t[r]}function D(e){if("function"==typeof e)return e}function T(e,t){var n=[];return function e(r){r.forEach((function(r){r[t]?e(r[t]):n.push(r)}))}(e),n}function N(e,t){var n=t.manualExpandedKey,r=t.expanded,i=t.expandSubRows,a=void 0===i||i,o=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[n]||r[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&o.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,a)}))}(e)})),o}function P(e,t,n){return D(e)||t[e]||n[e]||n.text}function R(e,t,n){return e?e(t,n):void 0===t}function H(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var I=null,F=/\[/g,z=/\]/g,M=function(e){return a({role:"table"},e)},B=function(e){return a({role:"rowgroup"},e)},L=function(e,t){var n=t.column;return a({key:"header_"+n.id,colSpan:n.totalVisibleHeaderCount,role:"columnheader"},e)},U=function(e,t){var n=t.column;return a({key:"footer_"+n.id,colSpan:n.totalVisibleHeaderCount},e)},W=function(e,t){return a({key:"headerGroup_"+t.index,role:"row"},e)},G=function(e,t){return a({key:"footerGroup_"+t.index},e)},V=function(e,t){return a({key:"row_"+t.row.id,role:"row"},e)},q=function(e,t){var n=t.cell;return a({key:"cell_"+n.row.id+"_"+n.column.id,role:"cell"},e)};function Z(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[M],getTableBodyProps:[B],getHeaderGroupProps:[W],getFooterGroupProps:[G],getHeaderProps:[L],getFooterProps:[U],getRowProps:[V],getCellProps:[q],useFinalInstance:[]}}c.resetHiddenColumns="resetHiddenColumns",c.toggleHideColumn="toggleHideColumn",c.setHiddenColumns="setHiddenColumns",c.toggleHideAllColumns="toggleHideAllColumns";var Y=function(e){e.getToggleHiddenProps=[K],e.getToggleHideAllColumnsProps=[J],e.stateReducers.push(X),e.useInstanceBeforeDimensions.push($),e.headerGroupsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.hiddenColumns])})),e.useInstance.push(Q)};Y.pluginName="useColumnVisibility";var K=function(e,t){var n=t.column;return[e,{onChange:function(e){n.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:n.isVisible,title:"Toggle Column Visible"}]},J=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!n.allColumnsHidden&&!n.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!n.allColumnsHidden&&n.state.hiddenColumns.length}]};function X(e,t,n,r){if(t.type===c.init)return a({hiddenColumns:[]},e);if(t.type===c.resetHiddenColumns)return a({},e,{hiddenColumns:r.initialState.hiddenColumns||[]});if(t.type===c.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return a({},e,{hiddenColumns:i})}return t.type===c.setHiddenColumns?a({},e,{hiddenColumns:v(t.value,e.hiddenColumns)}):t.type===c.toggleHideAllColumns?a({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?r.allColumns.map((function(e){return e.id})):[]}):void 0}function $(e){var n=e.headers,r=e.state.hiddenColumns;t.useRef(!1).current;var i=0;n.forEach((function(e){return i+=function e(t,n){t.isVisible=n&&!r.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(n){return i+=e(n,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Q(e){var n=e.columns,r=e.flatHeaders,i=e.dispatch,a=e.allColumns,o=e.getHooks,s=e.state.hiddenColumns,u=e.autoResetHiddenColumns,l=void 0===u||u,d=j(e),f=a.length===s.length,h=t.useCallback((function(e,t){return i({type:c.toggleHideColumn,columnId:e,value:t})}),[i]),m=t.useCallback((function(e){return i({type:c.setHiddenColumns,value:e})}),[i]),b=t.useCallback((function(e){return i({type:c.toggleHideAllColumns,value:e})}),[i]),v=p(o().getToggleHideAllColumnsProps,{instance:d()});r.forEach((function(e){e.toggleHidden=function(t){i({type:c.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(o().getToggleHiddenProps,{instance:d(),column:e})}));var g=j(l);O((function(){g()&&i({type:c.resetHiddenColumns})}),[i,n]),Object.assign(e,{allColumnsHidden:f,toggleHideColumn:h,setHiddenColumns:m,toggleHideAllColumns:b,getToggleHideAllColumnsProps:v})}var ee={},te={},ne=function(e,t,n){return e},re=function(e,t){return e.subRows||[]},ie=function(e,t,n){return""+(n?[n.id,t].join("."):t)},ae=function(e){return e};function oe(e){var t=e.initialState,n=void 0===t?ee:t,r=e.defaultColumn,i=void 0===r?te:r,s=e.getSubRows,c=void 0===s?re:s,u=e.getRowId,l=void 0===u?ie:u,d=e.stateReducer,f=void 0===d?ne:d,p=e.useControlledState,h=void 0===p?ae:p;return a({},o(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:n,defaultColumn:i,getSubRows:c,getRowId:l,stateReducer:f,useControlledState:h})}function se(e,t){void 0===t&&(t=0);var n=0,r=0,i=0,a=0;return e.forEach((function(e){var o=e.headers;if(e.totalLeft=t,o&&o.length){var s=se(o,t),c=s[0],u=s[1],l=s[2],d=s[3];e.totalMinWidth=c,e.totalWidth=u,e.totalMaxWidth=l,e.totalFlexWidth=d}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,n+=e.totalMinWidth,r+=e.totalWidth,i+=e.totalMaxWidth,a+=e.totalFlexWidth)})),[n,r,i,a]}function ce(e){var t=e.data,n=e.rows,r=e.flatRows,i=e.rowsById,a=e.column,o=e.getRowId,s=e.getSubRows,c=e.accessValueHooks,u=e.getInstance;t.forEach((function(e,l){return function e(n,l,d,f,p){void 0===d&&(d=0);var m=n,b=o(n,l,f),v=i[b];if(v)v.subRows&&v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v)}));else if((v={id:b,original:m,index:l,depth:d,cells:[{}]}).cells.map=H,v.cells.filter=H,v.cells.forEach=H,v.cells[0].getCellProps=H,v.values={},p.push(v),r.push(v),i[b]=v,v.originalSubRows=s(n,l),v.originalSubRows){var j=[];v.originalSubRows.forEach((function(t,n){return e(t,n,d+1,v,j)})),v.subRows=j}a.accessor&&(v.values[a.id]=a.accessor(n,l,v,p,t)),v.values[a.id]=h(c,v.values[a.id],{row:v,column:a,instance:u()})}(e,l,0,void 0,n)}))}c.resetExpanded="resetExpanded",c.toggleRowExpanded="toggleRowExpanded",c.toggleAllRowsExpanded="toggleAllRowsExpanded";var ue=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[de],e.stateReducers.push(fe),e.useInstance.push(pe),e.prepareRow.push(he)};ue.pluginName="useExpanded";var le=function(e,t){var n=t.instance;return[e,{onClick:function(e){n.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},de=function(e,t){var n=t.row;return[e,{onClick:function(){n.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function fe(e,t,n,r){if(t.type===c.init)return a({expanded:{}},e);if(t.type===c.resetExpanded)return a({},e,{expanded:r.initialState.expanded||{}});if(t.type===c.toggleAllRowsExpanded){var i=t.value,u=r.rowsById,l=Object.keys(u).length===Object.keys(e.expanded).length;if(void 0!==i?i:!l){var d={};return Object.keys(u).forEach((function(e){d[e]=!0})),a({},e,{expanded:d})}return a({},e,{expanded:{}})}if(t.type===c.toggleRowExpanded){var f,p=t.id,h=t.value,m=e.expanded[p],b=void 0!==h?h:!m;if(!m&&b)return a({},e,{expanded:a({},e.expanded,(f={},f[p]=!0,f))});if(m&&!b){var v=e.expanded;return v[p],a({},e,{expanded:o(v,[p].map(s))})}return e}}function pe(e){var n=e.data,r=e.rows,i=e.rowsById,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.paginateExpandedRows,u=void 0===s||s,l=e.expandSubRows,d=void 0===l||l,f=e.autoResetExpanded,h=void 0===f||f,m=e.getHooks,v=e.plugins,g=e.state.expanded,y=e.dispatch;b(v,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var w=j(h),_=Boolean(Object.keys(i).length&&Object.keys(g).length);_&&Object.keys(i).some((function(e){return!g[e]}))&&(_=!1),O((function(){w()&&y({type:c.resetExpanded})}),[y,n]);var x=t.useCallback((function(e,t){y({type:c.toggleRowExpanded,id:e,value:t})}),[y]),S=t.useCallback((function(e){return y({type:c.toggleAllRowsExpanded,value:e})}),[y]),k=t.useMemo((function(){return u?N(r,{manualExpandedKey:o,expanded:g,expandSubRows:d}):r}),[u,r,o,g,d]),C=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var n=e.split(".");t=Math.max(t,n.length)})),t}(g)}),[g]),A=j(e),E=p(m().getToggleAllRowsExpandedProps,{instance:A()});Object.assign(e,{preExpandedRows:r,expandedRows:k,rows:k,expandedDepth:C,isAllRowsExpanded:_,toggleRowExpanded:x,toggleAllRowsExpanded:S,getToggleAllRowsExpandedProps:E})}function he(e,t){var n=t.instance.getHooks,r=t.instance;e.toggleRowExpanded=function(t){return r.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(n().getToggleRowExpandedProps,{instance:r,row:e})}var me=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return String(r).toLowerCase().includes(String(n).toLowerCase())}))}))};me.autoRemove=function(e){return!e};var be=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r).toLowerCase()===String(n).toLowerCase()}))}))};be.autoRemove=function(e){return!e};var ve=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return void 0===r||String(r)===String(n)}))}))};ve.autoRemove=function(e){return!e};var je=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(n)}))}))};je.autoRemove=function(e){return!e||!e.length};var ge=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.every((function(e){return r.includes(e)}))}))}))};ge.autoRemove=function(e){return!e||!e.length};var Oe=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r&&r.length&&n.some((function(e){return r.includes(e)}))}))}))};Oe.autoRemove=function(e){return!e||!e.length};var ye=function(e,t,n){return e.filter((function(e){return t.some((function(t){var r=e.values[t];return n.includes(r)}))}))};ye.autoRemove=function(e){return!e||!e.length};var we=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]===n}))}))};we.autoRemove=function(e){return void 0===e};var _e=function(e,t,n){return e.filter((function(e){return t.some((function(t){return e.values[t]==n}))}))};_e.autoRemove=function(e){return null==e};var xe=function(e,t,n){var r=n||[],i=r[0],a=r[1];if((i="number"==typeof i?i:-1/0)>(a="number"==typeof a?a:1/0)){var o=i;i=a,a=o}return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n>=i&&n<=a}))}))};xe.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Se=Object.freeze({__proto__:null,text:me,exactText:be,exactTextCase:ve,includes:je,includesAll:ge,includesSome:Oe,includesValue:ye,exact:we,equals:_e,between:xe});c.resetFilters="resetFilters",c.setFilter="setFilter",c.setAllFilters="setAllFilters";var ke=function(e){e.stateReducers.push(Ce),e.useInstance.push(Ae)};function Ce(e,t,n,r){if(t.type===c.init)return a({filters:[]},e);if(t.type===c.resetFilters)return a({},e,{filters:r.initialState.filters||[]});if(t.type===c.setFilter){var i=t.columnId,o=t.filterValue,s=r.allColumns,u=r.filterTypes,l=s.find((function(e){return e.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var d=P(l.filter,u||{},Se),f=e.filters.find((function(e){return e.id===i})),p=v(o,f&&f.value);return R(d.autoRemove,p,l)?a({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):a({},e,f?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:p}:e}))}:{filters:[].concat(e.filters,[{id:i,value:p}])})}if(t.type===c.setAllFilters){var h=t.filters,m=r.allColumns,b=r.filterTypes;return a({},e,{filters:v(h,e.filters).filter((function(e){var t=m.find((function(t){return t.id===e.id}));return!R(P(t.filter,b||{},Se).autoRemove,e.value,t)}))})}}function Ae(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.manualFilters,l=e.defaultCanFilter,d=void 0!==l&&l,f=e.disableFilters,p=e.state.filters,h=e.dispatch,m=e.autoResetFilters,b=void 0===m||m,v=t.useCallback((function(e,t){h({type:c.setFilter,columnId:e,filterValue:t})}),[h]),g=t.useCallback((function(e){h({type:c.setAllFilters,filters:e})}),[h]);o.forEach((function(e){var t=e.id,n=e.accessor,r=e.defaultCanFilter,i=e.disableFilters;e.canFilter=n?E(!0!==i&&void 0,!0!==f&&void 0,!0):E(r,d,!1),e.setFilter=function(t){return v(e.id,t)};var a=p.find((function(e){return e.id===t}));e.filterValue=a&&a.value}));var y=t.useMemo((function(){if(u||!p.length)return[r,i,a];var e=[],t={};return[function n(r,i){void 0===i&&(i=0);var a=r;return(a=p.reduce((function(e,t){var n=t.id,r=t.value,a=o.find((function(e){return e.id===n}));if(!a)return e;0===i&&(a.preFilteredRows=e);var c=P(a.filter,s||{},Se);return c?(a.filteredRows=c(e,[n],r),a.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+a.id+"."),e)}),r)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows&&(r.subRows=r.subRows&&r.subRows.length>0?n(r.subRows,i+1):r.subRows)})),a}(r),e,t]}),[u,p,r,i,a,o,s]),w=y[0],_=y[1],x=y[2];t.useMemo((function(){o.filter((function(e){return!p.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=w,e.filteredRows=w}))}),[w,p,o]);var S=j(b);O((function(){S()&&h({type:c.resetFilters})}),[h,u?null:n]),Object.assign(e,{preFilteredRows:r,preFilteredFlatRows:i,preFilteredRowsById:a,filteredRows:w,filteredFlatRows:_,filteredRowsById:x,rows:w,flatRows:_,rowsById:x,setFilter:v,setAllFilters:g})}ke.pluginName="useFilters",c.resetGlobalFilter="resetGlobalFilter",c.setGlobalFilter="setGlobalFilter";var Ee=function(e){e.stateReducers.push(De),e.useInstance.push(Te)};function De(e,t,n,r){if(t.type===c.resetGlobalFilter)return a({},e,{globalFilter:r.initialState.globalFilter||void 0});if(t.type===c.setGlobalFilter){var i=t.filterValue,s=r.userFilterTypes,u=P(r.globalFilter,s||{},Se),l=v(i,e.globalFilter);return R(u.autoRemove,l)?(e.globalFilter,o(e,["globalFilter"])):a({},e,{globalFilter:l})}}function Te(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.rowsById,o=e.allColumns,s=e.filterTypes,u=e.globalFilter,l=e.manualGlobalFilter,d=e.state.globalFilter,f=e.dispatch,p=e.autoResetGlobalFilter,h=void 0===p||p,m=e.disableGlobalFilter,b=t.useCallback((function(e){f({type:c.setGlobalFilter,filterValue:e})}),[f]),v=t.useMemo((function(){if(l||void 0===d)return[r,i,a];var e=[],t={},n=P(u,s||{},Se);if(!n)return console.warn("Could not find a valid 'globalFilter' option."),r;o.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=E(!0!==t&&void 0,!0!==m&&void 0,!0)}));var c=o.filter((function(e){return!0===e.canFilter}));return[function r(i){return(i=n(i,c.map((function(e){return e.id})),d)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows=n.subRows&&n.subRows.length?r(n.subRows):n.subRows})),i}(r),e,t]}),[l,d,u,s,o,r,i,a,m]),g=v[0],y=v[1],w=v[2],_=j(h);O((function(){_()&&f({type:c.resetGlobalFilter})}),[f,l?null:n]),Object.assign(e,{preGlobalFilteredRows:r,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:a,globalFilteredRows:g,globalFilteredFlatRows:y,globalFilteredRowsById:w,rows:g,flatRows:y,rowsById:w,setGlobalFilter:b,disableGlobalFilter:m})}function Ne(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Ee.pluginName="useGlobalFilter";var Pe=Object.freeze({__proto__:null,sum:Ne,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,n=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),n=Math.max(n,e))})),t+".."+n},average:function(e){return Ne(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),n=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?n[t]:(n[t-1]+n[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Re=[],He={};c.resetGroupBy="resetGroupBy",c.setGroupBy="setGroupBy",c.toggleGroupBy="toggleGroupBy";var Ie=function(e){e.getGroupByToggleProps=[Fe],e.stateReducers.push(ze),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.groupBy])})),e.visibleColumns.push(Me),e.useInstance.push(Le),e.prepareRow.push(Ue)};Ie.pluginName="useGroupBy";var Fe=function(e,t){var n=t.header;return[e,{onClick:n.canGroupBy?function(e){e.persist(),n.toggleGroupBy()}:void 0,style:{cursor:n.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function ze(e,t,n,r){if(t.type===c.init)return a({groupBy:[]},e);if(t.type===c.resetGroupBy)return a({},e,{groupBy:r.initialState.groupBy||[]});if(t.type===c.setGroupBy)return a({},e,{groupBy:t.value});if(t.type===c.toggleGroupBy){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.groupBy.includes(i);return a({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Me(e,t){var n=t.instance.state.groupBy,r=n.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!n.includes(e.id)}));return(e=[].concat(r,i)).forEach((function(e){e.isGrouped=n.includes(e.id),e.groupedIndex=n.indexOf(e.id)})),e}var Be={};function Le(e){var n=e.data,r=e.rows,i=e.flatRows,o=e.rowsById,s=e.allColumns,u=e.flatHeaders,l=e.groupByFn,d=void 0===l?We:l,f=e.manualGroupBy,h=e.aggregations,m=void 0===h?Be:h,v=e.plugins,g=e.state.groupBy,y=e.dispatch,w=e.autoResetGroupBy,_=void 0===w||w,x=e.disableGroupBy,S=e.defaultCanGroupBy,k=e.getHooks;b(v,["useColumnOrder","useFilters"],"useGroupBy");var C=j(e);s.forEach((function(t){var n=t.accessor,r=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=n?E(t.canGroupBy,!0!==i&&void 0,!0!==x&&void 0,!0):E(t.canGroupBy,r,S,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var A=t.useCallback((function(e,t){y({type:c.toggleGroupBy,columnId:e,value:t})}),[y]),D=t.useCallback((function(e){y({type:c.setGroupBy,value:e})}),[y]);u.forEach((function(e){e.getGroupByToggleProps=p(k().getGroupByToggleProps,{instance:C(),header:e})}));var N=t.useMemo((function(){if(f||!g.length)return[r,i,o,Re,He,i,o];var e=g.filter((function(e){return s.find((function(t){return t.id===e}))})),t=[],n={},c=[],u={},l=[],p={},h=function r(i,o,f){if(void 0===o&&(o=0),o===e.length)return i.map((function(e){return a({},e,{depth:o})}));var h=e[o],b=d(i,h);return Object.entries(b).map((function(i,a){var d=i[0],b=i[1],v=h+":"+d,j=r(b,o+1,v=f?f+">"+v:v),g=o?T(b,"leafRows"):b,O=function(t,n,r){var i={};return s.forEach((function(a){if(e.includes(a.id))i[a.id]=n[0]?n[0].values[a.id]:null;else{var o="function"==typeof a.aggregate?a.aggregate:m[a.aggregate]||Pe[a.aggregate];if(o){var s=n.map((function(e){return e.values[a.id]})),c=t.map((function(e){var t=e.values[a.id];if(!r&&a.aggregateValue){var n="function"==typeof a.aggregateValue?a.aggregateValue:m[a.aggregateValue]||Pe[a.aggregateValue];if(!n)throw console.info({column:a}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=n(t,e,a)}return t}));i[a.id]=o(c,s)}else{if(a.aggregate)throw console.info({column:a}),new Error("React Table: Invalid column.aggregate option for column listed above");i[a.id]=null}}})),i}(g,b,o),y={id:v,isGrouped:!0,groupByID:h,groupByVal:d,values:O,subRows:j,leafRows:g,depth:o,index:a};return j.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(c.push(e),u[e.id]=e):(l.push(e),p[e.id]=e)})),y}))}(r);return h.forEach((function(e){t.push(e),n[e.id]=e,e.isGrouped?(c.push(e),u[e.id]=e):(l.push(e),p[e.id]=e)})),[h,t,n,c,u,l,p]}),[f,g,r,i,o,s,m,d]),P=N[0],R=N[1],H=N[2],I=N[3],F=N[4],z=N[5],M=N[6],B=j(_);O((function(){B()&&y({type:c.resetGroupBy})}),[y,f?null:n]),Object.assign(e,{preGroupedRows:r,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:P,groupedFlatRows:R,groupedRowsById:H,onlyGroupedFlatRows:I,onlyGroupedRowsById:F,nonGroupedFlatRows:z,nonGroupedRowsById:M,rows:P,flatRows:R,rowsById:H,toggleGroupBy:A,setGroupBy:D})}function Ue(e){e.allCells.forEach((function(t){var n;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(n=e.subRows)?void 0:n.length)}))}function We(e,t){return e.reduce((function(e,n,r){var i=""+n.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(n),e}),{})}var Ge=/([0-9]+)/gm;function Ve(e,t){return e===t?0:e>t?1:-1}function qe(e,t,n){return[e.values[n],t.values[n]]}function Ze(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Ye=Object.freeze({__proto__:null,alphanumeric:function(e,t,n){var r=qe(e,t,n),i=r[0],a=r[1];for(i=Ze(i),a=Ze(a),i=i.split(Ge).filter(Boolean),a=a.split(Ge).filter(Boolean);i.length&&a.length;){var o=i.shift(),s=a.shift(),c=parseInt(o,10),u=parseInt(s,10),l=[c,u].sort();if(isNaN(l[0])){if(o>s)return 1;if(s>o)return-1}else{if(isNaN(l[1]))return isNaN(c)?-1:1;if(c>u)return 1;if(u>c)return-1}}return i.length-a.length},datetime:function(e,t,n){var r=qe(e,t,n),i=r[0],a=r[1];return Ve(i=i.getTime(),a=a.getTime())},basic:function(e,t,n){var r=qe(e,t,n);return Ve(r[0],r[1])},string:function(e,t,n){var r=qe(e,t,n),i=r[0],a=r[1];for(i=i.split("").filter(Boolean),a=a.split("").filter(Boolean);i.length&&a.length;){var o=i.shift(),s=a.shift(),c=o.toLowerCase(),u=s.toLowerCase();if(c>u)return 1;if(u>c)return-1;if(o>s)return 1;if(s>o)return-1}return i.length-a.length},number:function(e,t,n){var r=qe(e,t,n),i=r[0],a=r[1],o=/[^0-9.]/gi;return Ve(i=Number(String(i).replace(o,"")),a=Number(String(a).replace(o,"")))}});c.resetSortBy="resetSortBy",c.setSortBy="setSortBy",c.toggleSortBy="toggleSortBy",c.clearSortBy="clearSortBy",d.sortType="alphanumeric",d.sortDescFirst=!1;var Ke=function(e){e.getSortByToggleProps=[Je],e.stateReducers.push(Xe),e.useInstance.push($e)};Ke.pluginName="useSortBy";var Je=function(e,t){var n=t.instance,r=t.column,i=n.isMultiSortEvent,a=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:r.canSort?function(e){e.persist(),r.toggleSortBy(void 0,!n.disableMultiSort&&a(e))}:void 0,style:{cursor:r.canSort?"pointer":void 0},title:r.canSort?"Toggle SortBy":void 0}]};function Xe(e,t,n,r){if(t.type===c.init)return a({sortBy:[]},e);if(t.type===c.resetSortBy)return a({},e,{sortBy:r.initialState.sortBy||[]});if(t.type===c.clearSortBy)return a({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===c.setSortBy)return a({},e,{sortBy:t.sortBy});if(t.type===c.toggleSortBy){var i,o=t.columnId,s=t.desc,u=t.multi,l=r.allColumns,d=r.disableMultiSort,f=r.disableSortRemove,p=r.disableMultiRemove,h=r.maxMultiSortColCount,m=void 0===h?Number.MAX_SAFE_INTEGER:h,b=e.sortBy,v=l.find((function(e){return e.id===o})).sortDescFirst,j=b.find((function(e){return e.id===o})),g=b.findIndex((function(e){return e.id===o})),O=null!=s,y=[];return"toggle"!==(i=!d&&u?j?"toggle":"add":g!==b.length-1||1!==b.length?"replace":j?"toggle":"replace")||f||O||u&&p||!(j&&j.desc&&!v||!j.desc&&v)||(i="remove"),"replace"===i?y=[{id:o,desc:O?s:v}]:"add"===i?(y=[].concat(b,[{id:o,desc:O?s:v}])).splice(0,y.length-m):"toggle"===i?y=b.map((function(e){return e.id===o?a({},e,{desc:O?s:!j.desc}):e})):"remove"===i&&(y=b.filter((function(e){return e.id!==o}))),a({},e,{sortBy:y})}}function $e(e){var n=e.data,r=e.rows,i=e.flatRows,a=e.allColumns,o=e.orderByFn,s=void 0===o?Qe:o,u=e.sortTypes,l=e.manualSortBy,d=e.defaultCanSort,f=e.disableSortBy,h=e.flatHeaders,m=e.state.sortBy,v=e.dispatch,g=e.plugins,y=e.getHooks,w=e.autoResetSortBy,_=void 0===w||w;b(g,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var x=t.useCallback((function(e){v({type:c.setSortBy,sortBy:e})}),[v]),S=t.useCallback((function(e,t,n){v({type:c.toggleSortBy,columnId:e,desc:t,multi:n})}),[v]),k=j(e);h.forEach((function(e){var t=e.accessor,n=e.canSort,r=e.disableSortBy,i=e.id,a=t?E(!0!==r&&void 0,!0!==f&&void 0,!0):E(d,n,!1);e.canSort=a,e.canSort&&(e.toggleSortBy=function(t,n){return S(e.id,t,n)},e.clearSortBy=function(){v({type:c.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(y().getSortByToggleProps,{instance:k(),column:e});var o=m.find((function(e){return e.id===i}));e.isSorted=!!o,e.sortedIndex=m.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?o.desc:void 0}));var C=t.useMemo((function(){if(l||!m.length)return[r,i];var e=[],t=m.filter((function(e){return a.find((function(t){return t.id===e.id}))}));return[function n(r){var i=s(r,t.map((function(e){var t=a.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var n=t.sortType,r=D(n)||(u||{})[n]||Ye[n];if(!r)throw new Error("React-Table: Could not find a valid sortType of '"+n+"' for column '"+e.id+"'.");return function(t,n){return r(t,n,e.id,e.desc)}})),t.map((function(e){var t=a.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=n(t.subRows))})),i}(r),e]}),[l,m,r,i,a,s,u]),A=C[0],T=C[1],N=j(_);O((function(){N()&&v({type:c.resetSortBy})}),[l?null:n]),Object.assign(e,{preSortedRows:r,preSortedFlatRows:i,sortedRows:A,sortedFlatRows:T,rows:A,flatRows:T,setSortBy:x,toggleSortBy:S})}function Qe(e,t,n){return[].concat(e).sort((function(e,r){for(var i=0;i<t.length;i+=1){var a=t[i],o=!1===n[i]||"desc"===n[i],s=a(e,r);if(0!==s)return o?-s:s}return n[0]?e.index-r.index:r.index-e.index}))}c.resetPage="resetPage",c.gotoPage="gotoPage",c.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(nt)};function tt(e,t,n,r){if(t.type===c.init)return a({pageSize:10,pageIndex:0},e);if(t.type===c.resetPage)return a({},e,{pageIndex:r.initialState.pageIndex||0});if(t.type===c.gotoPage){var i=r.pageCount,o=r.page,s=v(t.pageIndex,e.pageIndex),u=!1;return s>e.pageIndex?u=-1===i?o.length>=e.pageSize:s<i:s<e.pageIndex&&(u=s>-1),u?a({},e,{pageIndex:s}):e}if(t.type===c.setPageSize){var l=t.pageSize,d=e.pageSize*e.pageIndex;return a({},e,{pageIndex:Math.floor(d/l),pageSize:l})}}function nt(e){var n=e.rows,r=e.autoResetPage,i=void 0===r||r,a=e.manualExpandedKey,o=void 0===a?"expanded":a,s=e.plugins,u=e.pageCount,l=e.paginateExpandedRows,d=void 0===l||l,f=e.expandSubRows,p=void 0===f||f,h=e.state,m=h.pageSize,v=h.pageIndex,g=h.expanded,y=h.globalFilter,w=h.filters,_=h.groupBy,x=h.sortBy,S=e.dispatch,k=e.data,C=e.manualPagination;b(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var A=j(i);O((function(){A()&&S({type:c.resetPage})}),[S,C?null:k,y,w,_,x]);var E=C?u:Math.ceil(n.length/m),D=t.useMemo((function(){return E>0?[].concat(new Array(E)).fill(null).map((function(e,t){return t})):[]}),[E]),T=t.useMemo((function(){var e;if(C)e=n;else{var t=m*v,r=t+m;e=n.slice(t,r)}return d?e:N(e,{manualExpandedKey:o,expanded:g,expandSubRows:p})}),[p,g,o,C,v,m,d,n]),P=v>0,R=-1===E?T.length>=m:v<E-1,H=t.useCallback((function(e){S({type:c.gotoPage,pageIndex:e})}),[S]),I=t.useCallback((function(){return H((function(e){return e-1}))}),[H]),F=t.useCallback((function(){return H((function(e){return e+1}))}),[H]),z=t.useCallback((function(e){S({type:c.setPageSize,pageSize:e})}),[S]);Object.assign(e,{pageOptions:D,pageCount:E,page:T,canPreviousPage:P,canNextPage:R,gotoPage:H,previousPage:I,nextPage:F,setPageSize:z})}et.pluginName="usePagination",c.resetPivot="resetPivot",c.togglePivot="togglePivot";var rt=function(e){e.getPivotToggleProps=[at],e.stateReducers.push(ot),e.useInstanceAfterData.push(st),e.allColumns.push(ct),e.accessValue.push(ut),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(dt),e.visibleColumns.push(ft),e.visibleColumnsDeps.push(pt),e.useInstance.push(ht),e.prepareRow.push(mt)};rt.pluginName="usePivotColumns";var it=[],at=function(e,t){var n=t.header;return[e,{onClick:n.canPivot?function(e){e.persist(),n.togglePivot()}:void 0,style:{cursor:n.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function ot(e,t,n,r){if(t.type===c.init)return a({pivotColumns:it},e);if(t.type===c.resetPivot)return a({},e,{pivotColumns:r.initialState.pivotColumns||it});if(t.type===c.togglePivot){var i=t.columnId,o=t.value,s=void 0!==o?o:!e.pivotColumns.includes(i);return a({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function ct(e,t){var n=t.instance;return e.forEach((function(e){e.isPivotSource=n.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ut(e,t){var n=t.column;return n.uniqueValues&&void 0!==e&&n.uniqueValues.add(e),e}function lt(e,t){var n=t.instance,r=n.allColumns,i=n.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var o=i.pivotColumns.map((function(e){return r.find((function(t){return t.id===e}))})).filter(Boolean),s=r.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),c=x(function e(t,n,r){void 0===t&&(t=0),void 0===r&&(r=[]);var i=o[t];return i?Array.from(i.uniqueValues).sort().map((function(o){var s=a({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+o:o,isPivotGroup:!0,parent:n,depth:t,id:n?n.id+"."+i.id+"."+o:i.id+"."+o,pivotValue:o});return s.columns=e(t+1,s,[].concat(r,[function(e){return e.values[i.id]===o}])),s})):s.map((function(e){return a({},e,{canPivot:!1,isPivoted:!0,parent:n,depth:t,id:""+(n?n.id+"."+e.id:e.id),accessor:function(t,n,i){if(r.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,c)}function dt(e,t){var n=t.instance.state,r=n.pivotColumns,i=n.groupBy;return[].concat(e,[r,i])}function ft(e,t){var n=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),n.pivotColumns.length&&n.groupBy&&n.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function pt(e,t){var n=t.instance;return[].concat(e,[n.state.pivotColumns,n.state.groupBy])}function ht(e){var t=e.columns,n=e.allColumns,r=e.flatHeaders,i=e.getHooks,a=e.plugins,o=e.dispatch,s=e.autoResetPivot,u=void 0===s||s,l=e.manaulPivot,d=e.disablePivot,f=e.defaultCanPivot;b(a,["useGroupBy"],"usePivotColumns");var h=j(e);n.forEach((function(t){var n=t.accessor,r=t.defaultPivot,i=t.disablePivot;t.canPivot=n?E(t.canPivot,!0!==i&&void 0,!0!==d&&void 0,!0):E(t.canPivot,r,f,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),r.forEach((function(e){e.getPivotToggleProps=p(i().getPivotToggleProps,{instance:h(),header:e})}));var m=j(u);O((function(){m()&&o({type:c.resetPivot})}),[o,l?null:t]),Object.assign(e,{togglePivot:function(e,t){o({type:c.togglePivot,columnId:e,value:t})}})}function mt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}c.resetSelectedRows="resetSelectedRows",c.toggleAllRowsSelected="toggleAllRowsSelected",c.toggleRowSelected="toggleRowSelected",c.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var bt=function(e){e.getToggleRowSelectedProps=[vt],e.getToggleAllRowsSelectedProps=[jt],e.getToggleAllPageRowsSelectedProps=[gt],e.stateReducers.push(Ot),e.useInstance.push(yt),e.prepareRow.push(wt)};bt.pluginName="useRowSelect";var vt=function(e,t){var n=t.instance,r=t.row,i=n.manualRowSelectedKey,a=void 0===i?"isSelected":i;return[e,{onChange:function(e){r.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!r.original||!r.original[a])||r.isSelected,title:"Toggle Row Selected",indeterminate:r.isSomeSelected}]},jt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!n.isAllRowsSelected&&Object.keys(n.state.selectedRowIds).length)}]},gt=function(e,t){var n=t.instance;return[e,{onChange:function(e){n.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:n.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!n.isAllPageRowsSelected&&n.page.some((function(e){var t=e.id;return n.state.selectedRowIds[t]})))}]};function Ot(e,t,n,r){if(t.type===c.init)return a({selectedRowIds:{}},e);if(t.type===c.resetSelectedRows)return a({},e,{selectedRowIds:r.initialState.selectedRowIds||{}});if(t.type===c.toggleAllRowsSelected){var i=t.value,o=r.isAllRowsSelected,s=r.rowsById,u=r.nonGroupedRowsById,l=void 0===u?s:u,d=void 0!==i?i:!o,f=Object.assign({},e.selectedRowIds);return d?Object.keys(l).forEach((function(e){f[e]=!0})):Object.keys(l).forEach((function(e){delete f[e]})),a({},e,{selectedRowIds:f})}if(t.type===c.toggleRowSelected){var p=t.id,h=t.value,m=r.rowsById,b=r.selectSubRows,v=void 0===b||b,j=r.getSubRows,g=e.selectedRowIds[p],O=void 0!==h?h:!g;if(g===O)return e;var y=a({},e.selectedRowIds);return function e(t){var n=m[t];if(n&&(n.isGrouped||(O?y[t]=!0:delete y[t]),v&&j(n)))return j(n).forEach((function(t){return e(t.id)}))}(p),a({},e,{selectedRowIds:y})}if(t.type===c.toggleAllPageRowsSelected){var w=t.value,_=r.page,x=r.rowsById,S=r.selectSubRows,k=void 0===S||S,C=r.isAllPageRowsSelected,A=r.getSubRows,E=void 0!==w?w:!C,D=a({},e.selectedRowIds);return _.forEach((function(e){return function e(t){var n=x[t];if(n.isGrouped||(E?D[t]=!0:delete D[t]),k&&A(n))return A(n).forEach((function(t){return e(t.id)}))}(e.id)})),a({},e,{selectedRowIds:D})}return e}function yt(e){var n=e.data,r=e.rows,i=e.getHooks,a=e.plugins,o=e.rowsById,s=e.nonGroupedRowsById,u=void 0===s?o:s,l=e.autoResetSelectedRows,d=void 0===l||l,f=e.state.selectedRowIds,h=e.selectSubRows,m=void 0===h||h,v=e.dispatch,g=e.page,y=e.getSubRows;b(a,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var w=t.useMemo((function(){var e=[];return r.forEach((function(t){var n=m?function e(t,n,r){if(n[t.id])return!0;var i=r(t);if(i&&i.length){var a=!0,o=!1;return i.forEach((function(t){o&&!a||(e(t,n,r)?o=!0:a=!1)})),!!a||!!o&&null}return!1}(t,f,y):!!f[t.id];t.isSelected=!!n,t.isSomeSelected=null===n,n&&e.push(t)})),e}),[r,m,f,y]),_=Boolean(Object.keys(u).length&&Object.keys(f).length),x=_;_&&Object.keys(u).some((function(e){return!f[e]}))&&(_=!1),_||g&&g.length&&g.some((function(e){var t=e.id;return!f[t]}))&&(x=!1);var S=j(d);O((function(){S()&&v({type:c.resetSelectedRows})}),[v,n]);var k=t.useCallback((function(e){return v({type:c.toggleAllRowsSelected,value:e})}),[v]),C=t.useCallback((function(e){return v({type:c.toggleAllPageRowsSelected,value:e})}),[v]),A=t.useCallback((function(e,t){return v({type:c.toggleRowSelected,id:e,value:t})}),[v]),E=j(e),D=p(i().getToggleAllRowsSelectedProps,{instance:E()}),T=p(i().getToggleAllPageRowsSelectedProps,{instance:E()});Object.assign(e,{selectedFlatRows:w,isAllRowsSelected:_,isAllPageRowsSelected:x,toggleRowSelected:A,toggleAllRowsSelected:k,getToggleAllRowsSelectedProps:D,getToggleAllPageRowsSelectedProps:T,toggleAllPageRowsSelected:C})}function wt(e,t){var n=t.instance;e.toggleRowSelected=function(t){return n.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(n.getHooks().getToggleRowSelectedProps,{instance:n,row:e})}var _t=function(e){return{}},xt=function(e){return{}};c.setRowState="setRowState",c.setCellState="setCellState",c.resetRowState="resetRowState";var St=function(e){e.stateReducers.push(kt),e.useInstance.push(Ct),e.prepareRow.push(At)};function kt(e,t,n,r){var i=r.initialRowStateAccessor,o=void 0===i?_t:i,s=r.initialCellStateAccessor,u=void 0===s?xt:s,l=r.rowsById;if(t.type===c.init)return a({rowState:{}},e);if(t.type===c.resetRowState)return a({},e,{rowState:r.initialState.rowState||{}});if(t.type===c.setRowState){var d,f=t.rowId,p=t.value,h=void 0!==e.rowState[f]?e.rowState[f]:o(l[f]);return a({},e,{rowState:a({},e.rowState,(d={},d[f]=v(p,h),d))})}if(t.type===c.setCellState){var m,b,j,g,O,y=t.rowId,w=t.columnId,_=t.value,x=void 0!==e.rowState[y]?e.rowState[y]:o(l[y]),S=void 0!==(null==x||null==(m=x.cellState)?void 0:m[w])?x.cellState[w]:u(null==(b=l[y])||null==(j=b.cells)?void 0:j.find((function(e){return e.column.id===w})));return a({},e,{rowState:a({},e.rowState,(O={},O[y]=a({},x,{cellState:a({},x.cellState||{},(g={},g[w]=v(_,S),g))}),O))})}}function Ct(e){var n=e.autoResetRowState,r=void 0===n||n,i=e.data,a=e.dispatch,o=t.useCallback((function(e,t){return a({type:c.setRowState,rowId:e,value:t})}),[a]),s=t.useCallback((function(e,t,n){return a({type:c.setCellState,rowId:e,columnId:t,value:n})}),[a]),u=j(r);O((function(){u()&&a({type:c.resetRowState})}),[i]),Object.assign(e,{setRowState:o,setCellState:s})}function At(e,t){var n=t.instance,r=n.initialRowStateAccessor,i=void 0===r?_t:r,a=n.initialCellStateAccessor,o=void 0===a?xt:a,s=n.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return n.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:o(t),t.setState=function(r){return n.setCellState(e.id,t.column.id,r)}})))}St.pluginName="useRowState",c.resetColumnOrder="resetColumnOrder",c.setColumnOrder="setColumnOrder";var Et=function(e){e.stateReducers.push(Dt),e.visibleColumnsDeps.push((function(e,t){var n=t.instance;return[].concat(e,[n.state.columnOrder])})),e.visibleColumns.push(Tt),e.useInstance.push(Nt)};function Dt(e,t,n,r){return t.type===c.init?a({columnOrder:[]},e):t.type===c.resetColumnOrder?a({},e,{columnOrder:r.initialState.columnOrder||[]}):t.type===c.setColumnOrder?a({},e,{columnOrder:v(t.columnOrder,e.columnOrder)}):void 0}function Tt(e,t){var n=t.instance.state.columnOrder;if(!n||!n.length)return e;for(var r=[].concat(n),i=[].concat(e),a=[],o=function(){var e=r.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&a.push(i.splice(t,1)[0])};i.length&&r.length;)o();return[].concat(a,i)}function Nt(e){var n=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return n({type:c.setColumnOrder,columnOrder:e})}),[n])}Et.pluginName="useColumnOrder",d.canResize=!0,c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize";var Pt=function(e){e.getResizerProps=[Rt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Ht),e.useInstance.push(Ft),e.useInstanceBeforeDimensions.push(It)},Rt=function(e,t){var n=t.instance,r=t.header,i=n.dispatch,a=function(e,t){var n=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;n=!0}var r,a,o=function(e){var t=[];return function e(n){n.columns&&n.columns.length&&n.columns.map(e),t.push(n)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),s=n?Math.round(e.touches[0].clientX):e.clientX,u=function(){window.cancelAnimationFrame(r),r=null,i({type:c.columnDoneResizing})},l=function(){window.cancelAnimationFrame(r),r=null,i({type:c.columnResizing,clientX:a})},d=function(e){a=e,r||(r=window.requestAnimationFrame(l))},f={mouse:{moveEvent:"mousemove",moveHandler:function(e){return d(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",f.mouse.moveHandler),document.removeEventListener("mouseup",f.mouse.upHandler),u()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),d(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(f.touch.moveEvent,f.touch.moveHandler),document.removeEventListener(f.touch.upEvent,f.touch.moveHandler),u()}}},p=n?f.touch:f.mouse,h=!!function(){if("boolean"==typeof I)return I;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return I=e}()&&{passive:!1};document.addEventListener(p.moveEvent,p.moveHandler,h),document.addEventListener(p.upEvent,p.upHandler,h),i({type:c.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:o,clientX:s})};return[e,{onMouseDown:function(e){return e.persist()||a(e,r)},onTouchStart:function(e){return e.persist()||a(e,r)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Ht(e,t){if(t.type===c.init)return a({columnResizing:{columnWidths:{}}},e);if(t.type===c.resetResize)return a({},e,{columnResizing:{columnWidths:{}}});if(t.type===c.columnStartResizing){var n=t.clientX,r=t.columnId,i=t.columnWidth,o=t.headerIdWidths;return a({},e,{columnResizing:a({},e.columnResizing,{startX:n,headerIdWidths:o,columnWidth:i,isResizingColumn:r})})}if(t.type===c.columnResizing){var s=t.clientX,u=e.columnResizing,l=u.startX,d=u.columnWidth,f=u.headerIdWidths,p=(s-l)/d,h={};return(void 0===f?[]:f).forEach((function(e){var t=e[0],n=e[1];h[t]=Math.max(n+n*p,0)})),a({},e,{columnResizing:a({},e.columnResizing,{columnWidths:a({},e.columnResizing.columnWidths,{},h)})})}return t.type===c.columnDoneResizing?a({},e,{columnResizing:a({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Pt.pluginName="useResizeColumns";var It=function(e){var t=e.flatHeaders,n=e.disableResizing,r=e.getHooks,i=e.state.columnResizing,a=j(e);t.forEach((function(e){var t=E(!0!==e.disableResizing&&void 0,!0!==n&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=p(r().getResizerProps,{instance:a(),header:e}))}))};function Ft(e){var n=e.plugins,r=e.dispatch,i=e.autoResetResize,a=void 0===i||i,o=e.columns;b(n,["useAbsoluteLayout"],"useResizeColumns");var s=j(a);O((function(){s()&&r({type:c.resetResize})}),[o]);var u=t.useCallback((function(){return r({type:c.resetResize})}),[r]);Object.assign(e,{resetResizing:u})}var zt={position:"absolute",top:0},Mt=function(e){e.getTableBodyProps.push(Bt),e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},zt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},zt,{left:n.column.totalLeft+"px",width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},zt,{left:n.totalLeft+"px",width:n.totalWidth+"px"})}]}))};Mt.pluginName="useAbsoluteLayout";var Bt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Lt={display:"inline-block",boxSizing:"border-box"},Ut=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Wt=function(e){e.getRowProps.push(Ut),e.getHeaderGroupProps.push(Ut),e.getFooterGroupProps.push(Ut),e.getHeaderProps.push((function(e,t){var n=t.column;return[e,{style:a({},Lt,{width:n.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var n=t.cell;return[e,{style:a({},Lt,{width:n.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var n=t.column;return[e,{style:a({},Lt,{width:n.totalWidth+"px"})}]}))};function Gt(e){e.getTableProps.push(Vt),e.getRowProps.push(qt),e.getHeaderGroupProps.push(qt),e.getFooterGroupProps.push(qt),e.getHeaderProps.push(Zt),e.getCellProps.push(Yt),e.getFooterProps.push(Kt)}Wt.pluginName="useBlockLayout",Gt.pluginName="useFlexLayout";var Vt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},qt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Zt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]},Yt=function(e,t){var n=t.cell;return[e,{style:{boxSizing:"border-box",flex:n.column.totalFlexWidth+" 0 auto",minWidth:n.column.totalMinWidth+"px",width:n.column.totalWidth+"px"}}]},Kt=function(e,t){var n=t.column;return[e,{style:{boxSizing:"border-box",flex:n.totalFlexWidth?n.totalFlexWidth+" 0 auto":void 0,minWidth:n.totalMinWidth+"px",width:n.totalWidth+"px"}}]};function Jt(e){e.stateReducers.push(en),e.getTableProps.push(Xt),e.getHeaderProps.push($t),e.getRowProps.push(Qt)}c.columnStartResizing="columnStartResizing",c.columnResizing="columnResizing",c.columnDoneResizing="columnDoneResizing",c.resetResize="resetResize",Jt.pluginName="useGridLayout";var Xt=function(e,t){var n=t.instance;return[e,{style:{display:"grid",gridTemplateColumns:n.visibleColumns.map((function(e){var t;return n.state.gridLayout.columnWidths[e.id]?n.state.gridLayout.columnWidths[e.id]+"px":(null==(t=n.state.columnResizing)?void 0:t.isResizingColumn)?n.state.gridLayout.startWidths[e.id]+"px":"number"==typeof e.width?e.width+"px":e.width})).join(" ")}}]},$t=function(e,t){var n=t.column;return[e,{id:"header-cell-"+n.id,style:{position:"sticky",gridColumn:"span "+n.totalVisibleHeaderCount}}]},Qt=function(e,t){var n=t.row;return n.isExpanded?[e,{style:{gridColumn:"1 / "+(n.cells.length+1)}}]:[e,{}]};function en(e,t,n,r){if(t.type===c.init)return a({gridLayout:{columnWidths:{}}},e);if(t.type===c.resetResize)return a({},e,{gridLayout:{columnWidths:{}}});if(t.type===c.columnStartResizing){var i=t.columnId,o=t.headerIdWidths,s=tn(i);if(void 0!==s){var u=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=tn(t.id),n))}),{}),l=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.minWidth,n))}),{}),d=r.visibleColumns.reduce((function(e,t){var n;return a({},e,((n={})[t.id]=t.maxWidth,n))}),{}),f=o.map((function(e){var t=e[0];return[t,tn(t)]}));return a({},e,{gridLayout:a({},e.gridLayout,{startWidths:u,minWidths:l,maxWidths:d,headerIdGridWidths:f,columnWidth:s})})}return e}if(t.type===c.columnResizing){var p=t.clientX,h=e.columnResizing.startX,m=e.gridLayout,b=m.columnWidth,v=m.minWidths,j=m.maxWidths,g=m.headerIdGridWidths,O=(p-h)/b,y={};return(void 0===g?[]:g).forEach((function(e){var t=e[0],n=e[1];y[t]=Math.min(Math.max(v[t],n+n*O),j[t])})),a({},e,{gridLayout:a({},e.gridLayout,{columnWidths:a({},e.gridLayout.columnWidths,{},y)})})}return t.type===c.columnDoneResizing?a({},e,{gridLayout:a({},e.gridLayout,{startWidths:{},minWidths:{},maxWidths:{}})}):void 0}function tn(e){var t,n=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==n)return n}e._UNSTABLE_usePivotColumns=rt,e.actions=c,e.defaultColumn=d,e.defaultGroupByFn=We,e.defaultOrderByFn=Qe,e.defaultRenderer=u,e.emptyRenderer=l,e.ensurePluginOrder=b,e.flexRender=w,e.functionalUpdate=v,e.loopHooks=m,e.makePropGetter=p,e.makeRenderer=y,e.reduceHooks=h,e.safeUseLayoutEffect=g,e.useAbsoluteLayout=Mt,e.useAsyncDebounce=function(e,n){void 0===n&&(n=0);var a=t.useRef({}),o=j(e),s=j(n);return t.useCallback(function(){var e=i(r.mark((function e(){var t,n,c,u=arguments;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=u.length,n=new Array(t),c=0;c<t;c++)n[c]=u[c];return a.current.promise||(a.current.promise=new Promise((function(e,t){a.current.resolve=e,a.current.reject=t}))),a.current.timeout&&clearTimeout(a.current.timeout),a.current.timeout=setTimeout(i(r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete a.current.timeout,e.prev=1,e.t0=a.current,e.next=5,o().apply(void 0,n);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),a.current.reject(e.t2);case 12:return e.prev=12,delete a.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",a.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[o,s])},e.useBlockLayout=Wt,e.useColumnOrder=Et,e.useExpanded=ue,e.useFilters=ke,e.useFlexLayout=Gt,e.useGetLatest=j,e.useGlobalFilter=Ee,e.useGridLayout=Jt,e.useGroupBy=Ie,e.useMountedLayoutEffect=O,e.usePagination=et,e.useResizeColumns=Pt,e.useRowSelect=bt,e.useRowState=St,e.useSortBy=Ke,e.useTable=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e=oe(e),r=[Y].concat(r);var o=j(t.useRef({}).current);Object.assign(o(),a({},e,{plugins:r,hooks:Z()})),r.filter(Boolean).forEach((function(e){e(o().hooks)}));var s=j(o().hooks);o().getHooks=s,delete o().hooks,Object.assign(o(),h(s().useOptions,oe(e)));var u=o(),l=u.data,d=u.columns,f=u.initialState,b=u.defaultColumn,v=u.getSubRows,g=u.getRowId,O=u.stateReducer,w=u.useControlledState,A=j(O),E=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(A())?A():[A()]).reduce((function(n,r){return r(n,t,e,o())||n}),e)}),[s,A,o]),D=t.useReducer(E,void 0,(function(){return E(f,{type:c.init})})),T=D[0],N=D[1],P=h([].concat(s().useControlledState,[w]),T,{instance:o()});Object.assign(o(),{state:P,dispatch:N});var R=t.useMemo((function(){return _(h(s().columns,d,{instance:o()}))}),[s,o,d].concat(h(s().columnsDeps,[],{instance:o()})));o().columns=R;var H=t.useMemo((function(){return h(s().allColumns,x(R),{instance:o()}).map(S)}),[R,s,o].concat(h(s().allColumnsDeps,[],{instance:o()})));o().allColumns=H;var I=t.useMemo((function(){for(var e=[],t=[],n={},r=[].concat(H);r.length;){var i=r.shift();ce({data:l,rows:e,flatRows:t,rowsById:n,column:i,getRowId:g,getSubRows:v,accessValueHooks:s().accessValue,getInstance:o})}return[e,t,n]}),[H,l,g,v,s,o]),F=I[0],z=I[1],M=I[2];Object.assign(o(),{rows:F,initialRows:[].concat(F),flatRows:z,rowsById:M}),m(s().useInstanceAfterData,o());var B=t.useMemo((function(){return h(s().visibleColumns,H,{instance:o()}).map((function(e){return k(e,b)}))}),[s,H,o,b].concat(h(s().visibleColumnsDeps,[],{instance:o()})));H=t.useMemo((function(){var e=[].concat(B);return H.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[H,B]),o().allColumns=H;var L=t.useMemo((function(){return h(s().headerGroups,C(B,b),o())}),[s,B,b,o].concat(h(s().headerGroupsDeps,[],{instance:o()})));o().headerGroups=L;var U=t.useMemo((function(){return L.length?L[0].headers:[]}),[L]);o().headers=U,o().flatHeaders=L.reduce((function(e,t){return[].concat(e,t.headers)}),[]),m(s().useInstanceBeforeDimensions,o());var W=B.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");B=t.useMemo((function(){return B.filter((function(e){return e.isVisible}))}),[B,W]),o().visibleColumns=B;var G=se(U),V=G[0],q=G[1],K=G[2];return o().totalColumnsMinWidth=V,o().totalColumnsWidth=q,o().totalColumnsMaxWidth=K,m(s().useInstance,o()),[].concat(o().flatHeaders,o().allColumns).forEach((function(e){e.render=y(o(),e),e.getHeaderProps=p(s().getHeaderProps,{instance:o(),column:e}),e.getFooterProps=p(s().getFooterProps,{instance:o(),column:e})})),o().headerGroups=t.useMemo((function(){return L.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(s().getHeaderGroupProps,{instance:o(),headerGroup:e,index:t}),e.getFooterGroupProps=p(s().getFooterGroupProps,{instance:o(),headerGroup:e,index:t}),!0)}))}),[L,o,s]),o().footerGroups=[].concat(o().headerGroups).reverse(),o().prepareRow=t.useCallback((function(e){e.getRowProps=p(s().getRowProps,{instance:o(),row:e}),e.allCells=H.map((function(t){var n=e.values[t.id],r={column:t,row:e,value:n};return r.getCellProps=p(s().getCellProps,{instance:o(),cell:r}),r.render=y(o(),t,{row:e,cell:r,value:n}),r})),e.cells=B.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),m(s().prepareRow,e,{instance:o()})}),[s,o,H,B]),o().getTableProps=p(s().getTableProps,{instance:o()}),o().getTableBodyProps=p(s().getTableBodyProps,{instance:o()}),m(s().useFinalInstance,o()),o()},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(0))},742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scrollbars=void 0;var r,i=n(743),a=(r=i)&&r.__esModule?r:{default:r};t.default=a.default,t.Scrollbars=a.default},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(744),o=v(a),s=v(n(462)),c=n(0),u=v(n(11)),l=v(n(751)),d=v(n(752)),f=v(n(753)),p=v(n(754)),h=v(n(755)),m=n(756),b=n(757);function v(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var O=function(e){function t(e){var n;j(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o=g(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(i)));return o.getScrollLeft=o.getScrollLeft.bind(o),o.getScrollTop=o.getScrollTop.bind(o),o.getScrollWidth=o.getScrollWidth.bind(o),o.getScrollHeight=o.getScrollHeight.bind(o),o.getClientWidth=o.getClientWidth.bind(o),o.getClientHeight=o.getClientHeight.bind(o),o.getValues=o.getValues.bind(o),o.getThumbHorizontalWidth=o.getThumbHorizontalWidth.bind(o),o.getThumbVerticalHeight=o.getThumbVerticalHeight.bind(o),o.getScrollLeftForOffset=o.getScrollLeftForOffset.bind(o),o.getScrollTopForOffset=o.getScrollTopForOffset.bind(o),o.scrollLeft=o.scrollLeft.bind(o),o.scrollTop=o.scrollTop.bind(o),o.scrollToLeft=o.scrollToLeft.bind(o),o.scrollToTop=o.scrollToTop.bind(o),o.scrollToRight=o.scrollToRight.bind(o),o.scrollToBottom=o.scrollToBottom.bind(o),o.handleTrackMouseEnter=o.handleTrackMouseEnter.bind(o),o.handleTrackMouseLeave=o.handleTrackMouseLeave.bind(o),o.handleHorizontalTrackMouseDown=o.handleHorizontalTrackMouseDown.bind(o),o.handleVerticalTrackMouseDown=o.handleVerticalTrackMouseDown.bind(o),o.handleHorizontalThumbMouseDown=o.handleHorizontalThumbMouseDown.bind(o),o.handleVerticalThumbMouseDown=o.handleVerticalThumbMouseDown.bind(o),o.handleWindowResize=o.handleWindowResize.bind(o),o.handleScroll=o.handleScroll.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o.state={didMountUniversal:!1},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,a.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,i=void 0===r?0:r,a=e.scrollWidth,o=void 0===a?0:a,s=e.scrollHeight,c=void 0===s?0:s,u=e.clientWidth,l=void 0===u?0:u,d=e.clientHeight,f=void 0===d?0:d;return{left:n/(o-l)||0,top:i/(c-f)||0,scrollLeft:n,scrollTop:i,scrollWidth:o,scrollHeight:c,clientWidth:l,clientHeight:f}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollWidth,a=r.clientWidth,o=(0,p.default)(this.trackHorizontal),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,r=this.view,i=r.scrollHeight,a=r.clientHeight,o=(0,h.default)(this.trackVertical),s=Math.ceil(a/i*o);return o===s?0:t||Math.max(s,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,r=t.clientWidth;return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-r)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,r=t.clientHeight;return e/((0,h.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-r)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),r.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,r=this.thumbHorizontal,i=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),r.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,r=n.onScroll,i=n.onScrollFrame;r&&r(e),this.update((function(e){var n=e.scrollLeft,r=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=r,i&&i(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,r=t.getBoundingClientRect().left,i=this.getThumbHorizontalWidth(),a=Math.abs(r-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(a)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,r=t.getBoundingClientRect().top,i=this.getThumbVerticalHeight(),a=Math.abs(r-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(a)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,r=t.offsetWidth,i=t.getBoundingClientRect().left;this.prevPageX=r-(n-i)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,r=t.offsetHeight,i=t.getBoundingClientRect().top;this.prevPageY=r-(n-i)}},{key:"setupDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=f.default}},{key:"teardownDragging",value:function(){(0,s.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var r=e.clientY,i=-this.trackVertical.getBoundingClientRect().top+r-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,s.default)(this.trackHorizontal,{opacity:1}),(0,s.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,s.default)(e.trackHorizontal,{opacity:0}),(0,s.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&o.default.cancel(this.requestFrame),this.requestFrame=(0,o.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,r=t.hideTracksWhenNotNeeded,i=this.getValues();if((0,d.default)()){var a=i.scrollLeft,o=i.clientWidth,c=i.scrollWidth,u=(0,p.default)(this.trackHorizontal),l=this.getThumbHorizontalWidth(),f={width:l,transform:"translateX("+a/(c-o)*(u-l)+"px)"},m=i.scrollTop,b=i.clientHeight,v=i.scrollHeight,j=(0,h.default)(this.trackVertical),g=this.getThumbVerticalHeight(),O={height:g,transform:"translateY("+m/(v-b)*(j-g)+"px)"};if(r){var y={visibility:c>o?"visible":"hidden"},w={visibility:v>b?"visible":"hidden"};(0,s.default)(this.trackHorizontal,y),(0,s.default)(this.trackVertical,w)}(0,s.default)(this.thumbHorizontal,f),(0,s.default)(this.thumbVertical,O)}n&&n(i),"function"===typeof e&&e(i)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),n=this.props,i=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),a=n.renderTrackHorizontal,o=n.renderTrackVertical,s=n.renderThumbHorizontal,u=n.renderThumbVertical,f=n.tagName,p=(n.hideTracksWhenNotNeeded,n.autoHide),h=(n.autoHideTimeout,n.autoHideDuration),b=(n.thumbSize,n.thumbMinSize,n.universal),v=n.autoHeight,j=n.autoHeightMin,g=n.autoHeightMax,O=n.style,y=n.children,w=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),_=this.state.didMountUniversal,x=r({},m.containerStyleDefault,v&&r({},m.containerStyleAutoHeight,{minHeight:j,maxHeight:g}),O),S=r({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},v&&r({},m.viewStyleAutoHeight,{minHeight:(0,l.default)(j)?"calc("+j+" + "+t+"px)":j+t,maxHeight:(0,l.default)(g)?"calc("+g+" + "+t+"px)":g+t}),v&&b&&!_&&{minHeight:j,maxHeight:g},b&&!_&&m.viewStyleUniversalInitial),k={transition:"opacity "+h+"ms",opacity:0},C=r({},m.trackHorizontalStyleDefault,p&&k,(!t||b&&!_)&&{display:"none"}),A=r({},m.trackVerticalStyleDefault,p&&k,(!t||b&&!_)&&{display:"none"});return(0,c.createElement)(f,r({},w,{style:x,ref:function(t){e.container=t}}),[(0,c.cloneElement)(i({style:S}),{key:"view",ref:function(t){e.view=t}},y),(0,c.cloneElement)(a({style:C}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,c.cloneElement)(s({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,c.cloneElement)(o({style:A}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,c.cloneElement)(u({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(c.Component);t.default=O,O.propTypes={onScroll:u.default.func,onScrollFrame:u.default.func,onScrollStart:u.default.func,onScrollStop:u.default.func,onUpdate:u.default.func,renderView:u.default.func,renderTrackHorizontal:u.default.func,renderTrackVertical:u.default.func,renderThumbHorizontal:u.default.func,renderThumbVertical:u.default.func,tagName:u.default.string,thumbSize:u.default.number,thumbMinSize:u.default.number,hideTracksWhenNotNeeded:u.default.bool,autoHide:u.default.bool,autoHideTimeout:u.default.number,autoHideDuration:u.default.number,autoHeight:u.default.bool,autoHeightMin:u.default.oneOfType([u.default.number,u.default.string]),autoHeightMax:u.default.oneOfType([u.default.number,u.default.string]),universal:u.default.bool,style:u.default.object,children:u.default.node},O.defaultProps={renderView:b.renderViewDefault,renderTrackHorizontal:b.renderTrackHorizontalDefault,renderTrackVertical:b.renderTrackVerticalDefault,renderThumbHorizontal:b.renderThumbHorizontalDefault,renderThumbVertical:b.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},744:function(e,t,n){(function(t){for(var r=n(745),i="undefined"===typeof window?t:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],c=i["cancel"+o]||i["cancelRequest"+o],u=0;!s&&u<a.length;u++)s=i[a[u]+"Request"+o],c=i[a[u]+"Cancel"+o]||i[a[u]+"CancelRequest"+o];if(!s||!c){var l=0,d=0,f=[];s=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-l));l=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}).call(this,n(59))},745:function(e,t,n){(function(t){(function(){var n,r,i,a,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-o)/1e6},r=t.hrtime,a=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n(169))},746:function(e,t){var n=null,r=["Webkit","Moz","O","ms"];e.exports=function(e){n||(n=document.createElement("div"));var t=n.style;if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),a=r.length;a>=0;a--){var o=r[a]+i;if(o in t)return o}return!1}},747:function(e,t,n){var r=n(748);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},748:function(e,t,n){var r=n(749);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},749:function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(a,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():i.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,i=/([a-z][A-Z]|[A-Z][a-z])/;var a=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},750:function(e,t){var n={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,t){return"number"!==typeof t||n[e]?t:t+"px"}},751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},752:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==o)return o;if("undefined"!==typeof document){var e=document.createElement("div");(0,a.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),o=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else o=0;return o||0};var r,i=n(462),a=(r=i)&&r.__esModule?r:{default:r};var o=!1},753:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),r=n.paddingLeft,i=n.paddingRight;return t-parseFloat(r)-parseFloat(i)}},755:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),r=n.paddingTop,i=n.paddingBottom;return t-parseFloat(r)-parseFloat(i)}},756:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},757:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.renderViewDefault=function(e){return o.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,left:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{right:2,bottom:2,top:2,borderRadius:3});return o.default.createElement("div",r({style:i},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=s(e,["style"]),i=r({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return o.default.createElement("div",r({style:i},n))};var i,a=n(0),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},758:function(e,t,n){"use strict";(function(e){var r=n(0),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,a=c}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=void 0;u="undefined"!==typeof window?window:"undefined"!==typeof self?self:e;var l=null,d=null,f=u.clearTimeout,p=u.setTimeout,h=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame,m=u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame;function b(e){var t=void 0,n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,c="undefined"!==typeof document&&document.attachEvent;if(!c){o=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},a=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(!(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;o(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=d((function(){a(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var f=!1,p="";r="animationstart";var h="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),b=document.createElement("fakeelement");if(void 0!==b.style.animationName&&(f=!0),!1===f)for(var v=0;v<h.length;v++)if(void 0!==b.style[h[v]+"AnimationName"]){p="-"+h[v].toLowerCase()+"-",r=m[v],f=!0;break}t="@"+p+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",i=p+"animation: 1ms "+n+"; "}return{addResizeListener:function(a,l){if(c)a.attachEvent("onresize",l);else{if(!a.__resizeTriggers__){var d=a.ownerDocument,f=u.getComputedStyle(a);f&&"static"===f.position&&(a.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',a=n.head||n.getElementsByTagName("head")[0],o=n.createElement("style");o.id="detectElementResize",o.type="text/css",null!=e&&o.setAttribute("nonce",e),o.styleSheet?o.styleSheet.cssText=r:o.appendChild(n.createTextNode(r)),a.appendChild(o)}}(d),a.__resizeLast__={},a.__resizeListeners__=[],(a.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var p=d.createElement("div");p.className="expand-trigger",p.appendChild(d.createElement("div"));var h=d.createElement("div");h.className="contract-trigger",a.__resizeTriggers__.appendChild(p),a.__resizeTriggers__.appendChild(h),a.appendChild(a.__resizeTriggers__),o(a),a.addEventListener("scroll",s,!0),r&&(a.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&o(a)},a.__resizeTriggers__.addEventListener(r,a.__resizeTriggers__.__animationListener__))}a.__resizeListeners__.push(l)}},removeResizeListener:function(e,t){if(c)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(n){}}}}}null==h||null==m?(l=f,d=function(e){return p(e,20)}):(l=function(e){var t=c(e,2),n=t[0],r=t[1];h(n),f(r)},d=function(e){var t=m((function(){f(n),e()})),n=p((function(){h(t),e()}),20);return[t,n]});var v=function(e){function t(){var e,n,r;i(this,t);for(var a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,i=e.onResize;if(r._parentNode){var a=r._parentNode.offsetHeight||0,o=r._parentNode.offsetWidth||0,s=window.getComputedStyle(r._parentNode)||{},c=parseInt(s.paddingLeft,10)||0,u=parseInt(s.paddingRight,10)||0,l=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,f=a-l-d,p=o-c-u;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:a-l-d,width:o-c-u}),i({height:a,width:o}))}},r._setRef=function(e){r._autoSizer=e},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=b(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,i=e.disableHeight,a=e.disableWidth,s=e.style,c=this.state,u=c.height,l=c.width,d={overflow:"visible"},f={},p=!1;return i||(0===u&&(p=!0),d.height=0,f.height=u),a||(0===l&&(p=!0),d.width=0,f.width=l),Object(r.createElement)("div",{className:n,ref:this._setRef,style:o({},d,s)},!p&&t(f))}}]),t}(r.PureComponent);v.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=v}).call(this,n(59))},759:function(e,t,n){},760:function(e,t,n){},761:function(e,t,n){},762:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},763:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},764:function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},765:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},766:function(e,t){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}},e.exports.default=e.exports,e.exports.__esModule=!0},767:function(e,t,n){var r=n(768);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},768:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},769:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},770:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.default=e.exports,e.exports.__esModule=!0},771:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},772:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},773:function(e,t,n){var r=n(469),i=n(775),a=n(779),o=n(781),s=n(782),c=n(784),u=Date.prototype.getTime;function l(e,t,n){var p=n||{};return!!(p.strict?a(e,t):e===t)||(!e||!t||"object"!==typeof e&&"object"!==typeof t?p.strict?a(e,t):e==t:function(e,t,n){var a,p;if(typeof e!==typeof t)return!1;if(d(e)||d(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var h=o(e),m=o(t);if(h!==m)return!1;if(h||m)return e.source===t.source&&s(e)===s(t);if(c(e)&&c(t))return u.call(e)===u.call(t);var b=f(e),v=f(t);if(b!==v)return!1;if(b||v){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}if(typeof e!==typeof t)return!1;try{var j=r(e),g=r(t)}catch(O){return!1}if(j.length!==g.length)return!1;for(j.sort(),g.sort(),a=j.length-1;a>=0;a--)if(j[a]!=g[a])return!1;for(a=j.length-1;a>=0;a--)if(!l(e[p=j[a]],t[p],n))return!1;return!0}(e,t,p))}function d(e){return null===e||void 0===e}function f(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&!(e.length>0&&"number"!==typeof e[0]))}e.exports=l},774:function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(470),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!f["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{d(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(e){var t=null!==e&&"object"===typeof e,n="[object Function]"===a.call(e),r=o(e),s=t&&"[object String]"===a.call(e),f=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)f.push(String(m));if(r&&e.length>0)for(var b=0;b<e.length;++b)f.push(String(b));else for(var v in e)h&&"prototype"===v||!i.call(e,v)||f.push(String(v));if(c)for(var j=function(e){if("undefined"===typeof window||!p)return d(e);try{return d(e)}catch(t){return!1}}(e),g=0;g<l.length;++g)j&&"constructor"===l[g]||!i.call(e,l[g])||f.push(l[g]);return f}}e.exports=r},775:function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,i=n(340)("Object.prototype.toString"),a=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},o=function(e){return!!a(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o},779:function(e,t,n){"use strict";var r=n(248),i=n(343),a=n(472),o=n(473),s=n(780),c=i(o(),Object);r(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c},780:function(e,t,n){"use strict";var r=n(473),i=n(248);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},781:function(e,t,n){"use strict";var r,i,a,o,s=n(340),c=n(471)()&&"symbol"===typeof Symbol.toStringTag;if(c){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),a={};var u=function(){throw a};o={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(o[Symbol.toPrimitive]=u)}var l=s("Object.prototype.toString"),d=Object.getOwnPropertyDescriptor;e.exports=c?function(e){if(!e||"object"!==typeof e)return!1;var t=d(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,o)}catch(n){return n===a}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===l(e)}},782:function(e,t,n){"use strict";var r=n(248),i=n(343),a=n(474),o=n(475),s=n(783),c=i(a);r(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c},783:function(e,t,n){"use strict";var r=n(248).supportsDescriptors,i=n(475),a=Object.getOwnPropertyDescriptor,o=Object.defineProperty,s=TypeError,c=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!c)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=c(u),n=a(t,"flags");return n&&n.get===e||o(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},784:function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,a="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"object"===typeof e&&null!==e&&(a?function(e){try{return r.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},785:function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:c(s(e))}function u(e){return e&&e.referenceNode?e.referenceNode:e}var l=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?l:10===e?d:l||d}function p(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?p(n):n:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function m(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o=a.commonAncestorContainer;if(e!==o&&t!==o||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||p(e.firstElementChild)===e)}(o)?o:p(o);var s=h(e);return s.host?m(s.host,t):m(e,h(t).host)}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var i=e.ownerDocument.documentElement,a=e.ownerDocument.scrollingElement||i;return a[n]}return e[n]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=b(t,"top"),i=b(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}function j(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function g(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function O(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:g("Height",t,n,r),width:g("Width",t,n,r)}}var y=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function S(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function k(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=b(e,"top"),r=b(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(p){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?O(e.ownerDocument):{},s=a.width||e.clientWidth||i.width,c=a.height||e.clientHeight||i.height,u=e.offsetWidth-s,l=e.offsetHeight-c;if(u||l){var d=o(e);u-=j(d,"x"),l-=j(d,"y"),i.width-=u,i.height-=l}return S(i)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),i="HTML"===t.nodeName,a=k(e),s=k(t),u=c(e),l=o(t),d=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&i&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=S({top:a.top-s.top-d,left:a.left-s.left-p,width:a.width,height:a.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var m=parseFloat(l.marginTop),b=parseFloat(l.marginLeft);h.top-=d-m,h.bottom-=d-m,h.left-=p-b,h.right-=p-b,h.marginTop=m,h.marginLeft=b}return(r&&!n?t.contains(u):t===u&&"BODY"!==u.nodeName)&&(h=v(h,t)),h}function A(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),a=Math.max(n.clientHeight,window.innerHeight||0),o=t?0:b(n),s=t?0:b(n,"left"),c={top:o-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:a};return S(c)}function E(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&E(n)}function D(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a={top:0,left:0},o=i?D(e):m(e,u(t));if("viewport"===r)a=A(o,i);else{var l=void 0;"scrollParent"===r?"BODY"===(l=c(s(t))).nodeName&&(l=e.ownerDocument.documentElement):l="window"===r?e.ownerDocument.documentElement:r;var d=C(l,o,i);if("HTML"!==l.nodeName||E(o))a=d;else{var f=O(e.ownerDocument),p=f.height,h=f.width;a.top+=d.top-d.marginTop,a.bottom=p+d.top,a.left+=d.left-d.marginLeft,a.right=h+d.left}}var b="number"===typeof(n=n||0);return a.left+=b?n:n.left||0,a.top+=b?n:n.top||0,a.right-=b?n:n.right||0,a.bottom-=b?n:n.bottom||0,a}function N(e){return e.width*e.height}function P(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=T(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(s).map((function(e){return x({key:e},s[e],{area:N(s[e])})})).sort((function(e,t){return t.area-e.area})),u=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:c[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function R(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=r?D(t):m(t,u(n));return C(n,i,r)}function H(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var r=H(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",c=a?"height":"width",u=a?"width":"height";return i[o]=t[o]+t[c]/2-r[c]/2,i[s]=n===s?t[s]-r[u]:t[I(s)],i}function z(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function M(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=z(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=S(t.offsets.popper),t.offsets.reference=S(t.offsets.reference),t=n(t,e))})),t}function B(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=M(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function L(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function U(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],a=i?""+i+n:e;if("undefined"!==typeof document.body.style[a])return a}return null}function W(){return this.state.isDestroyed=!0,L(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(e){var t=e.ownerDocument;return t?t.defaultView:window}function V(e,t,n,r){var i="BODY"===e.nodeName,a=i?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),i||V(c(a.parentNode),t,n,r),r.push(a)}function q(e,t,n,r){n.updateBound=r,G(e).addEventListener("resize",n.updateBound,{passive:!0});var i=c(e);return V(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function Z(){this.state.eventsEnabled||(this.state=q(this.reference,this.options,this.state,this.scheduleUpdate))}function Y(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,G(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function J(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var X=n&&/Firefox/i.test(navigator.userAgent);function $(e,t,n){var r=z(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],ee=Q.slice(3);function te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ee.indexOf(e),r=ee.slice(n+1).concat(ee.slice(0,n));return t?r.reverse():r}var ne="flip",re="clockwise",ie="counterclockwise";function ae(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=o.indexOf(z(o,(function(e){return-1!==e.search(/,|\s/)})));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(u=u.map((function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return S(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){K(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,a=i.reference,o=i.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",u=s?"width":"height",l={start:_({},c,a[c]),end:_({},c,a[c]+a[u]-o[u])};e.offsets.popper=x({},o,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],c=void 0;return c=K(+n)?[+n,0]:ae(n,a,o,s),"left"===s?(a.top+=c[0],a.left-=c[1]):"right"===s?(a.top+=c[0],a.left+=c[1]):"top"===s?(a.left+=c[0],a.top-=c[1]):"bottom"===s&&(a.left+=c[0],a.top+=c[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||p(e.instance.popper);e.instance.reference===n&&(n=p(n));var r=U("transform"),i=e.instance.popper.style,a=i.top,o=i.left,s=i[r];i.top="",i.left="",i[r]="";var c=T(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=a,i.left=o,i[r]=s,t.boundaries=c;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(l[e],c[e])),_({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(l[n],c[e]-("right"===e?l.width:l.height))),_({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,d[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],a=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",c=o?"left":"top",u=o?"width":"height";return n[s]<a(r[c])&&(e.offsets.popper[c]=a(r[c])-n[u]),n[c]>a(r[s])&&(e.offsets.popper[c]=a(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,s=a.popper,c=a.reference,u=-1!==["left","right"].indexOf(i),l=u?"height":"width",d=u?"Top":"Left",f=d.toLowerCase(),p=u?"left":"top",h=u?"bottom":"right",m=H(r)[l];c[h]-m<s[f]&&(e.offsets.popper[f]-=s[f]-(c[h]-m)),c[f]+m>s[h]&&(e.offsets.popper[f]+=c[f]+m-s[h]),e.offsets.popper=S(e.offsets.popper);var b=c[f]+c[l]/2-m/2,v=o(e.instance.popper),j=parseFloat(v["margin"+d]),g=parseFloat(v["border"+d+"Width"]),O=b-e.offsets.popper[f]-j-g;return O=Math.max(Math.min(s[l]-m,O),0),e.arrowElement=r,e.offsets.arrow=(_(n={},f,Math.round(O)),_(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(L(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=T(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=I(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case ne:o=[r,i];break;case re:o=te(r);break;case ie:o=te(r,!0);break;default:o=t.behavior}return o.forEach((function(s,c){if(r!==s||o.length===c+1)return e;r=e.placement.split("-")[0],i=I(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,f="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),p=d(u.left)<d(n.left),h=d(u.right)>d(n.right),m=d(u.top)<d(n.top),b=d(u.bottom)>d(n.bottom),v="left"===r&&p||"right"===r&&h||"top"===r&&m||"bottom"===r&&b,j=-1!==["top","bottom"].indexOf(r),g=!!t.flipVariations&&(j&&"start"===a&&p||j&&"end"===a&&h||!j&&"start"===a&&m||!j&&"end"===a&&b),O=!!t.flipVariationsByContent&&(j&&"start"===a&&h||j&&"end"===a&&p||!j&&"start"===a&&b||!j&&"end"===a&&m),y=g||O;(f||v||y)&&(e.flipped=!0,(f||v)&&(r=o[c+1]),y&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=x({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=M(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,a=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=a[n]-(s?i[o?"width":"height"]:0),e.placement=I(t),e.offsets.popper=S(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=z(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,a=z(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==a&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==a?a:t.gpuAcceleration,s=p(e.instance.popper),c=k(s),u={position:i.position},l=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,a=Math.round,o=Math.floor,s=function(e){return e},c=a(i.width),u=a(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),f=t?l||d||c%2===u%2?a:o:s,p=t?a:s;return{left:f(c%2===1&&u%2===1&&!d&&t?r.left-1:r.left),top:p(r.top),bottom:p(r.bottom),right:f(r.right)}}(e,window.devicePixelRatio<2||!X),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",h=U("transform"),m=void 0,b=void 0;if(b="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+l.bottom:-c.height+l.bottom:l.top,m="right"===f?"HTML"===s.nodeName?-s.clientWidth+l.right:-c.width+l.right:l.left,o&&h)u[h]="translate3d("+m+"px, "+b+"px, 0)",u[d]=0,u[f]=0,u.willChange="transform";else{var v="bottom"===d?-1:1,j="right"===f?-1:1;u[d]=b*v,u[f]=m*j,u.willChange=d+", "+f}var g={"x-placement":e.placement};return e.attributes=x({},g,e.attributes),e.styles=x({},u,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return J(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&J(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var a=R(i,t,e,n.positionFixed),o=P(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),J(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=x({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return B.call(this)}},{key:"destroy",value:function(){return W.call(this)}},{key:"enableEventListeners",value:function(){return Z.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();se.Utils=("undefined"!==typeof window?window:e).PopperUtils,se.placements=Q,se.Defaults=oe,t.a=se}).call(this,n(59))},786:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(0)),i=a(n(787));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},787:function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),i=(o(r),o(n(11))),a=o(n(788));o(n(154));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;function d(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,o,f="__create-react-context-"+(0,a.default)()+"__",p=function(e){function n(){var t,r;s(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=r=c(this,e.call.apply(e,[this].concat(a))),r.emitter=d(r.props.value),c(r,t)}return u(n,e),n.prototype.getChildContext=function(){var e;return(e={})[f]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;((a=n)===(o=r)?0!==a||1/a===1/o:a!==a&&o!==o)?i=0:(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i))}var a,o},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[f]=i.default.object.isRequired,n);var h=function(t){function n(){var e,r;s(this,n);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=r=c(this,t.call.apply(t,[this].concat(a))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},c(r,e)}return u(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[f]&&this.context[f].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[f]&&this.context[f].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[f]?this.context[f].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return h.contextTypes=((o={})[f]=i.default.object,o),{Provider:p,Consumer:h}},e.exports=t.default},788:function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(59))},789:function(e,t,n){},791:function(e,t,n){},792:function(e,t,n){"use strict";var r=n(793).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},793:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=a(n(0)),i=a(n(794));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){var e,n;u(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return m(p(n=d(this,(e=f(t)).call.apply(e,[this].concat(o)))),"onClick",(function(e){var t=n.props,a=t.text,o=t.onCopy,s=t.children,c=t.options,u=r.default.Children.only(s),l=(0,i.default)(a,c);o&&o(a,l),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(e)})),n}var n,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(a=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=c(e,["text","onCopy","options","children"]),i=r.default.Children.only(t);return r.default.cloneElement(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{onClick:this.onClick}))}}])&&l(n.prototype,a),o&&l(n,o),t}(r.default.PureComponent);t.CopyToClipboard=b,m(b,"defaultProps",{onCopy:void 0,options:void 0})},794:function(e,t,n){"use strict";var r=n(795),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,a,o,s,c,u,l=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=i[t.format]||i.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),s.selectNodeContents(u),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),u&&document.body.removeChild(u),o()}return l}},795:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _p}));var r=n(24),i=n.n(r),a=n(35),o=n(0),s=n.n(o),c=n(25),u=n(91),l=n(38),d=n.n(l),f=n(6);function p(){var e=Object(c.useSelector)((function(e){return e.ui.notifications}));return Object(f.jsx)(d.a,{notifications:e})}var h=n(5),m=n(34),b=n(21),v=n(1),j=n(121),g=n(94),O=n(96),y=n(95),w=n.n(y),_=(n(284),n(11)),x=n.n(_),S=["as","className","type","tooltip"],k={type:x.a.string,tooltip:x.a.bool,as:x.a.elementType},C=s.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,c=e.tooltip,u=void 0!==c&&c,l=Object(O.a)(e,S);return s.a.createElement(r,Object(g.a)({},l,{ref:t,className:w()(i,o+"-"+(u?"tooltip":"feedback"))}))}));C.displayName="Feedback",C.propTypes=k;var A=C,E=s.a.createContext({controlId:void 0}),D=n(98),T=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],N=s.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,c=e.type,u=void 0===c?"checkbox":c,l=e.isValid,d=void 0!==l&&l,f=e.isInvalid,p=void 0!==f&&f,h=e.isStatic,m=e.as,b=void 0===m?"input":m,v=Object(O.a)(e,T),j=Object(o.useContext)(E),y=j.controlId,_=j.custom?[i,"custom-control-input"]:[r,"form-check-input"],x=_[0],S=_[1];return r=Object(D.a)(x,S),s.a.createElement(b,Object(g.a)({},v,{ref:t,type:u,id:n||y,className:w()(a,r,d&&"is-valid",p&&"is-invalid",h&&"position-static")}))}));N.displayName="FormCheckInput";var P=N,R=["bsPrefix","bsCustomPrefix","className","htmlFor"],H=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bsCustomPrefix,i=e.className,a=e.htmlFor,c=Object(O.a)(e,R),u=Object(o.useContext)(E),l=u.controlId,d=u.custom?[r,"custom-control-label"]:[n,"form-check-label"],f=d[0],p=d[1];return n=Object(D.a)(f,p),s.a.createElement("label",Object(g.a)({},c,{ref:t,htmlFor:a||l,className:w()(i,n)}))}));H.displayName="FormCheckLabel";var I=H,F=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],z=s.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.bsCustomPrefix,a=e.inline,c=void 0!==a&&a,u=e.disabled,l=void 0!==u&&u,d=e.isValid,f=void 0!==d&&d,p=e.isInvalid,h=void 0!==p&&p,m=e.feedbackTooltip,b=void 0!==m&&m,v=e.feedback,j=e.className,y=e.style,_=e.title,x=void 0===_?"":_,S=e.type,k=void 0===S?"checkbox":S,C=e.label,T=e.children,N=e.custom,R=e.as,H=void 0===R?"input":R,z=Object(O.a)(e,F),M="switch"===k||N,B=M?[i,"custom-control"]:[r,"form-check"],L=B[0],U=B[1];r=Object(D.a)(L,U);var W=Object(o.useContext)(E).controlId,G=Object(o.useMemo)((function(){return{controlId:n||W,custom:M}}),[W,M,n]),V=M||null!=C&&!1!==C&&!T,q=s.a.createElement(P,Object(g.a)({},z,{type:"switch"===k?"checkbox":k,ref:t,isValid:f,isInvalid:h,isStatic:!V,disabled:l,as:H}));return s.a.createElement(E.Provider,{value:G},s.a.createElement("div",{style:y,className:w()(j,r,M&&"custom-"+k,c&&r+"-inline")},T||s.a.createElement(s.a.Fragment,null,q,V&&s.a.createElement(I,{title:x},C),(f||h)&&s.a.createElement(A,{type:f?"valid":"invalid",tooltip:b},v))))}));z.displayName="FormCheck",z.Input=P,z.Label=I;var M=z,B=["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","lang","as"],L=s.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.bsCustomPrefix,a=e.className,c=e.isValid,u=e.isInvalid,l=e.lang,d=e.as,f=void 0===d?"input":d,p=Object(O.a)(e,B),h=Object(o.useContext)(E),m=h.controlId,b=h.custom?[i,"custom-file-input"]:[r,"form-control-file"],v=b[0],j=b[1];return r=Object(D.a)(v,j),s.a.createElement(f,Object(g.a)({},p,{ref:t,id:n||m,type:"file",lang:l,className:w()(a,r,c&&"is-valid",u&&"is-invalid")}))}));L.displayName="FormFileInput";var U=L,W=["bsPrefix","bsCustomPrefix","className","htmlFor"],G=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bsCustomPrefix,i=e.className,a=e.htmlFor,c=Object(O.a)(e,W),u=Object(o.useContext)(E),l=u.controlId,d=u.custom?[r,"custom-file-label"]:[n,"form-file-label"],f=d[0],p=d[1];return n=Object(D.a)(f,p),s.a.createElement("label",Object(g.a)({},c,{ref:t,htmlFor:a||l,className:w()(i,n),"data-browse":c["data-browse"]}))}));G.displayName="FormFileLabel";var V=G,q=["id","bsPrefix","bsCustomPrefix","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","label","children","custom","lang","data-browse","as","inputAs"],Z=s.a.forwardRef((function(e,t){var n=e.id,r=e.bsPrefix,i=e.bsCustomPrefix,a=e.disabled,c=void 0!==a&&a,u=e.isValid,l=void 0!==u&&u,d=e.isInvalid,f=void 0!==d&&d,p=e.feedbackTooltip,h=void 0!==p&&p,m=e.feedback,b=e.className,v=e.style,j=e.label,y=e.children,_=e.custom,x=e.lang,S=e["data-browse"],k=e.as,C=void 0===k?"div":k,T=e.inputAs,N=void 0===T?"input":T,P=Object(O.a)(e,q),R=_?[i,"custom"]:[r,"form-file"],H=R[0],I=R[1];r=Object(D.a)(H,I);var F=Object(o.useContext)(E).controlId,z=Object(o.useMemo)((function(){return{controlId:n||F,custom:_}}),[F,_,n]),M=null!=j&&!1!==j&&!y,B=s.a.createElement(U,Object(g.a)({},P,{ref:t,isValid:l,isInvalid:f,disabled:c,as:N,lang:x}));return s.a.createElement(E.Provider,{value:z},s.a.createElement(C,{style:v,className:w()(b,r,_&&"custom-file")},y||s.a.createElement(s.a.Fragment,null,_?s.a.createElement(s.a.Fragment,null,B,M&&s.a.createElement(V,{"data-browse":S},j)):s.a.createElement(s.a.Fragment,null,M&&s.a.createElement(V,null,j),B),(l||f)&&s.a.createElement(A,{type:l?"valid":"invalid",tooltip:h},m))))}));Z.displayName="FormFile",Z.Input=U,Z.Label=V;var Y=Z,K=n(154),J=n.n(K),X=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],$=s.a.forwardRef((function(e,t){var n,r,i=e.bsPrefix,a=e.bsCustomPrefix,c=e.type,u=e.size,l=e.htmlSize,d=e.id,f=e.className,p=e.isValid,h=void 0!==p&&p,m=e.isInvalid,b=void 0!==m&&m,v=e.plaintext,j=e.readOnly,y=e.custom,_=e.as,x=void 0===_?"input":_,S=Object(O.a)(e,X),k=Object(o.useContext)(E).controlId,C=y?[a,"custom"]:[i,"form-control"],A=C[0],T=C[1];if(i=Object(D.a)(A,T),v)(r={})[i+"-plaintext"]=!0,n=r;else if("file"===c){var N;(N={})[i+"-file"]=!0,n=N}else if("range"===c){var P;(P={})[i+"-range"]=!0,n=P}else if("select"===x&&y){var R;(R={})[i+"-select"]=!0,R[i+"-select-"+u]=u,n=R}else{var H;(H={})[i]=!0,H[i+"-"+u]=u,n=H}return s.a.createElement(x,Object(g.a)({},S,{type:c,size:l,ref:t,readOnly:j,id:d||k,className:w()(f,n,h&&"is-valid",b&&"is-invalid")}))}));$.displayName="FormControl";var Q=Object.assign($,{Feedback:A}),ee=["bsPrefix","className","children","controlId","as"],te=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,c=e.as,u=void 0===c?"div":c,l=Object(O.a)(e,ee);n=Object(D.a)(n,"form-group");var d=Object(o.useMemo)((function(){return{controlId:a}}),[a]);return s.a.createElement(E.Provider,{value:d},s.a.createElement(u,Object(g.a)({},l,{ref:t,className:w()(r,n)}),i))}));te.displayName="FormGroup";var ne=te,re=["bsPrefix","className","as"],ie=["xl","lg","md","sm","xs"],ae=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=Object(O.a)(e,re),c=Object(D.a)(n,"col"),u=[],l=[];return ie.forEach((function(e){var t,n,r,i=o[e];if(delete o[e],"object"===typeof i&&null!=i){var a=i.span;t=void 0===a||a,n=i.offset,r=i.order}else t=i;var s="xs"!==e?"-"+e:"";t&&u.push(!0===t?""+c+s:""+c+s+"-"+t),null!=r&&l.push("order"+s+"-"+r),null!=n&&l.push("offset"+s+"-"+n)})),u.length||u.push(c),s.a.createElement(a,Object(g.a)({},o,{ref:t,className:w.a.apply(void 0,[r].concat(u,l))}))}));ae.displayName="Col";var oe=ae,se=["as","bsPrefix","column","srOnly","className","htmlFor"],ce=s.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"label":n,i=e.bsPrefix,a=e.column,c=e.srOnly,u=e.className,l=e.htmlFor,d=Object(O.a)(e,se),f=Object(o.useContext)(E).controlId;i=Object(D.a)(i,"form-label");var p="col-form-label";"string"===typeof a&&(p=p+" "+p+"-"+a);var h=w()(u,i,c&&"sr-only",a&&p);return l=l||f,a?s.a.createElement(oe,Object(g.a)({ref:t,as:"label",className:h,htmlFor:l},d)):s.a.createElement(r,Object(g.a)({ref:t,className:h,htmlFor:l},d))}));ce.displayName="FormLabel",ce.defaultProps={column:!1,srOnly:!1};var ue=ce,le=["bsPrefix","className","as","muted"],de=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,c=Object(O.a)(e,le);return n=Object(D.a)(n,"form-text"),s.a.createElement(a,Object(g.a)({},c,{ref:t,className:w()(r,n,o&&"text-muted")}))}));de.displayName="FormText";var fe=de,pe=s.a.forwardRef((function(e,t){return s.a.createElement(M,Object(g.a)({},e,{ref:t,type:"switch"}))}));pe.displayName="Switch",pe.Input=M.Input,pe.Label=M.Label;var he=pe,me=n(189),be=["bsPrefix","inline","className","validated","as"],ve=Object(me.a)("form-row"),je=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.inline,i=e.className,a=e.validated,o=e.as,c=void 0===o?"form":o,u=Object(O.a)(e,be);return n=Object(D.a)(n,"form"),s.a.createElement(c,Object(g.a)({},u,{ref:t,className:w()(i,a&&"was-validated",r&&n+"-inline")}))}));je.displayName="Form",je.defaultProps={inline:!1},je.Row=ve,je.Group=ne,je.Control=Q,je.Check=M,je.File=Y,je.Switch=he,je.Label=ue,je.Text=fe;var ge=je,Oe=n(3);function ye(e,t){function n(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(i){var a=i.target.value||"",o=Object(v.a)(Object(v.a)({},e),{},Object(Oe.a)({},n,r(a)));t(o)}}return function(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(e){return e},c=function(e){return e||""};switch(i){case"number":o=Number;break;case"date":o=function(e){return new Date(e).toISOString()},c=function(e){try{return new Date(e).toISOString().slice(0,10)}catch(t){return""}}}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:t}),Object(f.jsx)(ge.Control,Object(v.a)({type:i,value:c(e[r]),onChange:n(r,o)},a))]})}}function we(e){var t=e.children,n=e.icon,r=void 0===n?null:n,i=e.colStretch,a=void 0===i?[]:i,o=null;return r&&(o=Object(f.jsx)("div",{className:"input-row-icon",children:r})),Object(f.jsxs)(ge.Row,{style:{alignItems:"baseline"},children:[o,s.a.Children.map(t,(function(e,t){return Object(f.jsx)(ge.Group,{as:oe,xs:a[t]||null,className:"form-cell",children:e},t)}))]})}function _e(e){var t=e.accessor,n=e.Cell,r=String(t).split(".");function i(e){var t,n=e,i=Object(b.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(null==n)return;n=n[a]}}catch(o){i.e(o)}finally{i.f()}return n}return function(e){var t=e.row.original,r=i(t.obj),a=i(t.changes);return null!=a?Object(f.jsx)("div",{className:"diff-changed-cell bg-primary text-white",title:a,children:a}):n?n({value:r,original:t.obj}):null==r?null:r}}function xe(e){return e.map((function(e){var t=Object(v.a)(Object(v.a)({id:e.accessor},e),{},{Cell:_e(e)});return delete t.accessor,t}))}var Se=n(461),ke=n(18);function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ae=n(422);function Ee(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var De=function(e,t){var n;void 0===t&&(t=Ee);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}},Te=(n(279),"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function Ne(e){cancelAnimationFrame(e.id)}function Pe(e,t){var n=Te();var r={id:requestAnimationFrame((function i(){Te()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var Re=null;function He(e){if(void 0===e&&(e=!1),null===Re||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Re="positive-descending":(t.scrollLeft=1,Re=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Re}return Re}var Ie=function(e,t){return e};function Fe(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,a=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,c=e.getStopIndexForStartIndex,u=e.initInstanceProps,l=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return(t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=u(r.props,Ce(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:Ce(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=De((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=De((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,a=r.props,o=a.direction,s=a.itemSize,c=a.layout,u=r._getItemStyleCache(l&&s,l&&c,l&&o);if(u.hasOwnProperty(e))t=u[e];else{var d=n(r.props,e,r._instanceProps),f=i(r.props,e,r._instanceProps),p="horizontal"===o||"horizontal"===c,h="rtl"===o,m=p?d:0;u[e]=t={position:"absolute",left:h?void 0:m,right:h?m:void 0,top:p?0:d,height:p?"100%":f,width:p?f:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=De((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,a=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,o=i;if("rtl"===t)switch(He()){case"negative":o=-i;break;case"positive-descending":o=a-n-i}return o=Math.max(0,Math.min(o,a-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:o,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,a=t.scrollTop;r.setState((function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&Ne(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Pe(r._resetIsScrolling,150)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}Object(Ae.a)(t,e),t.getDerivedStateFromProps=function(e,t){return ze(e,t),d(e),null};var f=t.prototype;return f.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},f.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(a(this.props,e,t,r,this._instanceProps))},f.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},f.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(He()){case"negative":a.scrollLeft=-i;break;case"positive-ascending":a.scrollLeft=i;break;default:var o=a.clientWidth,s=a.scrollWidth;a.scrollLeft=s-o-i}else a.scrollLeft=i;else a.scrollTop=i}this._callPropsCallbacks()},f.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Ne(this._resetIsScrollingTimeoutId)},f.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,a=e.height,s=e.innerRef,c=e.innerElementType,u=e.innerTagName,l=e.itemCount,d=e.itemData,f=e.itemKey,p=void 0===f?Ie:f,h=e.layout,m=e.outerElementType,b=e.outerTagName,v=e.style,j=e.useIsScrolling,g=e.width,O=this.state.isScrolling,y="horizontal"===i||"horizontal"===h,w=y?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),x=_[0],S=_[1],k=[];if(l>0)for(var C=x;C<=S;C++)k.push(Object(o.createElement)(t,{data:d,key:p(C,d),index:C,isScrolling:j?O:void 0,style:this._getItemStyle(C)}));var A=r(this.props,this._instanceProps);return Object(o.createElement)(m||b||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:Object(ke.a)({position:"relative",height:a,width:g,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},v)},Object(o.createElement)(c||u||"div",{children:k,ref:s,style:{height:y?"100%":A,pointerEvents:O?"none":void 0,width:y?A:"100%"}}))},f._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var a=this.state,o=a.scrollDirection,s=a.scrollOffset,c=a.scrollUpdateWasRequested;this._callOnScroll(o,s,c)}},f._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,a=r.scrollDirection,o=r.scrollOffset;if(0===t)return[0,0,0,0];var u=s(this.props,o,this._instanceProps),l=c(this.props,u,o,this._instanceProps),d=i&&"backward"!==a?1:Math.max(1,n),f=i&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,u-d),Math.max(0,Math.min(t-1,l+f)),u,l]},t}(o.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var ze=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Me=Fe({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,r){var i=e.direction,a=e.height,o=e.itemCount,s=e.itemSize,c=e.layout,u=e.width,l="horizontal"===i||"horizontal"===c?u:a,d=Math.max(0,o*s-l),f=Math.min(d,t*s),p=Math.max(0,t*s-l+s);switch("smart"===n&&(n=r>=p-l&&r<=f+l?"auto":"center"),n){case"start":return f;case"end":return p;case"center":var h=Math.round(p+(f-p)/2);return h<Math.ceil(l/2)?0:h>d+Math.floor(l/2)?d:h;case"auto":default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t){var n=e.itemCount,r=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/r)))},getStopIndexForStartIndex:function(e,t,n){var r=e.direction,i=e.height,a=e.itemCount,o=e.itemSize,s=e.layout,c=e.width,u=t*o,l="horizontal"===r||"horizontal"===s?c:i,d=Math.ceil((l+n-u)/o);return Math.max(0,Math.min(a-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});var Be=n(742),Le=n.n(Be),Ue=n(758),We=n(16);Se.actions.setLastSelectedRow="setLastSelectedRow";var Ge=function(){};function Ve(e,t,n){return n&&!e.includes(t)&&e.push(t),!n&&e.includes(t)&&e.splice(e.indexOf(t),1),e}function qe(e){var t=e.indeterminate,n=Object(j.a)(e,["indeterminate"]);return Object(f.jsx)("input",Object(v.a)({type:"checkbox",ref:function(e){return e&&(e.indeterminate=t)}},n))}function Ze(e){var t=e.isAllRowsSelected,n=e.isSomeRowsSelected,r=e.isHiddenRowsSelected,i=e.selected,a=e.visible,o=e.setSelected;return Object(f.jsx)(qe,{checked:t,indeterminate:n&&(!t||r),onChange:function(){i&&o&&o(t?[]:a)}})}function Ye(e){var t,n=e.row,r=e.selected,i=e.visible,a=e.setSelected,o=e.lastRowSelected,s=e.setLastRowSelected;if(null==(null===(t=n.original)||void 0===t?void 0:t.id))return null;var c=n.original.id;return Object(f.jsx)(qe,{indeterminate:!1,checked:null===r||void 0===r?void 0:r.includes(c),onChange:Ge,onClick:function(e){if(r&&a){var t=e.currentTarget.checked,n=Ve(Object(We.a)(r),c,t);t?(e.shiftKey&&function(e,t,n,r){if(null==n||!t.includes(n)||!t.includes(r))return Ve(Object(We.a)(e),r,!0);var i=t.indexOf(n),a=t.indexOf(r);if(i>a){var o=[a,i];i=o[0],a=o[1]}var s,c=t.slice(i,a),u=Object(b.a)(c);try{for(u.s();!(s=u.n()).done;)Ve(e,s.value,!0)}catch(l){u.e(l)}finally{u.f()}}(n,i,o,c),s(c)):s(null),function(e,t){if(e.length!==t.length)return!1;var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!t.includes(i))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(n,r)||a(n)}}})}function Ke(e){var t=e.enabled,n=e.selected,r=e.setSelected;return t?function(e){var t=s.a.useState(null),i=Object(m.a)(t,2),a=i[0],o=i[1];e.visibleColumns.push((function(e){return[{id:"selection",Header:Ze,Cell:Ye,maxWidth:45}].concat(Object(We.a)(e))})),e.useInstance.push(function(e){var t=e.selected,n=e.setSelected,r=e.lastRowSelected,i=e.setLastRowSelected;return s.a.useCallback((function(e){var a,o=e.rows,c=new Set(t),u=Object(b.a)(o);try{for(u.s();!(a=u.n()).done;){var l,d=a.value,f=null===(l=d.original)||void 0===l?void 0:l.id;null!=f&&(d.isSelected=c.has(f))}}catch(g){u.e(g)}finally{u.f()}var p=s.a.useMemo((function(){return e.sortedRows.map((function(e){var t;return null===(t=e.original)||void 0===t?void 0:t.id})).filter((function(e){return null!=e}))}),[e.sortedRows]),h=function(e,t){return{isAllRowsSelected:t.every((function(t){return e.includes(t)}))&&t.length>0,isHiddenRowsSelected:e.some((function(e){return!t.includes(e)})),isSomeRowsSelected:e.length>0}}(t,p),m=h.isAllRowsSelected,v=h.isSomeRowsSelected,j=h.isHiddenRowsSelected;Object.assign(e,{isAllRowsSelected:m,isSomeRowsSelected:v,isHiddenRowsSelected:j,selected:t,visible:p,setSelected:n,lastRowSelected:r,setLastRowSelected:i})}),[t,n,r,i])}({selected:n||[],setSelected:r||Ge,lastRowSelected:a,setLastRowSelected:o}))}:function(){}}var Je={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xe=s.a.createContext&&s.a.createContext(Je),$e=function(){return($e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function et(e){return e&&e.map((function(e,t){return s.a.createElement(e.tag,$e({key:t},e.attr),et(e.child))}))}function tt(e){return function(t){return s.a.createElement(nt,$e({attr:$e({},e.attr)},t),et(e.child))}}function nt(e){var t=function(t){var n,r=e.attr,i=e.size,a=e.title,o=Qe(e,["attr","size","title"]),c=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),s.a.createElement("svg",$e({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:$e($e({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&s.a.createElement("title",null,a),e.children)};return void 0!==Xe?s.a.createElement(Xe.Consumer,null,(function(e){return t(e)})):t(Je)}function rt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"}}]})(e)}function it(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function at(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function ot(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function st(e){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function ct(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function ut(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function lt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function dt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function ft(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function pt(e){return tt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"}}]})(e)}function ht(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function mt(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function bt(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function vt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.04 442.66l-99.71-99.69c-4.5-4.5-10.6-7-17-7h-16.3c27.6-35.3 44-79.69 44-127.99C416.03 93.09 322.92 0 208.02 0S0 93.09 0 207.98s93.11 207.98 208.02 207.98c48.3 0 92.71-16.4 128.01-44v16.3c0 6.4 2.5 12.5 7 17l99.71 99.69c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.59.1-33.99zm-297.02-90.7c-79.54 0-144-64.34-144-143.98 0-79.53 64.35-143.98 144-143.98 79.54 0 144 64.34 144 143.98 0 79.53-64.35 143.98-144 143.98zm27.11-152.54l-45.01-13.5c-5.16-1.55-8.77-6.78-8.77-12.73 0-7.27 5.3-13.19 11.8-13.19h28.11c4.56 0 8.96 1.29 12.82 3.72 3.24 2.03 7.36 1.91 10.13-.73l11.75-11.21c3.53-3.37 3.33-9.21-.57-12.14-9.1-6.83-20.08-10.77-31.37-11.35V112c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v16.12c-23.63.63-42.68 20.55-42.68 45.07 0 19.97 12.99 37.81 31.58 43.39l45.01 13.5c5.16 1.55 8.77 6.78 8.77 12.73 0 7.27-5.3 13.19-11.8 13.19h-28.1c-4.56 0-8.96-1.29-12.82-3.72-3.24-2.03-7.36-1.91-10.13.73l-11.75 11.21c-3.53 3.37-3.33 9.21.57 12.14 9.1 6.83 20.08 10.77 31.37 11.35V304c0 4.42 3.58 8 8 8h16c4.42 0 8-3.58 8-8v-16.12c23.63-.63 42.68-20.54 42.68-45.07 0-19.97-12.99-37.81-31.59-43.39z"}}]})(e)}function jt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function gt(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M176 352h-48V48a16 16 0 0 0-16-16H80a16 16 0 0 0-16 16v304H16c-14.19 0-21.36 17.24-11.29 27.31l80 96a16 16 0 0 0 22.62 0l80-96C197.35 369.26 190.22 352 176 352zm240-64H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"}}]})(e)}function Ot(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 160h48v304a16 16 0 0 0 16 16h32a16 16 0 0 0 16-16V160h48c14.21 0 21.38-17.24 11.31-27.31l-80-96a16 16 0 0 0-22.62 0l-80 96C-5.35 142.74 1.78 160 16 160zm400 128H288a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h56l-61.26 70.45A32 32 0 0 0 272 446.37V464a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-56l61.26-70.45A32 32 0 0 0 432 321.63V304a16 16 0 0 0-16-16zm31.06-85.38l-59.27-160A16 16 0 0 0 372.72 32h-41.44a16 16 0 0 0-15.07 10.62l-59.27 160A16 16 0 0 0 272 224h24.83a16 16 0 0 0 15.23-11.08l4.42-12.92h71l4.41 12.92A16 16 0 0 0 407.16 224H432a16 16 0 0 0 15.06-21.38zM335.61 144L352 96l16.39 48z"}}]})(e)}function yt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"}}]})(e)}function wt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"}}]})(e)}function _t(e){return tt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function xt(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function St(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function kt(e){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"}}]})(e)}function Ct(e){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function At(e){return tt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M589.6 240l45.6-45.6c6.3-6.3 6.3-16.5 0-22.8l-22.8-22.8c-6.3-6.3-16.5-6.3-22.8 0L544 194.4l-45.6-45.6c-6.3-6.3-16.5-6.3-22.8 0l-22.8 22.8c-6.3 6.3-6.3 16.5 0 22.8l45.6 45.6-45.6 45.6c-6.3 6.3-6.3 16.5 0 22.8l22.8 22.8c6.3 6.3 16.5 6.3 22.8 0l45.6-45.6 45.6 45.6c6.3 6.3 16.5 6.3 22.8 0l22.8-22.8c6.3-6.3 6.3-16.5 0-22.8L589.6 240zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Et(e){return tt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"}}]})(e)}function Dt(e){return tt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}var Tt=n(97),Nt=["bsPrefix","variant","pill","className","as"],Pt=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.pill,a=e.className,o=e.as,c=void 0===o?"span":o,u=Object(O.a)(e,Nt),l=Object(D.a)(n,"badge");return s.a.createElement(c,Object(g.a)({ref:t},u,{className:w()(a,l,i&&l+"-pill",r&&l+"-"+r)}))}));Pt.displayName="Badge",Pt.defaultProps={pill:!1};var Rt=Pt;function Ht(e){var t=e.column,n=null;return t.isSorted&&(n=t.isSortedDesc?Object(f.jsx)("div",Object(v.a)(Object(v.a)({className:"column-sort-icon"},t.getSortByToggleProps()),{},{children:Object(f.jsx)(Ot,{className:"ml-2 text-secondary"})})):Object(f.jsx)("div",Object(v.a)(Object(v.a)({className:"column-sort-icon"},t.getSortByToggleProps()),{},{children:Object(f.jsx)(gt,{className:"ml-2 text-secondary"})}))),Object(f.jsxs)("div",Object(v.a)(Object(v.a)({className:"th"},t.getHeaderProps()),{},{children:[Object(f.jsx)("div",Object(v.a)(Object(v.a)({className:"table-header"},t.getSortByToggleProps()),{},{children:t.render("Header")})),n,Object(f.jsx)("div",Object(v.a)(Object(v.a)({},t.getResizerProps()),{},{className:"resizer ".concat(t.isResizing?"isResizing":"")}))]}))}function It(e){var t=e.onChange,n=e.count,r=void 0===n?null:n,i=s.a.useState([]),a=Object(m.a)(i,2),o=a[0],c=a[1];s.a.useEffect((function(){"function"===typeof t&&t(o.map((function(e){return Object(Tt.j)(e.toLowerCase())})))}),[o,t]);var u=o.filter((function(e){return Object(Tt.j)(e)})),l=o.map((function(e){return Object(Tt.j)(e.toLowerCase())}));return Object(f.jsxs)("div",{className:"filterable-table-filter",children:[Object(f.jsx)(jt,{className:"mr-3"}),Object(f.jsx)("input",{type:"text",placeholder:"Filter by...",onChange:function(e){c([e.target.value].concat(Object(We.a)(o.slice(1))))},value:o[0]||"",onKeyDown:function(e){"Enter"===e.key&&function(){var e=Object(Tt.j)((o[0]||"").toLowerCase());""!==e&&(l.slice(1).some((function(t){return t===e}))?c([""].concat(Object(We.a)(o.slice(1)))):c([""].concat(Object(We.a)(o.map((function(e){return Object(Tt.j)(e)}))))))}()}}),u.length>0&&Object(f.jsx)("span",{className:"filter-table-filtering-by",children:"Filtering by:"}),u.map((function(e,t){return Object(f.jsxs)(Rt,{className:"filter-chip",pill:!0,variant:"light",children:[e,Object(f.jsx)(_t,{className:"filter-chip-icon",title:"Remove filter",onClick:function(){return function(e){if(e!==o[0]){var t=o.filter((function(t){return t!==e}));c(t)}else c([""].concat(Object(We.a)(o.slice(1))))}(e)}})]},"".concat(e,"-").concat(t))})),null!=r&&Object(f.jsx)("div",{className:"filter-item-count",children:r})]})}n(759);function Ft(e){var t=e.columns,n=e.data,r=e.filterable,i=void 0===r?null:r,a=e.selected,o=e.setSelected,u=s.a.useState([]),l=Object(m.a)(u,2),d=l[0],p=l[1],h=s.a.useCallback((function(e,t,n){return 0===d.length?e:e.filter((function(e){return d.every((function(n){return t.some((function(t){return(""+(e.values[t]||"")).toLowerCase().indexOf(n)>=0}))}))}))}),[d]),b=Object(Se.useTable)({columns:t,data:n,filterTypes:{custom:h},globalFilter:"custom",autoResetGlobalFilter:!1,autoResetSortBy:!1,autoResetSelectedRows:!1,initialState:{hiddenColumns:t.filter((function(e){return!1===e.show})).map((function(e){return e.id}))}},Se.useBlockLayout,Se.useResizeColumns,Se.useGlobalFilter,Se.useSortBy,Ke({enabled:!!o,selected:a,setSelected:o})),j=b.isHiddenRowsSelected,g=s.a.useRef(null),O=s.a.useRef(null);s.a.useEffect((function(){b.setGlobalFilter("custom")}),[b,h]);var y=s.a.useCallback((function(e){var t,n=e.index,r=e.style,i=b.rows[n];return b.prepareRow(i),Object(f.jsx)("div",Object(v.a)(Object(v.a)({},i.getRowProps({style:r})),{},{className:w()("tr",{"table-primary":i.isSelected&&null!=(null===(t=i.original)||void 0===t?void 0:t.id)}),children:i.cells.map((function(e){return Object(f.jsx)("div",Object(v.a)(Object(v.a)({},e.getCellProps()),{},{className:w()("td",e.column.className,{"selection-checkbox":"selection"===e.column.id}),children:e.render("Cell")}))}))}))}),[b]),_=s.a.useCallback((function(e){var t=e.target,n=t.scrollTop,r=t.scrollLeft;g.current&&g.current.scrollTo(n),O.current&&O.current.scrollTo({left:r})}),[g,O]);return Object(f.jsxs)("div",{className:"filter-table-container",children:[i&&Object(f.jsx)(It,{onChange:function(e){Object(c.shallowEqual)(e,d)||p(e)},count:b.rows.length}),Object(f.jsxs)("div",Object(v.a)(Object(v.a)({},b.getTableProps()),{},{className:"table table-bordered table-sm",children:[Object(f.jsx)("div",{className:"thead",ref:O,children:b.headerGroups.map((function(e){return Object(f.jsx)("div",Object(v.a)(Object(v.a)({},e.getHeaderGroupProps()),{},{className:"thr",children:e.headers.map((function(e,t){return Object(f.jsx)(Ht,{column:e},t)}))}))}))}),Object(f.jsx)(zt,{visible:j}),Object(f.jsx)("div",Object(v.a)(Object(v.a)({},b.getTableBodyProps()),{},{className:"tbody",children:Object(f.jsx)(Ue.a,{children:function(e){var t=e.width,n=e.height;return Object(f.jsx)(Le.a,{style:{width:t,height:n},onScroll:_,children:Object(f.jsx)(Me,{height:n,itemCount:b.rows.length,itemSize:30,width:b.totalColumnsWidth,ref:g,style:{overflow:"visible"},children:y})})}})}))]}))]})}function zt(e){return e.visible?Object(f.jsx)("div",{className:"hidden-row-warning",children:"There are rows selected that are not visible\u2026"}):null}var Mt=[{Header:"Last Name",accessor:"last_name"},{Header:"First Name",accessor:"first_name"},{Header:"Email",accessor:"email",minWidth:120},{Header:"UTORid",accessor:"utorid"}];function Bt(e){var t=e.instructors,n=e.columns,r=void 0===n?Mt:n;return Object(f.jsx)(Ft,{data:t,columns:r,filterable:!0})}function Lt(e){var t=e.modifiedInstructors;return Object(f.jsx)(Bt,{instructors:t,columns:xe(Mt)})}var Ut={utorid:"",last_name:"",first_name:""};function Wt(e){var t=e.instructor,n=e.setInstructor,r=ye(Object(v.a)(Object(v.a)({},Ut),t),n);return Object(f.jsx)(ge,{children:Object(f.jsxs)(ge.Row,{children:[Object(f.jsxs)(we,{children:[r("First Name","first_name"),r("Last Name","last_name")]}),Object(f.jsxs)(we,{children:[r("Email","email"),r("UTORid","utorid")]})]})})}var Gt=n(1374),Vt=n(428);function qt(e){var t=e.show,n=e.onHide,r=e.onDelete,i=e.instructor;return i?Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Delete Instructor"})}),Object(f.jsxs)(Gt.a.Body,{children:["Are you sure you want to delete instructor"," ",i.last_name,", ",i.first_name,"? This action cannot be undone."]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:r,title:"Delete Instructor",children:"Delete"})]})]}):null}var Zt=n(1371);n(760);function Yt(e){var t=e.title,n=e.value,r=e.show,o=e.onHide,c=void 0===o?function(){}:o,u=e.onChange,l=void 0===u?function(){}:u,d=e.type,p=void 0===d?"text":d,h=e.formatter,b=void 0===h?function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return null==e?null:"date"===t?Object(Tt.d)(""+e):"number"===t?+e:""+e}(e,p)}:h,v=s.a.useState(n),j=Object(m.a)(v,2),g=j[0],O=j[1],y=s.a.useState(!1),w=Object(m.a)(y,2),_=w[0],x=w[1],S=b(n),k=b(g);function C(){O(n),c()}function A(){return(A=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S===k){e.next=5;break}return x(!0),e.next=5,l(g,n);case 5:return e.prev=5,x(!1),c(),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[0,,5,9]])})))).apply(this,arguments)}var E=_?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,D=S===k?null:Object(f.jsxs)("div",{className:"field-dialog-change-content",children:["Change from",Object(f.jsx)("div",{className:"field-dialog-formatted-name",children:S}),"to",Object(f.jsx)("div",{className:"field-dialog-formatted-name",children:k})]}),T=Object(f.jsx)("i",{children:"Unknown Input Type"});return["text","number","date"].includes(p)&&(T=Object(f.jsx)("input",{type:p,value:g,onChange:function(e){return O(e.currentTarget.value)}})),"money"===p&&(T=Object(f.jsx)("input",{type:"number",step:.01,value:g,onChange:function(e){return O(e.currentTarget.value)}})),"boolean"===p&&(T=Object(f.jsxs)("label",{htmlFor:"edit-dialog-checkbox",children:[Object(f.jsx)("input",{className:"mr-2",type:"checkbox",id:"edit-dialog-checkbox",checked:g,onChange:function(e){return O(e.currentTarget.checked)}}),g?"True/Enabled":"False/Disabled"]})),"paragraph"===p&&(T=Object(f.jsx)("textarea",{style:{width:"100%"},value:g,onChange:function(e){return O(e.currentTarget.value)}})),Object(f.jsxs)(Gt.a,{show:r,onHide:C,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:t})}),Object(f.jsxs)(Gt.a.Body,{children:[T," ",D]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:C,variant:"outline-secondary",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return A.apply(this,arguments)},children:[E,"Save"]})]})]})}var Kt=s.a.memo((function(e){var t=e.title,n=e.hidden,r=e.onClick;return n?null:Object(f.jsx)("div",{className:"show-on-hover edit-glyph",onClick:r,title:t,children:Object(f.jsx)(st,{})})}));function Jt(e){var t=e.children,n=e.title,r=e.value,i=e.onChange,a=e.editable,o=void 0===a||a,c=e.type,u=void 0===c?"text":c,l=s.a.useState(!1),d=Object(m.a)(l,2),p=d[0],h=d[1],b=s.a.useState(!1),v=Object(m.a)(b,2),j=v[0],g=v[1];return Object(f.jsxs)("div",{className:"show-on-hover-wrapper",onMouseEnter:function(){return g(!0)},children:[t,j&&Object(f.jsx)(Kt,{title:n,hidden:!o,onClick:function(){return h(!0)}}),o&&Object(f.jsx)(Yt,{title:n,value:r,onChange:i,show:p,onHide:function(){return h(!1)},type:u})]})}function Xt(e){var t,n,r=e.column,o=e.upsert,s=e.field,c=e.value,u=e.row,l=e.type,d=void 0===l?"text":l,p=e.editable,h=void 0===p||p,m="Edit ".concat(""+r.Header);function b(){return(b=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(u.original||u._original).id,e.prev=1,e.next=4,o(Object(Oe.a)({id:n},s,t));case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e.catch(1),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}switch(d){case"date":n=Object(Tt.d)(""+c),t=(""+c).slice(0,10);break;case"money":n=null!=c?Object(Tt.g)(""+c):"",t=c||"";break;case"boolean":n=c?"True":"False",t=!!c;break;default:n=c||"",t=c||""}return Object(f.jsx)(Jt,{title:m,value:t,onChange:function(e){return b.apply(this,arguments)},editable:h,type:d,children:n})}var $t=Object(c.connect)((function(e){return{instructors:Object(u.I)(e),positions:Object(u.N)(e)}}),{upsertInstructor:u.eb,deleteInstructor:u.m})((function(e){var t=e.upsertInstructor,n=e.deleteInstructor,r=e.inDeleteMode,i=e.positions,a=Object(j.a)(e,["upsertInstructor","deleteInstructor","inDeleteMode","positions"]),o=s.a.useState(!1),c=Object(m.a)(o,2),u=c[0],l=c[1],d=s.a.useState(null),p=Object(m.a)(d,2),h=p[0],g=p[1];function O(e){return function(n){return Object(f.jsx)(Xt,Object(v.a)({field:e,upsert:t},n))}}var y,w={},_=Object(b.a)(i||[]);try{for(_.s();!(y=_.n()).done;){var x,S=y.value,k=Object(b.a)(S.instructors||[]);try{for(k.s();!(x=k.n()).done;){var C=x.value;w[C.id]=!0}}catch(E){k.e(E)}finally{k.f()}}}catch(E){_.e(E)}finally{_.f()}var A=[{Header:Object(f.jsx)(xt,{className:"delete-row-column-header-icon"}),id:"delete_col",className:"delete-col",Cell:function(e){var t=e.row.original;return w[t.id]?Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(ft,{className:"delete-row-button disabled",title:"This instructor is assigned to a position and so cannot be deleted. Unassign the instructor from all positions to delete."})}):Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(_t,{className:"delete-row-button",title:"Delete ".concat(t.last_name,", ").concat(t.first_name),onClick:function(){g(t),l(!0)}})})},show:r,maxWidth:32,resizable:!1},{Header:"Last Name",accessor:"last_name",Cell:O("last_name")},{Header:"First Name",accessor:"first_name",Cell:O("first_name")},{Header:"Email",accessor:"email",Cell:O("email"),minWidth:150},{Header:"UTORid",accessor:"utorid",Cell:O("utorid")}];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Bt,Object(v.a)({columns:A},a)),Object(f.jsx)(qt,{show:u,onHide:function(){l(!1),g(null)},onDelete:function(){h&&(n(h),l(!1))},instructor:h})]})})),Qt=n(1372),en={first_name:"",last_name:"",email:"",utorid:""};var tn=Object(c.connect)((function(e){return{instructors:Object(u.I)(e)}}),{upsertInstructor:u.eb})((function(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,i=e.instructors,a=e.upsertInstructor,o=s.a.useState(en),c=Object(m.a)(o,2),u=c[0],l=c[1];s.a.useEffect((function(){t||l(en)}),[t]);var d=function(e,t){var n={delayShow:"",immediateShow:""};Object(Tt.j)(e.utorid)&&Object(Tt.j)(e.first_name)&&Object(Tt.j)(e.last_name)||(n.delayShow="A first name, last name, and utorid is required");var r=t.find((function(t){return Object(Tt.j)(t.utorid)===Object(Tt.j)(e.utorid)}));return r&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another instructor exists with utorid=",e.utorid,":"," ",Object(f.jsxs)("b",{children:[r.first_name," ",r.last_name]})]})),n}(u,i);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Instructor"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Wt,{instructor:u,setInstructor:l}),d.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:d.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){a(u),r()},title:d.delayShow||"Create Instructor",disabled:!!d.delayShow||!!d.immediateShow,children:"Create Instructor"})]})]})})),nn=n(130),rn=n.n(nn),an=n(1364),on=n(609);n(761);function sn(e){if(!e)return e;if("function"===typeof e){var t=e;e=Object(f.jsx)(t,{})}return Object(f.jsx)("span",{className:"mr-2",children:e})}function cn(e){var t=e.children;return Object(f.jsx)("div",{className:"page-actions",children:Object(f.jsx)(an.a,{children:t})})}function un(e){var t=e.children;return Object(f.jsx)(an.a.Header,{children:t})}function ln(e){var t=e.icon,n=void 0===t?null:t,r=e.children,i=e.active,a=e.disabled,o=Object(j.a)(e,["icon","children","active","disabled"]),s=sn(n);return a&&(o=Object(v.a)(Object(v.a)({},o),{},{onClick:function(){}})),Object(f.jsxs)(an.a.Item,Object(v.a)(Object(v.a)({as:"button",className:w()({active:i,disabled:a})},o),{},{children:[s,r]}))}function dn(e){var t=e.icon,n=void 0===t?null:t,r=e.children,i=e.menu,a=void 0===i?null:i,o=e.active,c=e.disabled,u=void 0!==c&&c,l=Object(j.a)(e,["icon","children","menu","active","disabled"]),d=s.a.useState(!1),p=Object(m.a)(d,2),h=p[0],b=p[1],g=s.a.useState(0),O=Object(m.a)(g,2),y=O[0],_=O[1],x=s.a.useRef(null);s.a.useEffect((function(){null!=x&&null!=x.current&&_(x.current.clientHeight)}),[r]);var S=sn(n);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:w()("action-accordion",{dropright:!h}),children:[Object(f.jsxs)("button",Object(v.a)(Object(v.a)({className:w()("dropdown-item",{active:o,disabled:u})},l),{},{children:[S,r]})),!u&&Object(f.jsx)("button",{className:"dropdown-item dropdown-toggle",onClick:function(){return b(!h)}})]}),Object(f.jsx)("div",{className:w()("action-accordion-item-container",{closed:!h}),style:{height:y},children:Object(f.jsx)("div",{ref:x,children:a})})]})}function fn(e){var t=e.onClick,n=e.disabled,r=void 0!==n&&n;function i(e){t&&t(e)}return Object(f.jsx)(dn,{onClick:function(){return i("spreadsheet")},icon:ot,menu:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ln,{onClick:function(){return i("spreadsheet")},children:"As Spreadsheet"}),Object(f.jsx)(ln,{onClick:function(){return i("csv")},children:"As CSV"}),Object(f.jsx)(ln,{onClick:function(){return i("json")},children:"As JSON"})]}),disabled:r,children:"Export"})}var pn=n(243),hn=n.n(pn),mn=["bsPrefix","fluid","as","className"],bn=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,c=Object(O.a)(e,mn),u=Object(D.a)(n,"container"),l="string"===typeof r?"-"+r:"-fluid";return s.a.createElement(a,Object(g.a)({ref:t},c,{className:w()(o,r?""+u+l:u)}))}));bn.displayName="Container",bn.defaultProps={fluid:!1};var vn=bn,jn=["bsPrefix","className","noGutters","as"],gn=["xl","lg","md","sm","xs"],On=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.noGutters,a=e.as,o=void 0===a?"div":a,c=Object(O.a)(e,jn),u=Object(D.a)(n,"row"),l=u+"-cols",d=[];return gn.forEach((function(e){var t,n=c[e];delete c[e];var r="xs"!==e?"-"+e:"";null!=(t=null!=n&&"object"===typeof n?n.cols:n)&&d.push(""+l+r+"-"+t)})),s.a.createElement(o,Object(g.a)({ref:t},c,{className:w.a.apply(void 0,[r,u,i&&"no-gutters"].concat(d))}))}));On.displayName="Row",On.defaultProps={noGutters:!1};var yn=On,wn="Select a spreadsheet, CSV, or JSON file.";function _n(e){var t=e.dialogOpen,n=e.onCancel,r=e.onClose,o=e.onConfirm,c=e.dialogContent,u=e.onFileChange,l=e.setInProgress,d=e.label,p=void 0===d?wn:d,h=s.a.useState(p),b=Object(m.a)(h,2),v=b[0],j=b[1],g=s.a.useState(null),O=Object(m.a)(g,2),y=O[0],w=O[1],_=s.a.useState(null),x=Object(m.a)(_,2),S=x[0],k=x[1],C=s.a.useState(!1),A=Object(m.a)(C,2),E=A[0],D=A[1];function T(e){D(e),"function"===typeof l&&l(e)}n instanceof Function||(n=function(){return console.warn("No onCancel function set for dialog")}),s.a.useEffect((function(){S&&u instanceof Function&&u(S)}),[S,u,null]),s.a.useEffect((function(){if(y){var e=new Uint8Array(y);try{var t=(new TextDecoder).decode(e);return void k({data:JSON.parse(t),fileType:"json"})}catch(i){}try{var n=hn.a.read(e,{type:"array"}),r=n.SheetNames[0];return void k({data:hn.a.utils.sheet_to_json(n.Sheets[r]),fileType:"spreadsheet"})}catch(i){}console.warn("Could not determine file type for",v,y)}}),[y,v]);var N,P=E?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;return Object(f.jsxs)(Gt.a,{show:t,onHide:r,size:"lg",dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Import From File"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsxs)(vn,{children:[Object(f.jsx)(yn,{className:"mb-3",children:Object(f.jsx)(oe,{children:Object(f.jsx)(ge,{children:Object(f.jsx)(ge.File,{label:v,onChange:function(e){if(e.target&&e.target.files){var t=e.target.files[0];j(t.name);var n=new FileReader;n.onload=function(e){var t;e.target&&"string"!==typeof e.target.result?w(e.target.result):console.warn("File of unexpected type",typeof(null===(t=e.target)||void 0===t?void 0:t.result))},n.readAsArrayBuffer(t)}},custom:!0})})})}),Object(f.jsx)(yn,{children:Object(f.jsx)(oe,{children:c})})]})}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{variant:"secondary",onClick:function(e){return function(){j(wn),e()}}((N=n,function(){k(null),w(null),N()})),children:"Cancel"}),Object(f.jsxs)(Vt.a,{variant:"primary",onClick:function(){o instanceof Function&&(T(!0),Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(S));case 1:case"end":return e.stop()}}),e)})))().then((function(){T(!1)})).catch(console.error).finally((function(){T(!1),w(null),k(null),j(p)})))},children:[P,"Confirm"]})]})]})}function xn(e){var t=e.onFileChange,n=e.dialogContent,r=e.onConfirm,s=e.setInProgress,c=e.disabled,u=void 0!==c&&c,l=Object(o.useState)(!1),d=Object(m.a)(l,2),p=d[0],h=d[1];function b(){h(!1)}function v(){return(v=Object(a.a)(i.a.mark((function e(){var t=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.apply(void 0,t);case 2:h(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ln,{icon:St,onClick:function(){return h(!0)},disabled:u,children:"Import"}),Object(f.jsx)(_n,{dialogOpen:p,onCancel:function(){t(null),b()},onClose:b,onFileChange:t,dialogContent:n,onConfirm:function(){return v.apply(this,arguments)},setInProgress:s})]})}var Sn=n(133),kn={instructorsListFromField:function(e,t){var n=t.instructors;return Array.isArray(e)?e.map((function(e){var t=n.find((function(t){return t.utorid===e}));if(!t)throw new Error("Cannot find instructor with UTORid ".concat(e));return t})):(e=e.split(";").map((function(e){return e.trim()}))).map((function(e){return Object(Sn.b)(e,n)}))},instructor:function(e,t){var n={status:"new",changes:{},obj:null},r=t.instructors.find((function(t){return t.utorid===e.utorid}));if(r){n.status="duplicate";var i=Sn.k.instructor(r);for(var a in i){var o=a,s=i[o],c=e[o];En(s,c)||(n.status="modified",n.changes[o]='"'.concat(s,'" \u2192 "').concat(c,'"'))}n.obj=Sn.i.instructor(e,{id:r.id})}else n.obj=Sn.i.instructor(e,{});return n},instructors:function(e,t){return e.map((function(e){return kn.instructor(e,t)}))},position:function(e,t){var n=t.instructors,r=t.contractTemplates,i={status:"new",changes:{},obj:null},a=t.positions.find((function(t){return t.position_code===e.position_code}));if(a){i.status="duplicate";var o=Sn.k.position(a);for(var s in o){var c=s,u=o[c],l=e[c];if(!En(u,l)&&(i.status="modified",i.changes[c]='"'.concat(u,'" \u2192 "').concat(l,'"'),"start_date"!==c&&"end_date"!==c||(i.changes[c]='"'.concat((""+u).slice(0,10),'" \u2192 "').concat((""+l).slice(0,10),'"')),"instructors"===c)){var d=kn.instructorsListFromField(u,{instructors:n}),f=kn.instructorsListFromField(l,{instructors:n});i.changes[c]="".concat(d.map((function(e){return"".concat(e.last_name,", ").concat(e.first_name)})).join("; ")," \u2192 ").concat(f.map((function(e){return"".concat(e.last_name,", ").concat(e.first_name)})).join("; "))}}i.obj=Sn.i.position(e,{id:a.id,instructors:n,contractTemplates:r})}else i.obj=Sn.i.position(e,{instructors:n,contractTemplates:r});return i},positions:function(e,t){return e.map((function(e){return kn.position(e,t)}))},assignments:function(e,t){return e.map((function(e){return kn.assignment(e,t)}))},assignment:function(e,t){var n=t.assignments,r=t.positions,i=t.applicants,a=t.session,o={status:"new",changes:{},obj:null},s=An(e),c=n.find((function(e){return An(e)===s}));if(c){o.status="duplicate";var u=Sn.k.assignment(c,a);for(var l in u){var d=l,f=u[d],p=e[d];if(!En(f,p)){if(o.status="modified",o.changes[d]='"'.concat(f,'" \u2192 "').concat(p,'"'),"start_date"!==d&&"end_date"!==d||(o.changes[d]='"'.concat((""+f).slice(0,10),'" \u2192 "').concat((""+p).slice(0,10),'"')),"hours"===d&&null==p&&Array.isArray(e.wage_chunks)){var h,m=0,v=Object(b.a)(e.wage_chunks);try{for(v.s();!(h=v.n()).done;){m+=h.value.hours}}catch(j){v.e(j)}finally{v.f()}o.changes[d]=f===m?"".concat(m," (wage chunk change)"):"".concat(f," \u2192 ").concat(m," (wage chunk change)")}"wage_chunks"===d&&(o.changes[d]='"'.concat(JSON.stringify(f),'" \u2192 "').concat(JSON.stringify(p),'"'))}}o.obj=Sn.i.assignment(e,{id:c.id,session:a,positions:r,applicants:i})}else o.obj=Sn.i.assignment(e,{session:a,positions:r,applicants:i});return o},applicants:function(e,t){return e.map((function(e){return kn.applicant(e,t)}))},applicant:function(e,t){var n={status:"new",changes:{},obj:null},r=t.applicants.find((function(t){return t.utorid===e.utorid}));if(r){n.status="duplicate";var i=Sn.k.applicant(r);for(var a in i){var o=a,s=i[o],c=e[o];En(s,c)||(n.status="modified",n.changes[o]='"'.concat(s,'" \u2192 "').concat(c,'"'))}n.obj=Sn.i.applicant(e,{id:r.id})}else n.obj=Sn.i.applicant(e,{});return n},ddahs:function(e,t){return e.map((function(e){return kn.ddah(e,t)}))},ddah:function(e,t){var n=t.ddahs,r={status:"new",changes:{},obj:null},i=t.assignments,a=n.find((function(t){return t.assignment.position.position_code===e.position_code&&t.assignment.applicant.utorid===e.applicant}));if(a){r.status="duplicate";var o=Sn.k.ddah(a);for(var s in o){var c=s,u=o[c],l=e[c];En(u,l)||(r.status="modified",r.changes[c]="duties"===c?'"'.concat(Cn(u),'" \u2192 "').concat(Cn(l),'"'):'"'.concat(u,'" \u2192 "').concat(l,'"'))}r.obj=Sn.i.ddah(e,{id:a.id,assignments:i})}else r.obj=Sn.i.ddah(e,{assignments:i});return r}};function Cn(e){return e.length>0&&null!=e[0].order&&(e=Object(We.a)(e).sort((function(e,t){return e.order-t.order}))),e.map((function(e){var t=e.hours,n=e.description;return"".concat(t,"h - ").concat(n)})).join("; ")}function An(e){var t,n;return!function(e){return!!e.position_code}(e)?(t=e.position.position_code,n=e.applicant.utorid):(t=e.position_code,n=e.utorid),"".concat(t,"/").concat(n)}function En(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("number"===typeof e)return isNaN(e)&&isNaN(t)||e===t;if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;e=Object(We.a)(e).sort(),t=Object(We.a)(t).sort();for(var n=0;n<e.length;n++)if(!En(e[n],t[n]))return!1;return!0}if("object"===typeof e){var r=Object.keys(e).sort();return!!En(r,Object.keys(t).sort())&&r.every((function(n){return En(e[n],t[n])}))}return!1}function Dn(e){return e.filter((function(e){return"new"===e.status||"modified"===e.status})).map((function(e){return e.obj}))}var Tn=n(196),Nn=n(93);function Pn(){var e=Object(Nn.a)(),t=s.a.useState(null),n=Object(m.a)(t,2),r=n[0],o=n[1];return s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return");case 2:return o(null),t.next=5,e(Object(u.u)(Sn.j,r));case 5:n=t.sent,rn.a.saveAs(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&function(){return t.apply(this,arguments)}().catch(console.error)}),[r,e]),Object(f.jsx)(fn,{onClick:function(e){o(e)}})}function Rn(e){var t=e.setImportInProgress,n=Object(Nn.a)(),r=Object(c.useSelector)(u.I),o=s.a.useState(null),l=Object(m.a)(o,2),d=l[0],p=l[1],h=s.a.useState(null),b=Object(m.a)(h,2),v=b[0],j=b[1],g=s.a.useState(null),O=Object(m.a)(g,2),y=O[0],w=O[1],_=s.a.useState(!1),x=Object(m.a)(_,2),S=x[0],k=x[1];function C(){return(C=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return t=Dn(v),e.next=5,n(Object(u.fb)(t));case 5:p(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){d||v&&j(null)}),[v,j,d]),s.a.useEffect((function(){if(d&&!S)try{w(null);var e=Object(Sn.d)(d,Tn.c),t=kn.instructors(e,{instructors:r});j(t)}catch(n){console.warn(n),w(n)}}),[d,r,S]),Object(f.jsx)(xn,{onConfirm:function(){return C.apply(this,arguments)},onFileChange:p,dialogContent:Object(f.jsx)(Hn,{diffed:v,processingError:y}),setInProgress:function(e){k(e),"function"===typeof t&&t(e)}})}var Hn=s.a.memo((function(e){var t=e.diffed,n=e.processingError,r=Object(f.jsx)("p",{children:"No data loaded..."});if(n)r=Object(f.jsx)(Qt.a,{variant:"danger",children:""+n});else if(t){var i=t.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),a=t.filter((function(e){return"modified"===e.status}));r=0===i.length&&0===a.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported instructors and those already on the system."}):Object(f.jsxs)(f.Fragment,{children:[i.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following instructors will be"," ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(Bt,{instructors:i})]}),a.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following instructors will be"," ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(Lt,{modifiedInstructors:a})]})]})}return r}));function In(e){var t=e.children,n=e.className,r=Object(j.a)(e,["children","className"]);return Object(f.jsx)("div",Object(v.a)(Object(v.a)({className:w()("page-content",n)},r),{},{children:t}))}function Fn(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],c=a[1],u=s.a.useState(!1),l=Object(m.a)(u,2),d=l[0],p=l[1];return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},children:"Add Instructor"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(xt,{}),onClick:function(){return c(!o)},active:o,children:"Delete Instructor"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(Rn,{setImportInProgress:p}),Object(f.jsx)(Pn,{})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)(tn,{show:n,onHide:function(){r(!1)}}),!d&&Object(f.jsx)($t,{inDeleteMode:o})]})]})}function zn(e){var t=ye(e.session,e.setSession);return Object(f.jsxs)(ge,{children:[Object(f.jsx)(we,{children:t("Session Name (e.g. 2019 Fall)","name")}),Object(f.jsxs)(we,{children:[t("Start Date","start_date","date"),t("End Date","end_date","date")]}),Object(f.jsxs)(we,{children:[t("Rate 1 (pre-January rate)","rate1","number",{step:"0.01",min:0}),t("Rate 2 (post-January rate)","rate2","number",{step:"0.01",min:0})]})]})}var Mn={name:"",start_date:"",end_date:"",rate1:"",rate2:""};var Bn=Object(c.connect)((function(e){return{sessions:Object(u.Q)(e)}}),{upsertSession:u.kb})((function(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,i=e.sessions,a=e.upsertSession,o=s.a.useState(Mn),c=Object(m.a)(o,2),u=c[0],l=c[1];s.a.useEffect((function(){t||l(Mn)}),[t]);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={delayShow:"",immediateShow:""};return Object(Tt.j)(e.name)&&Object(Tt.j)(e.start_date)&&Object(Tt.j)(e.end_date)||(n.delayShow="A first name, start date, and end date is required"),t.find((function(t){return Object(Tt.j)(t.name)===Object(Tt.j)(e.name)}))&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another session exists with name=",e.name]})),n}(u,i);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Session"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(zn,{session:u,setSession:l}),d.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:d.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){a(u),r()},title:d.delayShow||"Create Session",disabled:!!d.delayShow||!!d.immediateShow,children:"Create Session"})]})]})}));function Ln(e,t){function n(){return Object(f.jsx)("div",{title:null!==t&&void 0!==t?t:e,className:"table-header",children:e})}return n.toString=function(){return e},n}function Un(e){var t=e.show,n=e.onHide,r=e.onDelete,i=e.session;return Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Delete Session"})}),Object(f.jsxs)(Gt.a.Body,{children:["Are you sure you want to delete the session"," ",(i||{}).name,"? This action cannot be undone."]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:r,title:"Delete Session",children:"Delete"})]})]})}function Wn(e){var t=e.inDeleteMode,n=void 0!==t&&t,r=s.a.useState(null),o=Object(m.a)(r,2),l=o[0],d=o[1],p=Object(c.useSelector)(u.Q),h=Object(c.useSelector)(u.b),b=Object(Nn.a)();function j(e){return b(Object(u.kb)(e))}function g(e,t){return function(n){return Object(f.jsx)(Xt,Object(v.a)({field:e,upsert:j,type:t},n))}}var O=[{Header:Object(f.jsx)(xt,{className:"delete-row-column-header-icon"}),Cell:function(e){var t=e.row,n=(null===t||void 0===t?void 0:t.original)||{};return Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(_t,{className:"delete-row-button",title:"Delete ".concat(n.name),onClick:function(){d(n)}})})},id:"delete_col",className:"delete-col",show:n,maxWidth:32,resizable:!1},{Header:Ln("Name"),accessor:"name",Cell:g("name")},{Header:Ln("Start Date"),accessor:"start_date",Cell:g("start_date","date")},{Header:Ln("End Date"),accessor:"end_date",Cell:g("end_date","date")},{Header:Ln("Rate (Pre-January)"),accessor:"rate1",className:"number-cell",Cell:g("rate1","money")},{Header:Ln("Rate (Post-January)"),accessor:"rate2",className:"number-cell",Cell:g("rate2","money")},{Header:Ln("Applications Visible","Whether instructors can view applications for their courses"),accessor:"applications_visible_to_instructors",Cell:g("applications_visible_to_instructors","boolean")}],y=e.columns,w=void 0===y?O:y;return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Ft,{columns:w,filterable:!0,data:p}),Object(f.jsx)(Un,{session:l,show:!!l,onHide:function(){return d(null)},onDelete:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l!==h){e.next=3;break}return e.next=3,b(Object(u.R)(null));case 3:if(l){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,b(Object(u.p)(l));case 7:d(null);case 8:case"end":return e.stop()}}),e)})))})]})}function Gn(e){var t=e.extraText,n=void 0===t?"":t;return Object(f.jsxs)(Qt.a,{variant:"info",children:["There is no active session selected. ",n]})}function Vn(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],l=a[1],d=Object(c.useSelector)(u.b),p=Object(f.jsxs)(f.Fragment,{children:["There is currently ",Object(f.jsx)("b",{className:"text-primary",children:"no active session"})," ","selected. In order to setup contract templates or create positions and offers, you must select an active session."]});return d&&(p=Object(f.jsxs)(f.Fragment,{children:["The current active session is"," ",Object(f.jsx)("b",{className:"text-primary",children:d.name}),". When setting up contract templates or creating positions and offers, they will be attached to the ",Object(f.jsx)("i",{children:d.name})," ","session."]})),Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},children:"Add Session"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(xt,{}),onClick:function(){return l(!o)},active:o,children:"Delete Session"})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)("h3",{children:"Session Management and Creation"}),Object(f.jsx)("p",{children:"From this page, you can manage an existing session or create a new session."}),Object(f.jsx)("p",{children:p}),Object(f.jsx)("h5",{children:"Existing Sessions"}),Object(f.jsx)(Bn,{show:n,onHide:function(){r(!1)}}),Object(f.jsx)(Wn,{inDeleteMode:o})]})]})}var qn=n(143),Zn=n.n(qn),Yn=n(131),Kn=n.n(Yn),Jn=n(126),Xn=n.n(Jn),$n=n(463),Qn=n.n($n);function er(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.current=e})),t.current}var tr=n(215),nr=n.n(tr),rr=n(216),ir=n.n(rr),ar=n(285),or=n.n(ar),sr=n(217),cr=n.n(sr),ur=n(218),lr=n.n(ur),dr=n(219),fr=n.n(dr),pr=n(464),hr=n.n(pr),mr=n(178),br=n.n(mr),vr=38,jr="label",gr={JUSTIFY:"justify",LEFT:"left",RIGHT:"right"};function Or(e){return"string"===typeof e?e:jr}var yr=0;function wr(e){return Array.isArray(e)&&e.length?e[0]:void 0}function _r(e){return"function"===typeof e}function xr(e){return"string"===typeof e}function Sr(){}function kr(e,t){var n={};return t.forEach((function(t){Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])})),n}function Cr(e){return yr+=1,(null==e?"":String(e))+yr}function Ar(e){return _r(Object.values)?Object.values(e):function(e){return Object.keys(e).reduce((function(t,n){return Object.prototype.propertyIsEnumerable.call(e,n)&&t.push(e[n]),t}),[])}(e)}var Er=function(e,t){return xr(e)||!e.paginationOption&&!e.customOption?(n=_r(t)?t(e):xr(e)?e:e[t],xr(n)||br()(!1),n):e[Or(t)];var n};var Dr=function(e,t){var n=t.allowNew,r=t.labelKey,i=t.text;return!(!n||!i.trim())&&("function"===typeof n?n(e,t):!e.some((function(e){return Er(e,r)===i})))};function Tr(e,t){if(!xr(e))return e[t]}for(var Nr=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779\xd0"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"OE",letters:"\x8c\u0152"},{base:"oe",letters:"\x9c\u0153"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],Pr={},Rr=0;Rr<Nr.length;Rr++)for(var Hr=Nr[Rr].letters,Ir=0;Ir<Hr.length;Ir++)Pr[Hr[Ir]]=Nr[Rr].base;function Fr(e){return e.replace(/[\u0300-\u036F]/g,"").replace(/[^\u0000-\u007E]/g,(function(e){return Pr[e]||e}))}var zr={};function Mr(e,t){if(!e&&-1!==t.indexOf("deprecated")){if(zr[t])return;zr[t]=!0}for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];J.a.apply(void 0,[e,"[react-bootstrap-typeahead] ".concat(t)].concat(r))}function Br(e,t,n){var r=e,i=t;return n.caseSensitive||(r=r.toLowerCase(),i=i.toLowerCase()),n.ignoreDiacritics&&(r=Fr(r),i=Fr(i)),-1!==i.indexOf(r)}function Lr(e,t){var n=t.filterBy,r=t.labelKey,i=t.multiple,a=t.selected,o=t.text;if(i&&a.some((function(t){return hr()(t,e)})))return!1;if(_r(r)&&Br(o,r(e),t))return!0;var s=n.slice();return xr(r)&&-1===s.indexOf(r)&&s.unshift(r),xr(e)?(Mr(s.length<=1,"You cannot filter by properties when `option` is a string."),Br(o,e,t)):s.some((function(n){var r=Tr(e,n);return xr(r)||(Mr(!1,"Fields passed to `filterBy` should have string values. Value will be converted to a string; results may be unexpected."),r=String(r)),Br(o,r,t)}))}function Ur(e){return e.displayName||e.name||"Component"}var Wr=/[\u0300-\u036F]/;function Gr(e,t){var n=new RegExp(function(e){return"string"!==typeof e&&br()(!1),e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(Fr(t)),"i").exec(Fr(e));if(!n)return null;var r=n.index,i=n[0].length;if(Wr.test(e)){for(var a=0;a<=r;a++)Wr.test(e[a])&&(r+=1);for(var o=r;o<=r+i;o++)Wr.test(e[o])&&(i+=1)}return{end:r+i,start:r}}var Vr=function(e){var t=e.activeIndex,n=e.initialItem,r=e.isFocused,i=e.isMenuShown,a=e.labelKey,o=e.multiple,s=e.selected,c=e.text;if(!c||!r||!i||!n||n.customOption||t>-1||s.length&&!o)return"";var u=Er(n,a),l=Gr(u.toLowerCase(),c.toLowerCase());return l&&0===l.start?c+u.slice(l.end,u.length):""},qr=n(171),Zr=n.n(qr);function Yr(e,t){return"".concat(e||"","-item-").concat(t)}var Kr=["activeIndex","id","isFocused","isMenuShown","multiple","onFocus","placeholder"],Jr=["className"];function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qr=function(e){var t=e.activeIndex,n=e.id,r=e.isFocused,i=e.isMenuShown,a=e.multiple,o=e.onFocus,s=e.placeholder,c=Xn()(e,Kr);return function(){var e,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=u.className,d=Xn()(u,Jr),f=$r($r($r({autoComplete:"off",placeholder:s,type:"text"},d),c),{},{"aria-activedescendant":t>=0?Yr(n,t):void 0,"aria-autocomplete":"both","aria-expanded":i,"aria-haspopup":"listbox","aria-owns":i?n:void 0,className:Zr()((e={},Kn()(e,l||"",!a),Kn()(e,"focus",r),e)),onClick:function(e){o&&o(e),d.onClick&&d.onClick(e)},onFocus:o,role:"combobox"});return a?$r($r({},f),{},{"aria-autocomplete":"list","aria-expanded":void 0,inputClassName:l,role:void 0}):f}};var ei=function(e){var t=e.activeItem,n=e.labelKey,r=e.multiple,i=e.selected,a=e.text;if(t)return Er(t,n);var o=!r&&!!i.length&&wr(i);return o?Er(o,n):a};var ti=function(e){var t=e.allowNew,n=e.highlightOnlyResult,r=e.results;return!(!n||t)&&(1===r.length&&!Tr(wr(r),"disabled"))};var ni=function(e,t){return!t||t>=e.length?e:e.slice(0,t)};function ri(e,t,n){for(var r=e;n[r]&&n[r].disabled;)r+=t===vr?-1:1;return r}function ii(e,t,n){var r=e;return(r=ri(r+=t===vr?-1:1,t,n))===n.length?r=-1:-2===r&&(r=ri(r=n.length-1,t,n)),r}function ai(e){return null!=e.selectionStart}function oi(e){e.preventDefault()}function si(e){return"large"===e||"lg"===e}function ci(e){return"small"===e||"sm"===e}var ui=Object(o.createContext)({activeIndex:-1,hintText:"",id:"",initialItem:null,inputNode:null,isOnlyResult:!1,onActiveItemChange:Sr,onAdd:Sr,onInitialItemChange:Sr,onMenuItemClick:Sr,selectHintOnEnter:void 0,setItem:Sr}),li=function(){return Object(o.useContext)(ui)};function di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?di(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pi=["activeIndex","disabled","id","inputRef","isFocused","isMenuShown","multiple","onBlur","onChange","onFocus","onKeyDown","placeholder"],hi=["activeIndex","hideMenu","isMenuShown","labelKey","onClear","onHide","onRemove","results","selected","text","toggleMenu"],mi=["activeIndex","id","initialItem","inputNode","onActiveItemChange","onAdd","onInitialItemChange","onMenuItemClick","selectHintOnEnter","setItem"],bi=function(e){var t=e.allowNew,n=e.children,r=e.initialItem,i=e.isMenuShown,a=e.onAdd,c=e.onInitialItemChange,u=e.onKeyDown,l=e.onMenuToggle,d=e.results,f=er(e);Object(o.useEffect)((function(){t||d.length||c(null)})),Object(o.useEffect)((function(){f&&f.isMenuShown!==i&&l(i)}));var p=fi(fi({},kr(e,hi)),{},{getInputProps:Qr(fi(fi({},kr(e,pi)),{},{onKeyDown:function(t){switch(t.keyCode){case 13:r&&ti(e)&&a(r)}u(t)},value:ei(e)}))}),h=fi(fi({},kr(e,mi)),{},{hintText:Vr(e),isOnlyResult:ti(e)});return s.a.createElement(ui.Provider,{value:h},n(p))},vi=[{alt:"onBlur",prop:"onBlur"},{alt:"onInputChange",prop:"onChange"},{alt:"onFocus",prop:"onFocus"},{alt:"onKeyDown",prop:"onKeyDown"}],ji=x.a.oneOf(Ar({LARGE:"large",LG:"lg",SM:"sm",SMALL:"small"}));function gi(e,t){return function(n,r,i){x.a.checkPropTypes(Kn()({},r,e),n,"prop",i),_r(t)&&t(n,r,i)}}function Oi(e,t,n){Mr(null!=e[t],"The prop `".concat(t,"` is required to make `").concat(n,"` ")+"accessible for users of assistive technologies such as screen readers.")}var yi=x.a.oneOfType([x.a.object,x.a.string]);var wi=["onChange"];function _i(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ki,Ci,Ai={allowNew:x.a.oneOfType([x.a.bool,x.a.func]),autoFocus:x.a.bool,caseSensitive:gi(x.a.bool,(function(e,t,n){var r=e.caseSensitive,i=e.filterBy;Mr(!r||"function"!==typeof i,"Your `filterBy` function will override the `caseSensitive` prop.")})),defaultInputValue:gi(x.a.string,(function(e,t,n){var r=e.defaultInputValue,i=e.defaultSelected,a=e.multiple,o=e.selected,s=i.length?"defaultSelected":"selected";Mr(!(!a&&r&&(i.length||o&&o.length)),"`defaultInputValue` will be overridden by the value from `".concat(s,"`."))})),defaultOpen:x.a.bool,defaultSelected:gi(x.a.arrayOf(yi),(function(e,t,n){var r=e.defaultSelected;Mr(e.multiple||r.length<=1,"You are passing multiple options to the `defaultSelected` prop of a Typeahead in single-select mode. The selections will be truncated to a single selection.")})),filterBy:x.a.oneOfType([x.a.arrayOf(x.a.string.isRequired),x.a.func]),highlightOnlyResult:gi(x.a.bool,(function(e,t,n){var r=e.allowNew;Mr(!(e.highlightOnlyResult&&r),"`highlightOnlyResult` will not work with `allowNew`.")})),id:gi(x.a.oneOfType([x.a.number,x.a.string]),Oi),ignoreDiacritics:gi(x.a.bool,(function(e,t,n){var r=e.filterBy;Mr(e.ignoreDiacritics||"function"!==typeof r,"Your `filterBy` function will override the `ignoreDiacritics` prop.")})),labelKey:gi(x.a.oneOfType([x.a.string,x.a.func]),(function(e,t,n){var r=e.allowNew;Mr(!(_r(e.labelKey)&&r),"`labelKey` must be a string when `allowNew={true}`.")})),maxResults:x.a.number,minLength:x.a.number,multiple:x.a.bool,onBlur:x.a.func,onChange:x.a.func,onFocus:x.a.func,onInputChange:x.a.func,onKeyDown:x.a.func,onMenuToggle:x.a.func,onPaginate:x.a.func,open:x.a.bool,options:x.a.arrayOf(yi).isRequired,paginate:x.a.bool,selected:gi(x.a.arrayOf(yi),(function(e,t,n){var r=e.multiple,i=e.onChange,a=e.selected;Mr(r||!a||a.length<=1,"You are passing multiple options to the `selected` prop of a Typeahead in single-select mode. This may lead to unexpected behaviors or errors."),Mr(!a||a&&_r(i),"You provided a `selected` prop without an `onChange` handler. If you want the typeahead to be uncontrolled, use `defaultSelected`. Otherwise, set `onChange`.")})),selectHintOnEnter:(ki=x.a.bool,Ci="Use the `shouldSelect` prop on the `Hint` component to define which keystrokes can select the hint.",function(e,t,n){return null!=e[t]&&Mr(!1,"The `".concat(t,"` prop is deprecated. ").concat(Ci)),x.a.checkPropTypes(Kn()({},t,ki),e,"prop",n)})},Ei={allowNew:!1,autoFocus:!1,caseSensitive:!1,defaultInputValue:"",defaultOpen:!1,defaultSelected:[],filterBy:[],highlightOnlyResult:!1,ignoreDiacritics:!0,labelKey:jr,maxResults:100,minLength:0,multiple:!1,onBlur:Sr,onFocus:Sr,onInputChange:Sr,onKeyDown:Sr,onMenuToggle:Sr,onPaginate:Sr,paginate:!0};function Di(e){var t=e.defaultInputValue,n=e.defaultOpen,r=e.defaultSelected,i=e.maxResults,a=e.multiple,o=e.selected?e.selected.slice():r.slice(),s=t;return!a&&o.length&&(s=Er(wr(o),e.labelKey),o.length>1&&(o=o.slice(0,1))),{activeIndex:-1,activeItem:null,initialItem:null,isFocused:!1,selected:o,showMenu:n,shownResults:i,text:s}}function Ti(e,t){return Si(Si({},Di(t)),{},{isFocused:e.isFocused,selected:[],text:""})}function Ni(e,t){var n=Di(t);return{activeIndex:n.activeIndex,activeItem:n.activeItem,initialItem:n.initialItem,showMenu:!1,shownResults:n.shownResults}}function Pi(e,t){return e.showMenu?Ni(0,t):{showMenu:!0}}function Ri(e,t){var n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");n&&n.set&&n.set.call(e,t);var r=new Event("input",{bubbles:!0});e.dispatchEvent(r)}var Hi=function(e){cr()(n,e);var t=_i(n);function n(){var e;nr()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Kn()(or()(e),"state",Di(e.props)),Kn()(or()(e),"inputNode",void 0),Kn()(or()(e),"isMenuShown",!1),Kn()(or()(e),"items",[]),Kn()(or()(e),"blur",(function(){e.inputNode&&e.inputNode.blur(),e.hideMenu()})),Kn()(or()(e),"clear",(function(){e.setState(Ti)})),Kn()(or()(e),"focus",(function(){e.inputNode&&e.inputNode.focus()})),Kn()(or()(e),"getInput",(function(){return e.inputNode})),Kn()(or()(e),"inputRef",(function(t){e.inputNode=t})),Kn()(or()(e),"setItem",(function(t,n){e.items[n]=t})),Kn()(or()(e),"hideMenu",(function(){e.setState(Ni)})),Kn()(or()(e),"toggleMenu",(function(){e.setState(Pi)})),Kn()(or()(e),"_handleActiveIndexChange",(function(t){e.setState((function(e){return{activeIndex:t,activeItem:-1===t?null:e.activeItem}}))})),Kn()(or()(e),"_handleActiveItemChange",(function(t){hr()(t,e.state.activeItem)||e.setState({activeItem:t})})),Kn()(or()(e),"_handleBlur",(function(t){t.persist(),e.setState({isFocused:!1},(function(){return e.props.onBlur(t)}))})),Kn()(or()(e),"_handleChange",(function(t){e.props.onChange&&e.props.onChange(t)})),Kn()(or()(e),"_handleClear",(function(){e.inputNode&&Ri(e.inputNode,""),e.setState(Ti,(function(){e.props.multiple&&e._handleChange([])}))})),Kn()(or()(e),"_handleFocus",(function(t){t.persist(),e.setState({isFocused:!0,showMenu:!0},(function(){return e.props.onFocus(t)}))})),Kn()(or()(e),"_handleInitialItemChange",(function(t){hr()(t,e.state.initialItem)||e.setState({initialItem:t})})),Kn()(or()(e),"_handleInputChange",(function(t){t.persist();var n=t.currentTarget.value,r=e.props,i=r.multiple,a=r.onInputChange,o=e.state.selected.length&&!i;e.setState((function(e,t){var r=Di(t),i=r.activeIndex,a=r.activeItem,s=r.shownResults;return{activeIndex:i,activeItem:a,selected:o?[]:e.selected,showMenu:!0,shownResults:s,text:n}}),(function(){a(n,t),o&&e._handleChange([])}))})),Kn()(or()(e),"_handleKeyDown",(function(t){var n=e.state.activeItem;if(!e.isMenuShown)return t.keyCode!==vr&&40!==t.keyCode||e.setState({showMenu:!0}),void e.props.onKeyDown(t);switch(t.keyCode){case vr:case 40:t.preventDefault(),e._handleActiveIndexChange(ii(e.state.activeIndex,t.keyCode,e.items));break;case 13:t.preventDefault(),n&&e._handleMenuItemSelect(n,t);break;case 27:case 9:e.hideMenu()}e.props.onKeyDown(t)})),Kn()(or()(e),"_handleMenuItemSelect",(function(t,n){t.paginationOption?e._handlePaginate(n):e._handleSelectionAdd(t)})),Kn()(or()(e),"_handlePaginate",(function(t){t.persist(),e.setState((function(e,t){return{shownResults:e.shownResults+t.maxResults}}),(function(){return e.props.onPaginate(t,e.state.shownResults)}))})),Kn()(or()(e),"_handleSelectionAdd",(function(t){var n,r,i=e.props,a=i.multiple,o=i.labelKey,s=t;!xr(s)&&s.customOption&&(s=Si(Si({},s),{},{id:Cr("new-id-")})),a?(n=e.state.selected.concat(s),r=""):(n=[s],r=Er(s,o)),e.setState((function(e,t){return Si(Si({},Ni(0,t)),{},{initialItem:s,selected:n,text:r})}),(function(){return e._handleChange(n)}))})),Kn()(or()(e),"_handleSelectionRemove",(function(t){var n=e.state.selected.filter((function(e){return!hr()(e,t)}));e.focus(),e.setState((function(e,t){return Si(Si({},Ni(0,t)),{},{selected:n})}),(function(){return e._handleChange(n)}))})),e}return ir()(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.labelKey,i=n.multiple,a=n.selected;!function(e,t){var n,r,i,a=!e&&t;a?(n="uncontrolled",r="controlled",i="an"):(n="controlled",r="uncontrolled",i="a"),Mr(!(a||e&&!t),"You are changing ".concat(i," ").concat(n," typeahead to be ").concat(r,". ")+"Input elements should not switch from ".concat(n," to ").concat(r," (or vice versa). ")+"Decide between using a controlled or uncontrolled element for the lifetime of the component.")}(a,e.selected),a&&!hr()(a,t.selected)&&(this.setState({selected:a}),i||this.setState({text:a.length?Er(wr(a),r):""}))}},{key:"render",value:function(){var e=this.props,t=(e.onChange,Si(Si({},Xn()(e,wi)),this.state)),n=t.filterBy,r=t.labelKey,i=t.options,a=t.paginate,o=t.shownResults,c=t.text;this.isMenuShown=function(e){var t=e.open,n=e.minLength,r=e.showMenu,i=e.text;return t||!1===t?t:!(i.length<n)&&r}(t),this.items=[];var u=[];if(this.isMenuShown){var l="function"===typeof n?n:Lr;u=i.filter((function(e){return l(e,t)}));var d,f=a&&u.length>o;if(u=ni(u,o),Dr(u,t)&&u.push(Kn()({customOption:!0},Or(r),c)),f)u.push((d={},Kn()(d,Or(r),""),Kn()(d,"paginationOption",!0),d))}return s.a.createElement(bi,Zn()({},t,{hideMenu:this.hideMenu,inputNode:this.inputNode,inputRef:this.inputRef,isMenuShown:this.isMenuShown,onActiveItemChange:this._handleActiveItemChange,onAdd:this._handleSelectionAdd,onBlur:this._handleBlur,onChange:this._handleInputChange,onClear:this._handleClear,onFocus:this._handleFocus,onHide:this.hideMenu,onInitialItemChange:this._handleInitialItemChange,onKeyDown:this._handleKeyDown,onMenuItemClick:this._handleMenuItemSelect,onRemove:this._handleSelectionRemove,results:u,setItem:this.setItem,toggleMenu:this.toggleMenu}))}}]),n}(s.a.Component);Kn()(Hi,"propTypes",Ai),Kn()(Hi,"defaultProps",Ei);var Ii=Hi,Fi=["allowNew","delay","emptyLabel","isLoading","minLength","onInputChange","onSearch","options","promptText","searchText","useCache"];function zi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bi={delay:x.a.number,isLoading:x.a.bool.isRequired,minLength:x.a.number,onSearch:x.a.func.isRequired,options:x.a.arrayOf(yi),promptText:x.a.node,searchText:x.a.node,useCache:x.a.bool},Li={delay:200,minLength:2,options:[],promptText:"Type to search...",searchText:"Searching...",useCache:!0};function Ui(e){var t=e.allowNew,n=e.delay,r=e.emptyLabel,i=e.isLoading,a=e.minLength,s=e.onInputChange,c=e.onSearch,u=e.options,l=e.promptText,d=e.searchText,f=e.useCache,p=Xn()(e,Fi),h=Object(o.useRef)({}),m=Object(o.useRef)(),b=Object(o.useRef)(e.defaultInputValue||""),v=Object(o.useReducer)((function(e){return!e}),!1)[1],j=er(e),g=Object(o.useCallback)((function(e){b.current=e,!e||a&&e.length<a||(f&&h.current[e]?v():c(e))}),[v,a,c,f]);Object(o.useEffect)((function(){return m.current=Qn()(g,n),function(){m.current&&m.current.cancel()}}),[n,g]),Object(o.useEffect)((function(){!i&&j&&j.isLoading&&f&&(h.current[b.current]=u)}));var O=Object(o.useCallback)((function(e,t){s&&s(e,t),m.current&&m.current(e)}),[s]),y=h.current[b.current];return Mi(Mi({},p),{},{allowNew:_r(t)?t:t&&!i,emptyLabel:b.current.length?i?d:r:l,isLoading:i,minLength:a,onInputChange:O,options:f&&y?y:u})}function Wi(e){var t=Object(o.forwardRef)((function(t,n){return s.a.createElement(e,Zn()({},Ui(t),{ref:n}))}));return t.displayName="withAsync(".concat(Ur(e),")"),t.propTypes=Bi,t.defaultProps=Li,t}var Gi=n(465),Vi=n.n(Gi);var qi=!("undefined"===typeof window||!window.document||!window.document.createElement),Zi=!1,Yi=!1;try{var Ki={get passive(){return Zi=!0},get once(){return Yi=Zi=!0}};qi&&(window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,!0))}catch(xp){}var Ji=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Yi){var i=r.once,a=r.capture,o=n;!Yi&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Zi?r:a)}e.addEventListener(t,n,r)};var Xi=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var $i=function(e,t,n,r){return Ji(e,t,n,r),function(){Xi(e,t,n,r)}};var Qi=function(e){var t=Object(o.useRef)(e);return Object(o.useEffect)((function(){t.current=e}),[e]),t};function ea(e){var t=Qi(e);return Object(o.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}var ta=n(17),na=n.n(ta);var ra=function(e){return(t=function(e){return e&&"setState"in e?na.a.findDOMNode(e):null!=e?e:null}(e))&&t.ownerDocument||document;var t},ia=function(){};var aa=function(e){return e&&("current"in e?e.current:e)};var oa=function(e,t,n){var r=void 0===n?{}:n,i=r.disabled,a=r.clickTrigger,s=void 0===a?"click":a,c=Object(o.useRef)(!1),u=t||ia,l=Object(o.useCallback)((function(t){var n,r,i,a=aa(e);J()(!!a,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!a||!!((i=t).metaKey||i.altKey||i.ctrlKey||i.shiftKey)||!function(e){return 0===e.button}(t)||(n=a,r=t.target,!!(n.contains?n.contains(r):n.compareDocumentPosition?n===r||16&n.compareDocumentPosition(r):void 0))}),[e]),d=ea((function(e){c.current||u(e)})),f=ea((function(e){27===e.keyCode&&u(e)}));Object(o.useEffect)((function(){if(!i&&null!=e){var t=window.event,n=ra(aa(e)),r=$i(n,s,l,!0),a=$i(n,s,(function(e){e!==t?d(e):t=void 0})),o=$i(n,"keyup",(function(e){e!==t?f(e):t=void 0})),c=[];return"ontouchstart"in n.documentElement&&(c=[].slice.call(n.body.children).map((function(e){return $i(e,"mousemove",ia)}))),function(){r(),a(),o(),c.forEach((function(e){return e()}))}}}),[e,i,s,l,d,f])},sa=["className","label","onClick","onKeyDown","size"],ca={label:x.a.string,onClick:x.a.func,onKeyDown:x.a.func,size:ji},ua={label:"Clear",onClick:Sr,onKeyDown:Sr},la=function(e){var t=e.className,n=e.label,r=e.onClick,i=e.onKeyDown,a=e.size,o=Xn()(e,sa);return s.a.createElement("button",Zn()({},o,{"aria-label":n,className:Zr()("close","rbt-close",{"rbt-close-lg":si(a)},t),onClick:function(e){e.stopPropagation(),r(e)},onKeyDown:function(e){8===e.keyCode&&e.preventDefault(),i(e)},type:"button"}),s.a.createElement("span",{"aria-hidden":"true"},"\xd7"),s.a.createElement("span",{className:"sr-only visually-hidden"},n))};la.propTypes=ca,la.defaultProps=ua;var da=la,fa={label:x.a.string},pa=function(e){var t=e.label;return s.a.createElement("div",{className:"rbt-loader spinner-border spinner-border-sm",role:"status"},s.a.createElement("span",{className:"sr-only visually-hidden"},t))};pa.propTypes=fa,pa.defaultProps={label:"Loading..."};var ha=pa,ma=n(770),ba=n.n(ma),va=n(771),ja=n.n(va),ga=n(466),Oa=n.n(ga),ya=n(467),wa=n.n(ya),_a=n(468),xa=n.n(_a),Sa=n(773),ka=n.n(Sa),Ca=n(785),Aa=n(786),Ea=n.n(Aa),Da=Ea()(),Ta=Ea()(),Na=(o.Component,function(e,t){if("function"===typeof e)return function(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}}(e,t);null!=e&&(e.current=t)}),Pa={position:"absolute",top:0,left:0,opacity:0,pointerEvents:"none"},Ra={},Ha=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,xa()(wa()(wa()(t)),"state",{data:void 0,placement:void 0}),xa()(wa()(wa()(t)),"popperInstance",void 0),xa()(wa()(wa()(t)),"popperNode",null),xa()(wa()(wa()(t)),"arrowNode",null),xa()(wa()(wa()(t)),"setPopperNode",(function(e){e&&t.popperNode!==e&&(Na(t.props.innerRef,e),t.popperNode=e,t.updatePopperInstance())})),xa()(wa()(wa()(t)),"setArrowNode",(function(e){t.arrowNode=e})),xa()(wa()(wa()(t)),"updateStateModifier",{enabled:!0,order:900,fn:function(e){var n=e.placement;return t.setState({data:e,placement:n}),e}}),xa()(wa()(wa()(t)),"getOptions",(function(){return{placement:t.props.placement,eventsEnabled:t.props.eventsEnabled,positionFixed:t.props.positionFixed,modifiers:ja()({},t.props.modifiers,{arrow:ja()({},t.props.modifiers&&t.props.modifiers.arrow,{enabled:!!t.arrowNode,element:t.arrowNode}),applyStyle:{enabled:!1},updateStateModifier:t.updateStateModifier})}})),xa()(wa()(wa()(t)),"getPopperStyle",(function(){return t.popperNode&&t.state.data?ja()({position:t.state.data.offsets.popper.position},t.state.data.styles):Pa})),xa()(wa()(wa()(t)),"getPopperPlacement",(function(){return t.state.data?t.state.placement:void 0})),xa()(wa()(wa()(t)),"getArrowStyle",(function(){return t.arrowNode&&t.state.data?t.state.data.arrowStyles:Ra})),xa()(wa()(wa()(t)),"getOutOfBoundariesState",(function(){return t.state.data?t.state.data.hide:void 0})),xa()(wa()(wa()(t)),"destroyPopperInstance",(function(){t.popperInstance&&(t.popperInstance.destroy(),t.popperInstance=null)})),xa()(wa()(wa()(t)),"updatePopperInstance",(function(){t.destroyPopperInstance();var e=wa()(wa()(t)).popperNode,n=t.props.referenceElement;n&&e&&(t.popperInstance=new Ca.a(n,e,t.getOptions()))})),xa()(wa()(wa()(t)),"scheduleUpdate",(function(){t.popperInstance&&t.popperInstance.scheduleUpdate()})),t}Oa()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.placement===e.placement&&this.props.referenceElement===e.referenceElement&&this.props.positionFixed===e.positionFixed&&ka()(this.props.modifiers,e.modifiers,{strict:!0})?this.props.eventsEnabled!==e.eventsEnabled&&this.popperInstance&&(this.props.eventsEnabled?this.popperInstance.enableEventListeners():this.popperInstance.disableEventListeners()):this.updatePopperInstance(),t.placement!==this.state.placement&&this.scheduleUpdate()},n.componentWillUnmount=function(){Na(this.props.innerRef,null),this.destroyPopperInstance()},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)({ref:this.setPopperNode,style:this.getPopperStyle(),placement:this.getPopperPlacement(),outOfBoundaries:this.getOutOfBoundariesState(),scheduleUpdate:this.scheduleUpdate,arrowProps:{ref:this.setArrowNode,style:this.getArrowStyle()}});var e},t}(o.Component);xa()(Ha,"defaultProps",{placement:"bottom",eventsEnabled:!0,referenceElement:void 0,positionFixed:!1});Ca.a.placements;function Ia(e){var t=e.referenceElement,n=ba()(e,["referenceElement"]);return o.createElement(Da.Consumer,null,(function(e){return o.createElement(Ha,ja()({referenceElement:void 0!==t?t:e},n))}))}var Fa=["styles"],za=["ref"];function Ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ma(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var La="undefined"===typeof Element?function(){}:Element,Ua={align:x.a.oneOf(Ar(gr)),children:x.a.func.isRequired,dropup:x.a.bool,flip:x.a.bool,isMenuShown:x.a.bool,positionFixed:x.a.bool,referenceElement:x.a.instanceOf(La)},Wa={align:gr.JUSTIFY,dropup:!1,flip:!1,isMenuShown:!1,positionFixed:!1};function Ga(e){var t=e.align;return{computeStyles:{enabled:!0,fn:function(e){var n=e.styles,r=Xn()(e,Fa);return Ba(Ba({},r),{},{styles:Ba(Ba({},n),{},{width:t!==gr.RIGHT&&t!==gr.LEFT?r.offsets.reference.width:n.width})})}},flip:{enabled:e.flip},preventOverflow:{escapeWithReference:!0}}}var Va={bottom:{end:"bottom-end",start:"bottom-start"},top:{end:"top-end",start:"top-start"}};function qa(e){var t=e.align,n=e.dropup;return Va[n?"top":"bottom"][t===gr.RIGHT?"end":"start"]}var Za=function(e){var t=e.children,n=e.isMenuShown,r=e.positionFixed,i=e.referenceElement;return n?o.createElement(Ia,{modifiers:Ga(e),placement:qa(e),positionFixed:r,referenceElement:i},(function(e){var n=e.ref,r=Xn()(e,za);return t(Ba(Ba({},r),{},{innerRef:n,inputHeight:i?i.offsetHeight:0}))})):null};Za.propTypes=Ua,Za.defaultProps=Wa;var Ya=Za,Ka=["onBlur","onClick","onFocus","onRemove","option"];function Ja(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ja(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ja(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $a={onBlur:x.a.func,onClick:x.a.func,onFocus:x.a.func,onRemove:x.a.func,option:yi.isRequired},Qa=function(e){var t="withToken(".concat(Ur(e),")"),n=function(t){return s.a.createElement(e,function(e){var t=e.onBlur,n=e.onClick,r=e.onFocus,i=e.onRemove,a=e.option,s=Xn()(e,Ka),c=Object(o.useState)(!1),u=Vi()(c,2),l=u[0],d=u[1],f=Object(o.useState)(null),p=Vi()(f,2),h=p[0],m=p[1],b=function(e,t,n){d(t),"function"===typeof n&&n(e)},v=function(e){b(e,!1,t)},j=function(){i&&i(a)};return oa(h,v,Xa(Xa({},s),{},{disabled:!l})),Xa(Xa({},s),{},{active:l,onBlur:v,onClick:function(e){b(e,!0,n)},onFocus:function(e){b(e,!0,r)},onKeyDown:function(e){switch(e.keyCode){case 8:l&&(e.preventDefault(),j())}},onRemove:_r(i)?j:void 0,ref:m})}(t))};return n.displayName=t,n.propTypes=$a,n};var eo=["active","children","className","onRemove","tabIndex"],to=Object(o.forwardRef)((function(e,t){var n=e.active,r=e.children,i=e.className,a=e.onRemove,o=e.tabIndex,c=Xn()(e,eo);return s.a.createElement("div",Zn()({},c,{className:Zr()("rbt-token","rbt-token-removeable",{"rbt-token-active":!!n},i),ref:t,tabIndex:o||0}),r,s.a.createElement(da,{className:"rbt-token-remove-button",label:"Remove",onClick:a,tabIndex:-1}))})),no=function(e){var t=e.children,n=e.className,r=e.disabled,i=e.href,a=Zr()("rbt-token",{"rbt-token-disabled":r},n);return i&&!r?s.a.createElement("a",{className:a,href:i},t):s.a.createElement("div",{className:a},t)},ro=Qa(Object(o.forwardRef)((function(e,t){var n=e.disabled,r=e.onRemove,i=e.readOnly;return n||i||!_r(r)?s.a.createElement(no,e):s.a.createElement(to,Zn()({},e,{ref:t}))}))),io=["className"];function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return n&&(n=n.replace(n[0],n[0].toUpperCase())),["Top","Right","Bottom","Left"].map((function(r){return e[t+r+n]})).join(" ")}var co=function(e){var t=e.children,n=e.shouldSelect;1!==s.a.Children.count(t)&&br()(!1);var r=li(),i=r.hintText,a=r.initialItem,c=r.inputNode,u=r.onAdd,l=r.selectHintOnEnter,d=Object(o.useRef)(null);return Object(o.useEffect)((function(){!function(e,t){if(e&&t){var n=window.getComputedStyle(e);t.style.borderStyle=so(n,"border","style"),t.style.borderWidth=so(n,"border","width"),t.style.fontSize=n.fontSize,t.style.height=n.height,t.style.lineHeight=n.lineHeight,t.style.margin=so(n,"margin"),t.style.padding=so(n,"padding")}}(c,d.current)})),{child:Object(o.cloneElement)(t,oo(oo({},t.props),{},{onKeyDown:function(e){i&&a&&function(e,t){var n=!1,r=e.currentTarget,i=e.keyCode;return 39===i&&(n=!ai(r)||r.selectionStart===r.value.length),9===i&&(e.preventDefault(),n=!0),13===i&&(n=!!t.selectHintOnEnter),"function"===typeof t.shouldSelect?t.shouldSelect(n,e):n}(e,{selectHintOnEnter:l,shouldSelect:n})&&u(a),t.props.onKeyDown&&t.props.onKeyDown(e)}})),hintRef:d,hintText:i}},uo=function(e){var t=e.className,n=Xn()(e,io),r=co(n),i=r.child,a=r.hintRef,o=r.hintText;return s.a.createElement("div",{className:t,style:{display:"flex",flex:1,height:"100%",position:"relative"}},i,s.a.createElement("input",{"aria-hidden":!0,className:"rbt-input-hint",ref:a,readOnly:!0,style:{backgroundColor:"transparent",borderColor:"transparent",boxShadow:"none",color:"rgba(0, 0, 0, 0.54)",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"},tabIndex:-1,value:o}))},lo=s.a.forwardRef((function(e,t){return s.a.createElement("input",Zn()({},e,{className:Zr()("rbt-input-main",e.className),ref:t}))})),fo=["className","isInvalid","isValid","size"];function po(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xp){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}var ho=function(e){var t=function(t){cr()(r,t);var n=po(r);function r(){return nr()(this,r),n.apply(this,arguments)}return ir()(r,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.isInvalid,i=t.isValid,a=t.size,o=Xn()(t,fo);return s.a.createElement(e,Zn()({},o,{className:Zr()("form-control","rbt-input",{"form-control-lg":si(a),"form-control-sm":ci(a),"is-invalid":r,"is-valid":i},n)}))}}]),r}(s.a.Component);return Kn()(t,"displayName","withClassNames(".concat(Ur(e),")")),t},mo=["children","className","inputClassName","inputRef","placeholder","referenceElementRef","selected","shouldSelectHint"];function bo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xp){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}var vo=ho(function(e){cr()(n,e);var t=bo(n);function n(){var e;nr()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Kn()(or()(e),"wrapperRef",s.a.createRef()),Kn()(or()(e),"_input",void 0),Kn()(or()(e),"getInputRef",(function(t){e._input=t,e.props.inputRef(t)})),Kn()(or()(e),"_handleContainerClickOrFocus",(function(t){if(e.props.disabled)t.currentTarget.blur();else{var n=e._input;!n||t.currentTarget.contains(t.target)&&t.currentTarget!==t.target||(ai(n)&&(n.selectionStart=n.value.length),n.focus())}})),Kn()(or()(e),"_handleKeyDown",(function(t){var n=e.props,r=n.onKeyDown,i=n.selected,a=n.value;switch(t.keyCode){case 8:if(t.currentTarget===e._input&&i.length&&!a&&(t.preventDefault(),e.wrapperRef.current)){var o=e.wrapperRef.current.children,s=o[o.length-2];s&&s.focus()}}r(t)})),e}return ir()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.inputClassName,i=(e.inputRef,e.placeholder),a=e.referenceElementRef,o=e.selected,c=e.shouldSelectHint,u=Xn()(e,mo);return s.a.createElement("div",{className:Zr()("rbt-input-multi",n),disabled:u.disabled,onClick:this._handleContainerClickOrFocus,onFocus:this._handleContainerClickOrFocus,ref:a,tabIndex:-1},s.a.createElement("div",{className:"rbt-input-wrapper",ref:this.wrapperRef},t,s.a.createElement(uo,{shouldSelect:c},s.a.createElement(lo,Zn()({},u,{className:r,onKeyDown:this._handleKeyDown,placeholder:o.length?"":i,ref:this.getInputRef,style:{backgroundColor:"transparent",border:0,boxShadow:"none",cursor:"inherit",outline:"none",padding:0,width:"100%",zIndex:1}})))))}}]),n}(s.a.Component)),jo=["inputRef","referenceElementRef","shouldSelectHint"],go=ho((function(e){var t=e.inputRef,n=e.referenceElementRef,r=e.shouldSelectHint,i=Xn()(e,jo);return s.a.createElement(uo,{shouldSelect:r},s.a.createElement(lo,Zn()({},i,{ref:function(e){t(e),n(e)}})))}));function Oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xp){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}var yo={children:x.a.string.isRequired,highlightClassName:x.a.string,search:x.a.string.isRequired},wo=function(e){cr()(n,e);var t=Oo(n);function n(){return nr()(this,n),t.apply(this,arguments)}return ir()(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.highlightClassName,r=e.search;if(!r||!t)return t;for(var i=0,a=t,o=[];a;){var c=Gr(a,r);if(!c){o.push(a);break}var u=a.slice(0,c.start);u&&o.push(u);var l=a.slice(c.start,c.end);o.push(s.a.createElement("mark",{className:n,key:i},l)),i+=1,a=a.slice(c.end)}return o}}]),n}(s.a.PureComponent);Kn()(wo,"propTypes",yo),Kn()(wo,"defaultProps",{highlightClassName:"rbt-highlight-text"});var _o=wo;function xo(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function So(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function ko(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return So(n.overflowY,t)||So(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Co(e,t,n,r,i,a,o,s){return a<e&&o>t||a>e&&o<t?0:a<=e&&s<=n||o>=t&&s>=n?a-e-r:o>t&&s<n||a<e&&s>n?o-t+i:0}var Ao=function(e,t){var n=window,r=t.scrollMode,i=t.block,a=t.inline,o=t.boundary,s=t.skipOverflowHiddenElements,c="function"==typeof o?o:function(e){return e!==o};if(!xo(e))throw new TypeError("Invalid target");for(var u=document.scrollingElement||document.documentElement,l=[],d=e;xo(d)&&c(d);){if((d=d.parentElement)===u){l.push(d);break}null!=d&&d===document.body&&ko(d)&&!ko(document.documentElement)||null!=d&&ko(d,s)&&l.push(d)}for(var f=n.visualViewport?n.visualViewport.width:innerWidth,p=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,m=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),v=b.height,j=b.width,g=b.top,O=b.right,y=b.bottom,w=b.left,_="start"===i||"nearest"===i?g:"end"===i?y:g+v/2,x="center"===a?w+j/2:"end"===a?O:w,S=[],k=0;k<l.length;k++){var C=l[k],A=C.getBoundingClientRect(),E=A.height,D=A.width,T=A.top,N=A.right,P=A.bottom,R=A.left;if("if-needed"===r&&g>=0&&w>=0&&y<=p&&O<=f&&g>=T&&y<=P&&w>=R&&O<=N)return S;var H=getComputedStyle(C),I=parseInt(H.borderLeftWidth,10),F=parseInt(H.borderTopWidth,10),z=parseInt(H.borderRightWidth,10),M=parseInt(H.borderBottomWidth,10),B=0,L=0,U="offsetWidth"in C?C.offsetWidth-C.clientWidth-I-z:0,W="offsetHeight"in C?C.offsetHeight-C.clientHeight-F-M:0;if(u===C)B="start"===i?_:"end"===i?_-p:"nearest"===i?Co(m,m+p,p,F,M,m+_,m+_+v,v):_-p/2,L="start"===a?x:"center"===a?x-f/2:"end"===a?x-f:Co(h,h+f,f,I,z,h+x,h+x+j,j),B=Math.max(0,B+m),L=Math.max(0,L+h);else{B="start"===i?_-T-F:"end"===i?_-P+M+W:"nearest"===i?Co(T,P,E,F,M+W,_,_+v,v):_-(T+E/2)+W/2,L="start"===a?x-R-I:"center"===a?x-(R+D/2)+U/2:"end"===a?x-N+z+U:Co(R,N,D,I,z+U,x,x+j,j);var G=C.scrollLeft,V=C.scrollTop;_+=V-(B=Math.max(0,Math.min(V+B,C.scrollHeight-E+W))),x+=G-(L=Math.max(0,Math.min(G+L,C.scrollWidth-D+U)))}S.push({el:C,top:B,left:L})}return S};function Eo(e){return e===Object(e)&&0!==Object.keys(e).length}var Do=function(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Eo(t)&&"function"===typeof t.behavior)return t.behavior(n?[]:Ao(e,t));if(!n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:Eo(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,a=e.left;r.scroll&&n?r.scroll({top:i,left:a,behavior:t}):(r.scrollTop=i,r.scrollLeft=a)}))}(Ao(e,r),r.behavior)}},To=["label","onClick","option","position"];function No(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):No(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ro={option:yi.isRequired,position:x.a.number},Ho=function(e){var t="withItem(".concat(Ur(e),")"),n=function(t){return s.a.createElement(e,function(e){var t=e.label,n=e.onClick,r=e.option,i=e.position,a=Xn()(e,To),s=li(),c=s.activeIndex,u=s.id,l=s.isOnlyResult,d=s.onActiveItemChange,f=s.onInitialItemChange,p=s.onMenuItemClick,h=s.setItem,m=Object(o.useRef)(null);Object(o.useEffect)((function(){0===i&&f(r)})),Object(o.useEffect)((function(){if(i===c){d(r);var e=m.current;e&&Do(e,{block:"nearest",boundary:e.parentNode,inline:"nearest",scrollMode:"if-needed"})}}));var b=Object(o.useCallback)((function(e){p(r,e),n&&n(e)}),[n,p,r]),v=l||c===i;return h(r,i),Po(Po({},a),{},{active:v,"aria-label":t,"aria-selected":v,id:Yr(u,i),onClick:b,onMouseDown:oi,ref:m,role:"option"})}(t))};return n.displayName=t,n.propTypes=Ro,n};var Io=["active","children","className","disabled","onClick"],Fo=s.a.forwardRef((function(e,t){var n=e.active,r=e.children,i=e.className,a=e.disabled,o=e.onClick,c=Xn()(e,Io);return s.a.createElement("a",Zn()({},c,{className:Zr()("dropdown-item",{active:n,disabled:a},i),href:c.href||"#",onClick:function(e){e.preventDefault(),!a&&o&&o(e)},ref:t}),r)})),zo=Ho(Fo);function Mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mo(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xp){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}var Uo={"aria-label":x.a.string,emptyLabel:x.a.node,id:gi(x.a.oneOfType([x.a.number,x.a.string]),Oi),maxHeight:x.a.string},Wo=function(e){cr()(n,e);var t=Lo(n);function n(){return nr()(this,n),t.apply(this,arguments)}return ir()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.inputHeight,r=t.scheduleUpdate;n!==e.inputHeight&&r()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.emptyLabel,i=e.id,a=e.innerRef,c=e.maxHeight,u=e.style,l=e.text,d=0===o.Children.count(t)?s.a.createElement(Fo,{disabled:!0,role:"option"},r):t;return s.a.createElement("div",{"aria-label":this.props["aria-label"],className:Zr()("rbt-menu","dropdown-menu","show",n),id:i,key:l,onMouseDown:oi,ref:a,role:"listbox",style:Bo(Bo({},u),{},{display:"block",maxHeight:c,overflow:"auto"})},d)}}]),n}(s.a.Component);Kn()(Wo,"propTypes",Uo),Kn()(Wo,"defaultProps",{"aria-label":"menu-options",emptyLabel:"No matches found.",maxHeight:"300px"}),Kn()(Wo,"Divider",(function(e){return s.a.createElement("div",{className:"dropdown-divider",role:"separator"})})),Kn()(Wo,"Header",(function(e){return s.a.createElement("div",Zn()({},e,{className:"dropdown-header",role:"heading"}))}));var Go=Wo,Vo=["labelKey","newSelectionPrefix","options","paginationText","renderMenuItemChildren","text"],qo={newSelectionPrefix:x.a.node,paginationText:x.a.node,renderMenuItemChildren:x.a.func},Zo={newSelectionPrefix:"New selection: ",paginationText:"Display additional results...",renderMenuItemChildren:function(e,t,n){return s.a.createElement(_o,{search:t.text},Er(e,t.labelKey))}},Yo=function(e){var t=e.labelKey,n=e.newSelectionPrefix,r=e.options,i=e.paginationText,a=e.renderMenuItemChildren,c=e.text,u=Xn()(e,Vo);return s.a.createElement(Go,Zn()({},u,{text:c}),r.map((function(r,u){var l=Er(r,t),d={disabled:Tr(r,"disabled"),label:l,option:r,position:u};return r.customOption?s.a.createElement(zo,Zn()({},d,{className:"rbt-menu-custom-option",key:u,label:l}),n,s.a.createElement(_o,{search:c},l)):r.paginationOption?s.a.createElement(o.Fragment,{key:"pagination-item"},s.a.createElement(Go.Divider,null),s.a.createElement(zo,Zn()({},d,{className:"rbt-menu-pagination-option",label:i}),i)):s.a.createElement(zo,Zn()({},d,{key:u}),a(r,e,u))})))};Yo.propTypes=qo,Yo.defaultProps=Zo;var Ko=Yo,Jo=["children","onRootClose"],Xo=["getInputProps"];function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){Kn()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function es(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(xp){return!1}}();return function(){var n,r=fr()(e);if(t){var i=fr()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return lr()(this,n)}}var ts={clearButton:x.a.bool,inputProps:gi(x.a.object,(function(e,t,n){var r=e.inputProps;r&&"[object Object]"===Object.prototype.toString.call(r)&&vi.forEach((function(e){var t=e.alt,n=e.prop,i=t?" Use the top-level `".concat(t,"` prop instead."):null;Mr(!r[n],"The `".concat(n,"` property of `inputProps` will be ignored.").concat(i))}))})),isInvalid:x.a.bool,isLoading:x.a.bool,isValid:x.a.bool,renderInput:x.a.func,renderMenu:x.a.func,renderToken:x.a.func,size:ji},ns={clearButton:!1,inputProps:{},isInvalid:!1,isLoading:!1,isValid:!1,renderMenu:function(e,t,n){return s.a.createElement(Ko,Zn()({},t,{labelKey:n.labelKey,options:e,text:n.text}))},renderToken:function(e,t,n){return s.a.createElement(ro,{disabled:t.disabled,key:n,onRemove:t.onRemove,option:e,tabIndex:t.tabIndex},Er(e,t.labelKey))}};var rs=function(e){var t=e.children,n=e.onRootClose,r=Xn()(e,Jo),i=Object(o.useState)(null),a=Vi()(i,2),s=a[0],c=a[1];return oa(s,n,r),t(c)},is=function(e){cr()(n,e);var t=es(n);function n(){var e;nr()(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),Kn()(or()(e),"_referenceElement",void 0),Kn()(or()(e),"referenceElementRef",(function(t){e._referenceElement=t})),Kn()(or()(e),"_renderInput",(function(t,n){var r=e.props,i=r.isInvalid,a=r.isValid,o=r.multiple,c=r.renderInput,u=r.renderToken,l=r.size;if(_r(c))return c(t,n);var d=Qo(Qo({},t),{},{isInvalid:i,isValid:a,size:l});if(!o)return s.a.createElement(go,d);var f=n.labelKey,p=n.onRemove,h=n.selected;return s.a.createElement(vo,Zn()({},d,{selected:h}),h.map((function(e,t){return u(e,Qo(Qo({},d),{},{labelKey:f,onRemove:p}),t)})))})),Kn()(or()(e),"_renderMenu",(function(t,n,r){var i=e.props,a=i.emptyLabel,o=i.id,s=i.maxHeight,c=i.newSelectionPrefix,u=i.paginationText,l=i.renderMenu,d=i.renderMenuItemChildren;return l(t,Qo(Qo({},n),{},{emptyLabel:a,id:o,maxHeight:s,newSelectionPrefix:c,paginationText:u,renderMenuItemChildren:d}),r)})),Kn()(or()(e),"_renderAux",(function(t){var n,r=t.onClear,i=t.selected,a=e.props,o=a.clearButton,c=a.disabled,u=a.isLoading,l=a.size;return u?n=s.a.createElement(ha,null):o&&!c&&i.length&&(n=s.a.createElement(da,{onClick:r,onFocus:function(e){e.stopPropagation()},onMouseDown:oi,size:l})),n?s.a.createElement("div",{className:Zr()("rbt-aux",{"rbt-aux-lg":si(l)})},n):null})),e}return ir()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.instanceRef,a=t.open,o=t.options,c=t.style;return s.a.createElement(Ii,Zn()({},this.props,{options:o,ref:i}),(function(t){var i=t.getInputProps,o=Xn()(t,Xo),u=o.hideMenu,l=o.isMenuShown,d=o.results,f=e._renderAux(o);return s.a.createElement(rs,{disabled:a||!l,onRootClose:u},(function(t){return s.a.createElement("div",{className:Zr()("rbt",{"has-aux":!!f},r),ref:t,style:Qo(Qo({},c),{},{outline:"none",position:"relative"}),tabIndex:-1},e._renderInput(Qo(Qo({},i(e.props.inputProps)),{},{referenceElementRef:e.referenceElementRef}),o),s.a.createElement(Ya,Zn()({},function(e){return kr(e,["align","dropup","flip","positionFixed"])}(e.props),{isMenuShown:l,referenceElement:e._referenceElement}),(function(t){return e._renderMenu(d,t,o)})),f,_r(n)?n(o):n)}))}))}}]),n}(s.a.Component);Kn()(is,"propTypes",ts),Kn()(is,"defaultProps",ns);var as=Object(o.forwardRef)((function(e,t){return s.a.createElement(is,Zn()({},e,{instanceRef:t}))})),os=(Wi(as),n(344),{position_code:"",position_title:"",hours_per_assignment:0,contract_template:{},duties:"Some combination of marking, invigilating, tutorials, office hours, and the help centre.",instructors:[]});function ss(e){var t=e.position,n=e.setPosition,r=e.instructors,i=void 0===r?[]:r,a=e.contractTemplates,o=void 0===a?[]:a,s=e.defaultContractTemplate,c=void 0===s?{}:s,u=Object(v.a)(Object(v.a)({},os),t);var l=ye(u,n),d=u.contract_template?[u.contract_template]:[];return Object(f.jsxs)(ge,{children:[Object(f.jsxs)(we,{children:[l("Position Code (e.g. MAT135H1F)","position_code"),l("Course Title","position_title")]}),Object(f.jsxs)(we,{children:[l("Start Date*","start_date","date"),l("End Date*","end_date","date"),Object(f.jsx)("p",{children:"If blank, the session start date and end date will be used."})]}),Object(f.jsx)(we,{children:l("Hours per Assignment","hours_per_assignment","number")}),Object(f.jsxs)(ge.Group,{children:[Object(f.jsx)(ge.Label,{children:"Instructors"}),Object(f.jsx)(as,{id:"instructors-input",ignoreDiacritics:!0,multiple:!0,placeholder:"Instructors...",labelKey:function(e){return"".concat(e.first_name," ").concat(e.last_name)},selected:u.instructors,options:i,onChange:function(e){n(Object(v.a)(Object(v.a)({},u),{},{instructors:e}))}})]}),Object(f.jsxs)(ge.Group,{children:[Object(f.jsx)(ge.Label,{children:"Contract Template (which offer template will be used)"}),Object(f.jsx)(as,{id:"instructors-input",ignoreDiacritics:!0,multiple:!0,placeholder:"Contract template...",labelKey:function(e){return"".concat(e.template_name)},selected:d,options:o,onChange:function(e){var t=e[e.length-1]||c;n(Object(v.a)(Object(v.a)({},u),{},{contract_template:t}))}})]}),Object(f.jsx)("h3",{children:"Ad-related Info"}),Object(f.jsx)(we,{children:l("Duties","duties")}),Object(f.jsx)(we,{children:l("Qualifications","qualifications")}),Object(f.jsx)("h3",{children:"Admin Info"}),Object(f.jsxs)(we,{children:[l("Current Enrollment","current_enrollment","number"),l("Waitlist","current_waitlisted","number"),l("Desired Number of Assignments","desired_num_assignments","number")]})]})}var cs={position_code:"",position_title:"",hours_per_assignment:0,duties:"Some combination of marking, invigilating, tutorials, office hours, and the help centre.",instructors:[]};var us=Object(c.connect)((function(e){return{positions:Object(u.N)(e),instructors:Object(u.I)(e),contractTemplates:Object(u.h)(e)}}),{upsertPosition:u.gb})((function(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,i=e.positions,a=e.upsertPosition,o=e.instructors,c=e.contractTemplates,u=s.a.useState(cs),l=Object(m.a)(u,2),d=l[0],p=l[1];s.a.useEffect((function(){t||p(cs)}),[t]),s.a.useEffect((function(){var e=c.find((function(e){return"standard"===e.template_name.toLowerCase()}))||c.find((function(e){return"default"===e.template_name.toLowerCase()}))||c.find((function(e){return e.template_name.toLowerCase().includes("standard")}))||c.find((function(e){return e.template_name.toLowerCase().includes("default")}))||c[0];e&&(cs.contract_template=e)}),[c]);var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={delayShow:"",immediateShow:""};return Object(Tt.j)(e.position_code)||(n.delayShow="A position code is required"),t.find((function(t){return Object(Tt.j)(t.position_code)===Object(Tt.j)(e.position_code)}))&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another position exists with name=",e.position_code]})),n}(d,i);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Position"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(ss,{position:d,setPosition:p,instructors:o,contractTemplates:c,defaultContractTemplate:cs.contract_template}),h.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:h.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){a(d),r()},title:h.delayShow||"Create Position",disabled:!!h.delayShow||!!h.immediateShow,children:"Create Position"})]})]})})),ls=[{Header:Ln("Position Code"),accessor:"position_code"},{Header:Ln("Position Title"),accessor:"position_title"},{Header:Ln("Hours"),accessor:"hours_per_assignment",maxWidth:64,className:"number-cell"},{Header:Ln("Start"),accessor:"start_date",Cell:function(e){return Object(Tt.d)(e.value)}},{Header:Ln("End"),accessor:"end_date",Cell:function(e){return Object(Tt.d)(e.value)}},{Header:Ln("Instructors"),accessor:"instructors",Cell:function(e){return Object(f.jsx)(s.a.Fragment,{children:e.value.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(e.first_name," ").concat(e.last_name);return Object(f.jsx)(Rt,{variant:"secondary",className:"mr-1",children:t},t)}))})}},{Header:Ln("Enrolled"),accessor:"current_enrollment",maxWidth:80},{Header:Ln("Waitlist"),accessor:"current_waitlisted",maxWidth:90},{Header:Ln("Contract Template"),accessor:"contract_template.template_name"}];function ds(e){var t=e.modifiedPositions;return Object(f.jsx)(fs,{positions:t,columns:xe(ls)})}function fs(e){var t=e.positions,n=e.columns,r=void 0===n?ls:n;return Object(f.jsx)(Ft,{columns:r,data:t,filterable:!0})}var ps=n(110),hs=n(51),ms=function(e){return{type:hs.a,payload:e}},bs=Object(ps.a)([function(e){return e.ui.positionsTable},u.N],(function(e,t){var n=e.selectedPositionIds;return null==n?null:t.find((function(e){return e.id===n}))}));function vs(e){return e.map((function(e){return"".concat(e.template_file,", ").concat(e.template_name)})).sort().join(";")}function js(e){var t=e.position,n=e.show,r=e.onHide,o=e.onChange,l=[t.contract_template],d=Object(c.useSelector)(u.h),p=s.a.useState(l),h=Object(m.a)(p,2),b=h[0],v=h[1],j=s.a.useState(!1),g=Object(m.a)(j,2),O=g[0],y=g[1];function w(){v(l),r()}var _=O?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,x=vs(b)==vs(l)?null:Object(f.jsxs)("span",{children:["Change from"," ",Object(f.jsx)("span",{className:"field-dialog-formatted-name",children:l.map((function(e){return"".concat(e.template_name)})).join(", ")})," ","to"," ",Object(f.jsx)("span",{className:"field-dialog-formatted-name",children:b.map((function(e){return"".concat(e.template_name)})).join(", ")})]});return Object(f.jsxs)(Gt.a,{show:n,onHide:w,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsxs)(Gt.a.Title,{children:["Edit Contract Template for ",t.position_code]})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(as,{id:"instructors-input",ignoreDiacritics:!0,multiple:!0,placeholder:"Contract Template...",labelKey:function(e){return"".concat(e.template_name)},selected:b,options:d,onChange:function(e){return v([e[e.length-1]||t.contract_template])}})," ",x]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:w,variant:"outline-secondary",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vs(b)===vs(l)){e.next=4;break}return y(!0),e.next=4,o(b,l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().finally((function(){y(!1)}))},children:[_,"Save"]})]})]})}function gs(e){var t,n=e.row.original,r=s.a.useState(!1),o=Object(m.a)(r,2),c=o[0],l=o[1],d=Object(Nn.a)();return n.contract_template?Object(f.jsxs)("div",{className:"show-on-hover-wrapper",children:[null===(t=n.contract_template)||void 0===t?void 0:t.template_name,Object(f.jsx)(Kt,{title:"Edit the contract templates for this position",hidden:!1,onClick:function(){return l(!0)}}),Object(f.jsx)(js,{position:n,show:c,onHide:function(){return l(!1)},onChange:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(Object(u.gb)({id:n.id,contract_template:t[t.length-1]||n.contract_template}));case 4:l(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]}):null}function Os(e){return e.map((function(e){return"".concat(e.last_name,", ").concat(e.first_name)})).sort().join(";")}function ys(e){var t=e.position,n=e.show,r=e.onHide,o=e.onChange,l=t.instructors,d=Object(c.useSelector)(u.I),p=s.a.useState(l),h=Object(m.a)(p,2),b=h[0],v=h[1],j=s.a.useState(!1),g=Object(m.a)(j,2),O=g[0],y=g[1];function w(){v(l),r()}var _=O?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,x=Os(b)==Os(l)?null:Object(f.jsxs)("span",{children:["Change from"," ",Object(f.jsx)("span",{className:"field-dialog-formatted-name",children:l.map((function(e){return"".concat(e.first_name," ").concat(e.last_name)})).join(", ")})," ","to"," ",Object(f.jsx)("span",{className:"field-dialog-formatted-name",children:b.map((function(e){return"".concat(e.first_name," ").concat(e.last_name)})).join(", ")})]});return Object(f.jsxs)(Gt.a,{show:n,onHide:w,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsxs)(Gt.a.Title,{children:["Edit Instructors for ",t.position_code]})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(as,{id:"instructors-input",ignoreDiacritics:!0,multiple:!0,placeholder:"Instructors...",labelKey:function(e){return"".concat(e.first_name," ").concat(e.last_name)},selected:b,options:d,onChange:v})," ",x]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:w,variant:"outline-secondary",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Os(b)===Os(l)){e.next=4;break}return y(!0),e.next=4,o(b,l);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().finally((function(){y(!1)}))},children:[_,"Save"]})]})]})}function ws(e){var t=e.row.original,n=s.a.useState(!1),r=Object(m.a)(n,2),o=r[0],c=r[1],l=Object(Nn.a)();return Object(f.jsxs)("div",{className:"show-on-hover-wrapper",children:[t.instructors.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="".concat(e.first_name," ").concat(e.last_name);return Object(f.jsx)(Rt,{variant:"secondary",className:"mr-1",children:t},t)})),Object(f.jsx)(Kt,{title:"Edit the instructors for this position",hidden:!1,onClick:function(){return c(!0)}}),Object(f.jsx)(ys,{position:t,show:o,onHide:function(){return c(!1)},onChange:function(){var e=Object(a.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(Object(u.gb)({id:t.id,instructors:n}));case 2:c(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})]})}function _s(e){var t=e.show,n=e.onHide,r=e.onDelete,i=e.position;return Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Delete Session"})}),Object(f.jsxs)(Gt.a.Body,{children:["Are you sure you want to delete the position"," ",i?i.position_code:null,"? This action cannot be undone."]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:r,title:"Delete Position",children:"Delete"})]})]})}function xs(e){var t=e.inDeleteMode,n=void 0!==t&&t,r=e.editable,o=void 0===r||r,l=e.columns,d=void 0===l?null:l,p=Object(c.useSelector)(u.N),h=Object(c.useSelector)(u.g),b=s.a.useState(null),j=Object(m.a)(b,2),g=j[0],O=j[1],y=Object(Nn.a)();function w(e){return _.apply(this,arguments)}function _(){return(_=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(Object(u.gb)(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=h.reduce((function(e,t){var n=t.position.position_code;return e[n]=e[n]||0,e[n]+=1,e}),{});function S(e,t){return function(n){return Object(f.jsx)(Xt,Object(v.a)({field:e,type:t,upsert:w,editable:o},n))}}var k=[{Header:Object(f.jsx)(xt,{className:"delete-row-column-header-icon"}),Cell:function(e){var t=e.row.original;return x[t.position_code]?Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(ft,{className:"delete-row-button disabled",title:"This position has an associated assignment and so cannot be deleted."})}):Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(_t,{className:"delete-row-button",title:"Delete ".concat(t.position_code),onClick:function(){O(t)}})})},id:"delete_col",className:"delete-col",show:n,maxWidth:32,resizable:!1},{Header:Ln("Details"),id:"details-col",className:"details-col",maxWidth:32,resizable:!1,Cell:function(e){var t=e.row,n=(null===t||void 0===t?void 0:t.original)||{};return Object(f.jsx)("div",{className:"details-button-container",onClick:function(){return y(ms(n.id))},children:Object(f.jsx)(jt,{className:"details-row-button",title:"View details of ".concat(n.position_code)})})}},{Header:Ln("Position Code"),accessor:"position_code",Cell:S("position_code")},{Header:Ln("Position Title"),accessor:"position_title",Cell:S("position_title")},{Header:Ln("Start"),accessor:"start_date",Cell:S("start_date","date")},{Header:Ln("End"),accessor:"end_date",Cell:S("end_date","date")},{Header:Ln("Instructor(s)"),id:"instructors",accessor:function(e){return Os(e.instructors)},Cell:ws},{Header:Ln("Hours/Assignment"),accessor:"hours_per_assignment",width:64,className:"number-cell",Cell:S("hours_per_assignment")},{Header:Ln("Enrolled"),accessor:"current_enrollment",className:"number-cell",maxWidth:80,Cell:S("current_enrollment")},{Header:Ln("Waitlist"),accessor:"current_waitlisted",className:"number-cell",width:50,Cell:S("current_waitlisted","number")},{Header:Ln("Desired Assignments"),accessor:"desired_num_assignments",className:"number-cell",width:50,Cell:S("desired_num_assignments")},{Header:Ln("Assigned"),id:"current_num_assignments",className:"number-cell",accessor:function(e){return x[e.position_code]||""},width:50},{Header:Ln("Contract Template"),accessor:"contract_template.template_name",Cell:gs}];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(fs,{positions:p,columns:d||k}),Object(f.jsx)(_s,{position:g,show:!!g,onHide:function(){return O(null)},onDelete:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y(Object(u.n)(g));case 4:O(null);case 5:case"end":return e.stop()}}),e)})))})]})}function Ss(e){var t=e.disabled,n=Object(Nn.a)(),r=s.a.useState(null),o=Object(m.a)(r,2),c=o[0],l=o[1];return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=c){e.next=2;break}return e.abrupt("return");case 2:return l(null),e.next=5,n(Object(u.v)(Sn.l,c));case 5:t=e.sent,rn.a.saveAs(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(){return e.apply(this,arguments)}().catch(console.error)}),[c,n]),Object(f.jsx)(fn,{onClick:function(e){l(e)},disabled:t})}function ks(e){var t=e.disabled,n=e.setImportInProgress,r=void 0===n?null:n,o=Object(Nn.a)(),l=Object(c.useSelector)(u.N),d=Object(c.useSelector)(u.I),p=Object(c.useSelector)(u.h),h=s.a.useState(null),v=Object(m.a)(h,2),j=v[0],g=v[1],O=s.a.useState(null),y=Object(m.a)(O,2),w=y[0],_=y[1],x=s.a.useState(null),S=Object(m.a)(x,2),k=S[0],C=S[1],A=s.a.useState(!1),E=Object(m.a)(A,2),D=E[0],T=E[1];function N(){return(N=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=w){e.next=2;break}throw new Error("Cannot import null data");case 2:return t=Dn(w),e.next=5,o(Object(u.hb)(t));case 5:g(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){j||w&&_(null)}),[w,_,j]),s.a.useEffect((function(){if(j&&!D)try{C(null);var e,t=Object(Sn.d)(j,Tn.d),n=Object(b.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.instructors=kn.instructorsListFromField(r.instructors||[],{instructors:d}).map((function(e){return e.utorid}))}}catch(a){n.e(a)}finally{n.f()}var i=kn.positions(t,{positions:l,instructors:d,contractTemplates:p});_(i)}catch(xp){console.warn(xp),C(xp)}}),[j,l,p,d,D]),Object(f.jsx)(xn,{onConfirm:function(){return N.apply(this,arguments)},onFileChange:g,dialogContent:Object(f.jsx)(Cs,{diffed:w,processingError:k}),setInProgress:function(e){T(e),"function"===typeof r&&r(e)},disabled:t})}var Cs=s.a.memo((function(e){var t=e.diffed,n=e.processingError,r=Object(f.jsx)("p",{children:"No data loaded..."});if(n)r=Object(f.jsx)(Qt.a,{variant:"danger",children:""+n});else if(t){var i=t.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),a=t.filter((function(e){return"modified"===e.status}));r=0===i.length&&0===a.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported positions and those already on the system."}):Object(f.jsxs)(f.Fragment,{children:[i.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following positions will be"," ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(fs,{positions:i})]}),a.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following positions will be"," ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(ds,{modifiedPositions:a})]})]})}return r}));n(789);function As(e){var t=e.position,n=Object(Nn.a)();function r(e){return n(Object(u.gb)(e))}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)("table",{className:"position-details-view essentials",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Position Code"}),Object(f.jsx)("th",{children:"Position Title"}),Object(f.jsx)("th",{children:"Start Date"}),Object(f.jsx)("th",{children:"End Date"})]})}),Object(f.jsx)("tbody",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Position Title"},upsert:r,field:"position_title",row:{original:t},value:t.position_title||""})}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Position Code"},upsert:r,field:"position_code",row:{original:t},value:t.position_code})}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Start Date"},upsert:r,field:"start_date",row:{original:t},value:t.start_date,type:"date"})}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"End Date"},upsert:r,field:"end_date",row:{original:t},value:t.end_date,type:"date"})})]})})]}),Object(f.jsx)("table",{className:"position-details-view extras",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Contract Template"}),Object(f.jsx)("td",{children:Object(f.jsx)(gs,{row:{original:t}})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Instructors"}),Object(f.jsx)("td",{children:Object(f.jsx)(ws,{row:{original:t}})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Hours per Assignment"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Hours per Assignment"},upsert:r,field:"hours_per_assignment",row:{original:t},value:t.hours_per_assignment,type:"number"})})]}),Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:2,children:Object(f.jsx)("hr",{})})}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Duties"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Duties"},upsert:r,field:"duties",type:"paragraph",row:{original:t},value:t.duties})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Qualifications"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Qualifications"},upsert:r,field:"qualifications",type:"paragraph",row:{original:t},value:t.qualifications})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Waitlisted"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Waitlisted"},upsert:r,field:"current_waitlisted",row:{original:t},value:t.current_waitlisted,type:"number"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Desired Number of Assignments"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Desired Number of Assignments"},upsert:r,field:"desired_num_assignments",row:{original:t},value:t.desired_num_assignments,type:"number"})})]})]})})]})}function Es(e){var t=e.position,n=e.visible,r=e.onHide;return Object(f.jsxs)(Gt.a,{show:n,onHide:r,size:"lg",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsxs)(Gt.a.Title,{children:["Details for ",t.position_code]})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsx)(As,{position:t})}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{variant:"secondary",onClick:r,children:"Close"})})]})}function Ds(){var e=Object(c.useSelector)(bs),t=Object(Nn.a)();return null==e?null:Object(f.jsx)(Es,{visible:!!e,position:e,onHide:function(){return t(ms(null))}})}function Ts(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],l=a[1],d=Object(c.useSelector)(u.b),p=s.a.useState(!1),h=Object(m.a)(p,2),b=h[0],v=h[1];return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},disabled:!d,children:"Add Position"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(xt,{}),onClick:function(){return l(!o)},active:o,disabled:!d,children:"Delete Position"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(ks,{disabled:!d,setImportInProgress:v}),Object(f.jsx)(Ss,{disabled:!d})]}),Object(f.jsxs)(In,{children:[d?null:Object(f.jsx)(Gn,{extraText:"To view or modify positions, you must select a session."}),Object(f.jsx)(us,{show:n,onHide:function(){r(!1)}}),!b&&Object(f.jsx)(xs,{inDeleteMode:o}),Object(f.jsx)(Ds,{})]})]})}var Ns=n(49),Ps=function(e){return e.ui.offerTable};function Rs(e){var t="Edit ".concat(""+e.column.Header),n=e.upsertApplicant,r=e.field,o=e.editable,s=e.row.original;function c(){return(c=Object(a.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.applicant.id,e.next=3,n(Object(Oe.a)({id:a},r,t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)(Jt,{title:t,value:e.value||"",onChange:function(e){return c.apply(this,arguments)},editable:o,children:e.value})}function Hs(e){var t=e.row.original,n=Object(Tt.b)(t.active_offer_status||""),r=t.active_offer_url_token,i=null;if(r){var a="/public/contracts/".concat(r,".pdf");i=Object(f.jsx)(Vt.a,{href:Object(Tt.f)(a),variant:"light",size:"sm",className:"mr-2 py-0",title:"Download offer PDF",children:Object(f.jsx)(jt,{})})}return Object(f.jsxs)(f.Fragment,{children:[i,n]})}function Is(e){var t="Edit ".concat(""+e.column.Header),n=e.upsertAssignment,r=e.field,o=e.editable,s=void 0===o||o,c=e.row.original,u=c.active_offer_status;function l(){return(l=Object(a.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.id,e.next=3,n(Object(Oe.a)({id:a},r,t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)(Jt,{title:t,value:e.value||"",onChange:function(e){return l.apply(this,arguments)},editable:s&&(!u||["provisional","withdrawn","No Contract"].includes(u)),children:e.value})}function Fs(e){var t=e.editable,n=void 0===t||t,r=Object(j.a)(e,["editable"]),i=Object(Nn.a)(),a=s.a.useCallback((function(e){return i(function(e){return{type:Ns.a,payload:e}}(e))}),[i]),o=Object(c.useSelector)(Ps).selectedAssignmentIds,l=Object(c.useSelector)(u.g),d=s.a.useMemo((function(){return l.map((function(e){var t=e.active_offer_status,n=Object(j.a)(e,["active_offer_status"]);return t?e:Object(v.a)({active_offer_status:"No Contract"},n)}))}),[l]),p=s.a.useMemo((function(){function e(e){return function(t){return Object(f.jsx)(Rs,Object(v.a)({field:e,upsertApplicant:function(e){return i(Object(u.Y)(e))},editable:n},t))}}return[{Header:"Last Name",accessor:"applicant.last_name",Cell:e("last_name")},{Header:"First Name",accessor:"applicant.first_name",Cell:e("first_name")},{Header:"Email",accessor:"applicant.email",Cell:e("email")},{Header:"Position",accessor:"position.position_code"},{Header:"Hours",accessor:"hours",className:"number-cell",maxWidth:70,Cell:(t="hours",function(e){return Object(f.jsx)(Is,Object(v.a)({field:t,upsertAssignment:function(e){return i(Object(u.bb)(e))},editable:n},e))})},{Header:"Status",id:"status",accessor:function(e){return"No Contract"===e.active_offer_status?null:e.active_offer_status},Cell:Hs},{Header:"Date",accessor:"active_offer_recent_activity_date",Cell:function(e){var t=e.value;return t?Object(Tt.d)(t):null},maxWidth:120},{Header:"Nag Count",accessor:"active_offer_nag_count",Cell:function(e){var t=e.value;return t||null},maxWidth:30}];var t}),[i,n]);return Object(f.jsx)(Ft,Object(v.a)({filterable:!0,columns:p,data:d,selected:o,setSelected:a},r))}var zs=n(111);var Ms={note:"",position:{id:null},position_id:null,applicant:{id:null},applicant_id:null};function Bs(e){var t=e.assignment,n=e.setAssignment,r=e.applicants,i=e.positions,a=e.lockPositionAndApplicant,o=s.a.useMemo((function(){return Object(v.a)(Object(v.a)({},Ms),t)}),[t]);s.a.useEffect((function(){if(o.start_date&&o.end_date){var e=Object(zs.k)(o.start_date,o.end_date);if(1!==e.length){if(null==o.wage_chunks||!function(e){if(!Array.isArray(e.wage_chunks))return!0;var t,n=0,r=Object(b.a)(e.wage_chunks);try{for(r.s();!(t=r.n()).done;)n+=t.value.hours}catch(i){r.e(i)}finally{r.f()}return n===e.hours}(o)||!function(e){if(!Array.isArray(e.wage_chunks))return!0;if(0===e.wage_chunks.length)return!1;var t=Object(We.a)(e.wage_chunks);t.sort((function(e,t){var n=new Date(e.start_date),r=new Date(t.start_date);return n===r?0:n>r?1:-1}));var n=t[0],r=t[t.length-1];return n.start_date===e.start_date&&r.end_date===e.end_date}(o)){var t=e.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{hours:o.hours/2})}));n(Object(v.a)(Object(v.a)({},o),{},{wage_chunks:t}))}}else o.wage_chunks&&n(Object(v.a)(Object(v.a)({},o),{},{wage_chunks:null}))}else o.wage_chunks&&n(Object(v.a)(Object(v.a)({},o),{},{wage_chunks:null}))}),[o,n]);var c=ye(o,n),u=Object(f.jsx)(s.a.Fragment,{}),l=Object(f.jsx)(s.a.Fragment,{});if(null!=o.wage_chunks){var d,p=o.wage_chunks;u=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"F Hours"}),Object(f.jsx)(ge.Control,{type:"number",title:"The number of pre-January hours",value:p[0].hours,onChange:function(e){var t=Math.min(Math.max(Number(e.target.value),0),o.hours);n(Object(v.a)(Object(v.a)({},o),{},{wage_chunks:[Object(v.a)(Object(v.a)({},p[0]),{},{hours:t}),Object(v.a)(Object(v.a)({},p[1]),{},{hours:o.hours-t})]}))}})]}),l=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"S Hours"}),Object(f.jsx)(ge.Control,{type:"number",title:"The number of post-January hours. This value cannot be set directly. You must set the number of pre-January hours.",disabled:!0,value:null===(d=p[1])||void 0===d?void 0:d.hours})]})}return Object(f.jsxs)(ge,{children:[Object(f.jsxs)(we,{children:[Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Position"}),Object(f.jsx)(as,{id:"position-input",ignoreDiacritics:!0,placeholder:"Position...",multiple:!0,labelKey:function(e){return"".concat(e.position_code," (").concat(e.position_title,")")},selected:null==o.position.id?[]:[o.position],options:i,onChange:function(e){var t=e[e.length-1]||{id:null};n(Object(v.a)(Object(v.a)({},o),{},{position:t,position_id:t.id,hours:t.hours_per_assignment,start_date:t.start_date,end_date:t.end_date}))},disabled:a})]}),Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Applicant"}),Object(f.jsx)(as,{id:"applicant-input",ignoreDiacritics:!0,placeholder:"Applicant...",multiple:!0,labelKey:function(e){return"".concat(e.first_name," ").concat(e.last_name)},selected:null==o.applicant.id?[]:[o.applicant],options:r,onChange:function(e){var t=e[e.length-1]||{id:null};n(Object(v.a)(Object(v.a)({},o),{},{applicant:t,applicant_id:t.id}))},disabled:a})]})]}),Object(f.jsx)(we,{children:c("Hours","hours","number")}),Object(f.jsx)("h4",{children:"Optional Settings"}),Object(f.jsxs)(we,{children:[c("Start Date","start_date","date"),c("End Date","end_date","date")]}),Object(f.jsxs)(we,{children:[u,l]})]})}var Ls={position:{id:null},applicant:{id:null},position_id:-1,applicant_id:-1};var Us=Object(c.connect)((function(e){return{positions:Object(u.N)(e),applicants:Object(u.e)(e),assignments:Object(u.g)(e)}}),{upsertAssignment:u.bb})((function(e){var t=e.show,n=e.onHide,r=e.positions,o=e.applicants,c=e.assignments,u=e.upsertAssignment,l=s.a.useState(Ls),d=Object(m.a)(l,2),p=d[0],h=d[1],b=s.a.useState(!1),v=Object(m.a)(b,2),j=v[0],g=v[1];function O(){return(O=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,u(p);case 4:return e.prev=4,g(!1),e.finish(4);case 7:n();case 8:case"end":return e.stop()}}),e,null,[[1,,4,7]])})))).apply(this,arguments)}s.a.useEffect((function(){t||h(Ls)}),[t]);var y=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a={delayShow:"",immediateShow:""};return Object(Tt.j)(e.position_id)&&Object(Tt.j)(e.applicant_id)||(a.delayShow="A position and applicant is required"),i.find((function(t){return Object(Tt.j)((t.position||{}).id)===Object(Tt.j)((e.position||{}).id)&&Object(Tt.j)((t.applicant||{}).id)===Object(Tt.j)((e.applicant||{}).id)}))&&(a.immediateShow=Object(f.jsxs)("p",{children:["Another assignment exists with"," ",Object(f.jsxs)("b",{children:["applicant=",null===(t=e.applicant)||void 0===t?void 0:t.first_name," ",null===(n=e.applicant)||void 0===n?void 0:n.last_name]})," ","and"," ",Object(f.jsxs)("b",{children:["position=",null===(r=e.position)||void 0===r?void 0:r.position_code]})]})),a}(p,c),w=j?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;return Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Assignment"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Bs,{positions:r,applicants:o,assignment:p,setAssignment:h}),!j&&y.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:y.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return O.apply(this,arguments)},title:y.delayShow||"Create Position",disabled:!!y.delayShow||!!y.immediateShow,children:[w,"Create Assignment"]})]})]})}));function Ws(e){var t=e.offers;return 0===t.length?Object(f.jsx)("span",{children:"No Offer"}):Object(f.jsxs)("table",{className:"offer-history-details-table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{}),Object(f.jsx)("th",{children:"Status"}),Object(f.jsx)("th",{children:"Hours"}),Object(f.jsx)("th",{children:"Emailed Date"}),Object(f.jsx)("th",{children:"Accepted Date"}),Object(f.jsx)("th",{children:"Rejected Date"}),Object(f.jsx)("th",{children:"Withdrawn Date"})]})}),Object(f.jsx)("tbody",{children:(t||[]).map((function(e,t){var n="/public/contracts/".concat(e.url_token,".pdf");return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)(Vt.a,{href:Object(Tt.f)(n),variant:"light",size:"sm",className:"py-0",title:"Download offer PDF",children:Object(f.jsx)(jt,{})})}),Object(f.jsx)("td",{className:"status ".concat(e.status),children:Object(Tt.b)(e.status)}),Object(f.jsx)("td",{className:"number",children:e.hours}),Object(f.jsx)("td",{title:Object(Tt.e)(e.emailed_date||void 0),children:Object(Tt.d)(e.emailed_date||"")}),Object(f.jsx)("td",{title:Object(Tt.e)(e.accepted_date||void 0),children:Object(Tt.d)(e.accepted_date||"")}),Object(f.jsx)("td",{title:Object(Tt.e)(e.rejected_date||void 0),children:Object(Tt.d)(e.rejected_date||"")}),Object(f.jsx)("td",{title:Object(Tt.e)(e.withdrawn_date||void 0),children:Object(Tt.d)(e.withdrawn_date||"")})]},t)}))})]})}function Gs(e){var t=e.wageChunks;return Object(f.jsxs)("table",{className:"wagechunk-details-table",children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Hours"}),Object(f.jsx)("th",{children:"Rate"}),Object(f.jsx)("th",{children:"Start Date"}),Object(f.jsx)("th",{children:"End Date"})]})}),Object(f.jsx)("tbody",{children:(t||[]).map((function(e,t){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:e.hours}),Object(f.jsx)("td",{children:e.rate}),Object(f.jsx)("td",{children:Object(Tt.d)(e.start_date||"")}),Object(f.jsx)("td",{children:Object(Tt.d)(e.end_date||"")})]},t)}))})]})}function Vs(e){var t=e.assignmentId,n=Object(c.useSelector)(u.g).find((function(e){return e.id===t})),r=!n,i=!(null===n||void 0===n?void 0:n.wage_chunks),a=Object(Nn.a)();return s.a.useEffect((function(){r||(i&&a(Object(u.F)({id:t})),a(Object(u.z)({id:t})))}),[t,a,r,i]),n?Object(f.jsx)("table",{className:"assignment-details-table",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Position"}),Object(f.jsxs)("td",{children:[n.position.position_code," ",n.position.position_title]})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Applicant Name"}),Object(f.jsxs)("td",{children:[n.applicant.last_name,","," ",n.applicant.first_name]})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Total Hours"}),Object(f.jsx)("td",{children:n.hours})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Offer Status"}),Object(f.jsx)("td",{className:"status ".concat(n.active_offer_status),children:Object(Tt.b)(n.active_offer_status||"No Offer")})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Pay Description"}),Object(f.jsx)("td",{children:n.wage_chunks?Object(f.jsx)(Gs,{wageChunks:n.wage_chunks}):Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Offer History"}),Object(f.jsx)("td",{children:n.offers?Object(f.jsx)(Ws,{offers:n.offers}):Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"})})]})]})}):Object(f.jsxs)("div",{children:['No Assignment found with ID "',t,'"']})}function qs(){var e=Object(c.useSelector)(u.g),t=Object(c.useSelector)(Ps).selectedAssignmentIds,n=e.filter((function(e){return t.includes(e.id)})),r=s.a.useState(!1),i=Object(m.a)(r,2),a=i[0],o=i[1];n.sort((function(e,t){var n="".concat(e.position.position_code," ").concat(e.applicant.last_name," ").concat(e.applicant.first_name),r="".concat(t.position.position_code," ").concat(t.applicant.last_name," ").concat(t.applicant.first_name);return n===r?0:n>r?1:-1}));var l=Object(f.jsx)(Qt.a,{variant:"info",children:"There are no selected assignments. You must select assignments to see their details."});n.length>0&&(l=n.map((function(e,t){var n=0===t?null:Object(f.jsx)("hr",{});return Object(f.jsxs)(s.a.Fragment,{children:[n,Object(f.jsx)(Vs,{assignmentId:e.id},t)]},t)})));var d=0===t.length;return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:vt,onClick:function(){return o(!0)},title:d?"You must select an assignment to view its details":"View details of selected assignment(s)",disabled:d,children:"Assignment Details"}),Object(f.jsxs)(Gt.a,{show:a,onHide:function(){return o(!1)},size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Assignment Details"})}),Object(f.jsx)(Gt.a.Body,{children:l}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{variant:"light",onClick:function(){return o(!1)},children:"Close"})})]})]})}var Zs=[{Header:"Last Name",accessor:"applicant.last_name",maxWidth:120},{Header:"First Name",accessor:"applicant.first_name",maxWidth:120},{Header:"Position",accessor:"position.position_code",width:200},{Header:"Hours",accessor:"hours",className:"number-cell",maxWidth:70},{Header:"Status",maxWidth:100,id:"status",accessor:function(e){return"No Contract"===e.active_offer_status?null:e.active_offer_status}}];function Ys(e,t){return Object(Tt.c)(e.position.position_code,t.position.position_code)||Object(Tt.c)(e.applicant.last_name||"",t.applicant.last_name||"")||Object(Tt.c)(e.applicant.first_name,t.applicant.first_name)}function Ks(e){var t=e.data,n=e.visible,r=e.setVisible,o=e.callback,c=e.title,u=e.body,l=e.confirmation,d=s.a.useState(!1),p=Object(m.a)(d,2),h=p[0],b=p[1];function v(){return(v=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,o();case 3:b(!1),r(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=h?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;return t.sort(Ys),Object(f.jsxs)(Gt.a,{show:n,onHide:function(){r(!1)},size:"lg",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:c})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)("div",{className:"mb-3 alert alert-info",role:"alert",children:u}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)(Ft,{filterable:!1,columns:Zs,data:t})})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){r(!1)},variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return v.apply(this,arguments)},children:[j,l]})]})]})}function Js(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(Ct,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Create Offer"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Creating Multiple Offers",body:"You are creating the following ".concat(r.length," offers."),confirmation:"Create ".concat(r.length," Offers")})]})}function Xs(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(At,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Withdraw Offer"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Withdrawing Multiple Offers",body:"You are withdrawing from the following ".concat(r.length," offers."),confirmation:"Withdraw ".concat(r.length," Offers")})]})}function $s(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(ct,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Email Offer"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Emailing Multiple Offers",body:"You are emailing the following ".concat(r.length," offers."),confirmation:"Email ".concat(r.length," Offers")})]})}function Qs(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(kt,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Nag Offer"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Nagging Multiple Offers",body:"You are nagging the following ".concat(r.length," offers."),confirmation:"Nag ".concat(r.length," Offers")})]})}function ec(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(it,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Set as Accepted"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Accepting Multiple Offers",body:"You are accepting the following ".concat(r.length," offers."),confirmation:"Accept ".concat(r.length," Offers")})]})}function tc(e){var t=e.disabled,n=void 0!==t&&t,r=e.selectedAssignments,i=e.callback,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:Object(f.jsx)(rt,{}),onClick:function(){(null===r||void 0===r?void 0:r.length)>1?u(!0):i()},disabled:n,children:"Set as Rejected"}),Object(f.jsx)(Ks,{data:r,visible:c,setVisible:u,callback:i,title:"Rejecting Multiple Offers",body:"You are rejecting the following ".concat(r.length," offers."),confirmation:"Reject ".concat(r.length," Offers")})]})}var nc={canCreate:function(e){return null==e.active_offer_status||"withdrawn"===e.active_offer_status},canEmail:function(e){return null!=e.active_offer_status&&"withdrawn"!==e.active_offer_status&&"rejected"!==e.active_offer_status},canNag:function(e){return"pending"===e.active_offer_status},canWithdraw:function(e){return null!=e.active_offer_status},canAccept:function(e){return null!=e.active_offer_status},canReject:function(e){return null!=e.active_offer_status}};function rc(e){var t=e.selectedAssignments,n=Object(Nn.a)();var r,i={},a=Object(b.a)(Object.keys(nc));try{for(a.s();!(r=a.n()).done;){var o=r.value;i[o]=0!==t.length&&t.every(nc[o])}}catch(c){a.e(c)}finally{a.f()}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Js,{disabled:!i.canCreate,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.J)(e))})))}}),Object(f.jsx)(Xs,{disabled:!i.canWithdraw,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.M)(e))})))}}),Object(f.jsx)($s,{disabled:!i.canEmail,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.K)(e))})))}}),Object(f.jsx)(Qs,{disabled:!i.canNag,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.L)(e))})))}}),Object(f.jsx)(ec,{disabled:!i.canAccept,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.V)(e))})))}}),Object(f.jsx)(tc,{disabled:!i.canReject,selectedAssignments:t,callback:function(){return Promise.all(t.map((function(e){return n(Object(u.W)(e))})))}})]})}var ic=n(345),ac=n.n(ic);function oc(e){var t=new URL(window.location.origin);return t.pathname="/public/contracts/".concat(e.active_offer_url_token,".pdf"),t.href}function sc(e){return"".concat(e.applicant.last_name,", ").concat(e.applicant.first_name,"_").concat(e.position.position_code,".pdf").replace(/[/\\?%*:|"<>]/g,"-")}function cc(e){var t=e.selectedAssignments,n=s.a.useState(!1),r=Object(m.a)(n,2),o=r[0],c=r[1],u="";function l(){return(l=Object(a.a)(i.a.mark((function e(){var n,r,a,o,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return Promise.all([fetch(oc(e)),sc(e)])})));case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return Promise.all([n.blob(),r])})));case 5:r=e.sent,a=new ac.a,o=Object(b.a)(r);try{for(o.s();!(s=o.n()).done;)c=Object(m.a)(s.value,2),u=c[0],l=c[1],a.file(l,u)}catch(i){o.e(i)}finally{o.f()}return e.next=11,a.generateAsync({type:"blob"});case 11:d=e.sent,rn.a.saveAs(d,"All-Offer-PDFs.zip");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return 0===t.length?u=" (Cannot download offers until some are selected)":t.some((function(e){return!e.active_offer_status}))&&(u=" (Some selected assignments do not have offers)"),Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:ot,disabled:!!u,onClick:function(){return c(!0)},title:"Download PDF copies of selected offers"+u,children:"Download PDFs"}),Object(f.jsx)(Ks,{data:t,visible:o,setVisible:c,callback:function(){return l.apply(this,arguments)},title:"Download offer PDFs",body:"Download PDFs of the following ".concat(t.length," offers."),confirmation:"Download"})]})}var uc=[{Header:"Last Name",accessor:"applicant.last_name"},{Header:"First Name",accessor:"applicant.first_name"},{Header:"Position Code",accessor:"position.position_code"},{Header:"Hours",accessor:"hours",className:"number-cell"},{Header:"Start",accessor:"start_date",Cell:function(e){return Object(Tt.d)(e.value)||""}},{Header:"End",accessor:"end_date",Cell:function(e){return Object(Tt.d)(e.value)||""}}];function lc(e){var t=e.modifiedAssignments;return Object(f.jsx)(dc,{assignments:t,columns:xe(uc)})}function dc(e){var t=e.assignments,n=e.columns,r=void 0===n?uc:n;return Object(f.jsx)(Ft,{data:t,columns:r})}function fc(e){var t=e.disabled,n=void 0!==t&&t,r=e.setExportInProgress,o=void 0===r?null:r,l=Object(Nn.a)(),d=Object(c.useSelector)(u.b),p=s.a.useState(null),h=Object(m.a)(p,2),b=h[0],v=h[1],j=Object(c.useSelector)(Ps).selectedAssignmentIds,g=s.a.useCallback((function(e){"function"===typeof o&&o(e)}),[o]);return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&b){e.next=2;break}return e.abrupt("return");case 2:return v(null),g(!0),e.next=6,l(Object(u.t)(Object(Sn.g)(d,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j;return t&&t.length>0&&(e=e.filter((function(e){return t.includes(e.id)}))),e})),b));case 6:t=e.sent,g(!1),rn.a.saveAs(t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b&&d&&function(){return e.apply(this,arguments)}().catch(console.error)}),[b,l,d,j,g]),Object(f.jsx)(fn,{onClick:function(e){v(e)},disabled:n})}function pc(e){var t=e.disabled,n=void 0!==t&&t,r=e.setImportInProgress,o=void 0===r?null:r,l=Object(Nn.a)(),d=Object(c.useSelector)(u.g),p=Object(c.useSelector)(u.e),h=Object(c.useSelector)(u.N),v=Object(c.useSelector)(u.b),j=s.a.useState(null),g=Object(m.a)(j,2),O=g[0],y=g[1],w=s.a.useState(null),_=Object(m.a)(w,2),x=_[0],S=_[1],k=s.a.useState(null),C=Object(m.a)(k,2),A=C[0],E=C[1],D=s.a.useState(!1),T=Object(m.a)(D,2),N=T[0],P=T[1];function R(){return(R=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=2;break}return e.abrupt("return");case 2:return t=Dn(x),e.next=5,l(Object(u.cb)(t));case 5:y(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){O||x&&S(null)}),[x,S,O]),s.a.useEffect((function(){if(O&&v&&!N)try{E(null);var e,t=Object(Sn.d)(O,Tn.b),n=Object(b.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.hours&&(r.hours=+r.hours)}}catch(a){n.e(a)}finally{n.f()}var i=kn.assignments(t,{assignments:d,positions:h,applicants:p,session:v});S(i)}catch(xp){console.warn(xp),E(xp)}}),[O,d,h,p,v,N]),Object(f.jsx)(xn,{onConfirm:function(){return R.apply(this,arguments)},onFileChange:y,dialogContent:Object(f.jsx)(hc,{diffed:x,processingError:A}),setInProgress:function(e){P(e),"function"===typeof o&&o(e)},disabled:n})}var hc=s.a.memo((function(e){var t=e.diffed,n=e.processingError,r=Object(f.jsx)("p",{children:"No data loaded..."});if(n)r=Object(f.jsx)(Qt.a,{variant:"danger",children:""+n});else if(t){var i=t.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),a=t.filter((function(e){return"modified"===e.status}));r=0===i.length&&0===a.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported assignments and those already on the system."}):Object(f.jsxs)(f.Fragment,{children:[i.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following assignments will be"," ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(dc,{assignments:i})]}),a.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following assignments will be"," ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(lc,{modifiedAssignments:a})]})]})}return r}));function mc(e){return Object(v.a)(Object(v.a)({},e),{},{position_id:e.position.id,applicant_id:e.applicant.id})}function bc(e){var t=e.show,n=e.onHide,r=e.assignment,o=e.upsertAssignment,c=s.a.useState((function(){return mc(r)})),u=Object(m.a)(c,2),l=u[0],d=u[1],p=s.a.useState(!1),h=Object(m.a)(p,2),b=h[0],j=h[1];function g(){return(g=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,(t=Object(v.a)({},l)).start_date===r.start_date&&t.end_date===r.end_date||t.wage_chunks||(t.wage_chunks=[{start_date:t.start_date,end_date:t.end_date,hours:t.hours}]),e.next=6,o(t);case 6:return e.prev=6,j(!1),e.finish(6);case 9:n();case 10:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))).apply(this,arguments)}s.a.useEffect((function(){t||d(mc(r))}),[t,r]);var O=b?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,y={};return["rejected","pending","accepted"].includes(r.active_offer_status||"")&&(y.immediateShow=Object(f.jsxs)(s.a.Fragment,{children:["This assignment currently has an active offer. You must first"," ",Object(f.jsx)("b",{children:"withdraw"})," the existing offer before making a modification."]})),Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Edit Assignment"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Bs,{positions:[r.position],applicants:[r.applicant],assignment:l,setAssignment:d,lockPositionAndApplicant:!0}),!b&&y.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:y.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return g.apply(this,arguments)},title:"Modify Assignment",disabled:!!y.immediateShow,children:[O,"Modify Assignment"]})]})]})}function vc(e){var t=e.assignment,n=e.show,r=e.onHide,o=Object(Nn.a)(),c=s.a.useCallback(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Object(u.bb)(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o]);return t?Object(f.jsx)(bc,{show:n,onHide:r,assignment:t,upsertAssignment:c}):null}function jc(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],l=a[1],d=Object(c.useSelector)(u.b),p=s.a.useState(!1),h=Object(m.a)(p,2),v=h[0],j=h[1],g=Object(c.useSelector)(Ps).selectedAssignmentIds,O=Object(c.useSelector)(u.g),y=s.a.useMemo((function(){var e,t={},n=Object(b.a)(O);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(i){n.e(i)}finally{n.f()}return t}),[O]),w=s.a.useMemo((function(){return g.map((function(e){return y[e]}))}),[g,y]);return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},disabled:!d,children:"Add Assignment"}),Object(f.jsx)(cc,{selectedAssignments:w}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(pc,{disabled:!d,setImportInProgress:j}),Object(f.jsx)(fc,{disabled:!d,setExportInProgress:j}),Object(f.jsx)(un,{children:"Selected Assignment Actions"}),Object(f.jsx)(qs,{}),Object(f.jsx)(rc,{selectedAssignments:w}),Object(f.jsx)(ln,{disabled:!(1===w.length),title:1===w.length?"Edit the selected assignment":"Please select a single assignment to edit (you cannot edit multiple assignments at the same time)",onClick:function(){return l(!0)},icon:Object(f.jsx)(st,{}),children:"Edit Assignment"})]}),Object(f.jsxs)(In,{children:[d?null:Object(f.jsx)(Gn,{extraText:"To view or modify assignments, you must select a session."}),v?Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Zt.a,{animation:"border",className:"mr-2"}),"In Progress"]}):Object(f.jsx)(Fs,{}),Object(f.jsx)(Us,{show:n,onHide:function(){r(!1)}}),Object(f.jsx)(vc,{show:o,onHide:function(){l(!1)},assignment:w[0]})]})]})}var gc={template_name:"",template_file:""};function Oc(e){var t=e.contractTemplate,n=e.setContractTemplate,r=e.availableTemplates,i=void 0===r?[]:r,a=Object(v.a)(Object(v.a)({},gc),t);var o=ye(a,n);return Object(f.jsxs)(ge,{children:[Object(f.jsx)(we,{children:o('Template Name (e.g. "OTO" "Invigilate")',"template_name")}),Object(f.jsx)(we,{children:Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{title:"This file is stored on the server; you can edit it there.",children:"Template File"}),Object(f.jsx)(as,{id:"file-name-input",ignoreDiacritics:!0,placeholder:"File name...",multiple:!0,selected:a.template_file?[a.template_file]:[],options:i.map((function(e){return e.template_file})),onChange:function(e){var t=e[e.length-1]||"";n(Object(v.a)(Object(v.a)({},a),{},{template_file:t}))},labelKey:function(e){return"".concat(e)}})]})})]})}var yc={template_name:"",template_file:""};function wc(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,i=e.contractTemplates,a=e.availableTemplates,o=e.upsertContractTemplate,c=e.fetchAllContractTemplates,u=s.a.useState(yc),l=Object(m.a)(u,2),d=l[0],p=l[1];s.a.useEffect((function(){t?c():p(yc)}),[t,c]);var h=function(e,t){var n={delayShow:"",immediateShow:""};Object(Tt.j)(e.template_name)&&Object(Tt.j)(e.template_file)||(n.delayShow="A template name and template file is required");var r=t.find((function(t){return Object(Tt.j)(t.template_name)===Object(Tt.j)(e.template_name)}));return r&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another contract template exists with name=",e.template_name,":"," ",Object(f.jsxs)("b",{children:[r.template_name," ",r.template_file]})]})),n}(d,i);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Contract Template"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Oc,{contractTemplate:d,setContractTemplate:p,availableTemplates:a}),h.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:h.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){o(d),r()},title:h.delayShow||"Create Contract Template",disabled:!!h.delayShow||!!h.immediateShow,children:"Create Contract Template"})]})]})}function _c(e){var t=Object(c.useSelector)(u.h),n=Object(c.useSelector)(u.d),r=Object(Nn.a)(),i=s.a.useCallback((function(e){return r(Object(u.db)(e))}),[r]),a=s.a.useCallback((function(){return r(Object(u.y)())}),[r]);return Object(f.jsx)(wc,Object(v.a)({contractTemplates:t,availableTemplates:n,upsertContractTemplate:i,fetchAllContractTemplates:a},e))}var xc=[{Header:"Template Name",accessor:"template_name"},{Header:"Template File",accessor:"template_file"}];function Sc(e){var t=e.contractTemplates,n=e.columns,r=void 0===n?xc:n;return Object(f.jsx)(Ft,{data:t,columns:r,filterable:!0})}var kc=n(455);function Cc(e){var t=e.show,n=e.onClose,r=e.template_id,o=s.a.useState(!1),c=Object(m.a)(o,2),l=c[0],d=c[1],p=s.a.useState({id:null,content:null}),h=Object(m.a)(p,2),b=h[0],v=h[1],j=Object(Nn.a)();function g(){return(g=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j(Object(u.q)(r));case 4:t=e.sent,rn.a.saveAs(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){null!=r&&r!==b.id?(d(!0),j(Object(u.P)(r)).then((function(e){v({id:r,content:e})})).finally((function(){return d(!1)}))):d(!1)}),[r,d,b.id,j]),Object(f.jsxs)(Gt.a,{size:"xl",show:t,onHide:n,dialogClassName:"fullscreen-modal",children:[Object(f.jsx)(kc.a,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Previewing Template"})}),Object(f.jsxs)(Gt.a.Body,{className:"d-flex",children:[Object(f.jsx)("p",{children:"The template you are previewing has its fields filled in with dummy values. These values will be replaced with correct values when the template is used to create a contract."}),l&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsx)(Zt.a,{animation:"border",className:"mr-3"}),"Loading Template..."]}),null!=r&&!l&&Object(f.jsx)("iframe",{style:{border:"1px solid black",width:"100%",flexGrow:1},srcDoc:l?void 0:b.content||void 0,title:"Contract template preview"})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsxs)(Vt.a,{title:"Download a copy of this template. The downloaded copy will have no substitutions made and will be suitable for editing.",onClick:function(){return g.apply(this,arguments)},variant:"link",children:[Object(f.jsx)(ot,{className:"mr-2"}),"Download Template"]}),Object(f.jsx)(Vt.a,{variant:"secondary",onClick:n,children:"Close"})]})]})}function Ac(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(null),a=Object(m.a)(i,2),o=a[0],l=a[1],d=Object(c.useSelector)(u.h),p=[{Header:"Template Name",accessor:"template_name",width:200},{Header:"Template File",accessor:"template_file",Cell:function(e){var t=e.row.original,n=t.id,i=t.template_file;return Object(f.jsxs)("div",{children:[Object(f.jsx)(Vt.a,{variant:"light",size:"sm",className:"mr-2 py-0",title:"Preview Template",onClick:function(){return function(e){l(e),r(!0)}(n)},children:Object(f.jsx)(jt,{})}),i]})},width:400}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Sc,{contractTemplates:d,columns:p}),Object(f.jsx)(Cc,{show:n,onClose:function(){return r(!1)},template_id:o})]})}function Ec(e){var t=e.disabled,n=void 0!==t&&t,r=Object(Nn.a)(),o=s.a.useState(null),c=Object(m.a)(o,2),l=c[0],d=c[1],p=s.a.useState("Select an HTML template file."),h=Object(m.a)(p,2),b=h[0],v=h[1],j=s.a.useState(!1),g=Object(m.a)(j,2),O=g[0],y=g[1],w=s.a.useState(!1),_=Object(m.a)(w,2),x=_[0],S=_[1];function k(){return(k=Object(a.a)(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.files)?(r=t.target.files[0],d(r),v(r.name)):d(null);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=8;break}return S(!0),e.prev=2,e.next=5,r(Object(u.X)(l));case 5:return e.prev=5,S(!1),e.finish(5);case 8:A();case 9:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function A(){y(!1),v("Select an HTML template file."),d(null)}var E=x?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ln,{icon:St,onClick:function(){return y(!0)},disabled:n,children:"Upload Contract Template"}),Object(f.jsxs)(Gt.a,{show:O,onHide:A,size:"lg",dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Import From File"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsxs)(vn,{children:[Object(f.jsx)(yn,{className:"mb-3",children:Object(f.jsx)(oe,{children:Object(f.jsx)(ge,{children:Object(f.jsx)(ge.File,{label:b,onChange:function(e){return k.apply(this,arguments)},custom:!0})})})}),Object(f.jsx)(yn,{children:Object(f.jsx)(oe,{children:Object(f.jsxs)("p",{children:["A template is an HTML file with special substitution strings (words surrounded by"," ","{{"," and ","}}",") that will be replaced with assignment-specific values when rendered as a contract."]})})})]})}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{variant:"secondary",onClick:A,children:"Cancel"}),Object(f.jsxs)(Vt.a,{variant:"primary",disabled:!l,title:l?"Upload '".concat(b,"' to TAPP"):"You must select a file to upload.",onClick:function(){return C.apply(this,arguments)},children:[E,Object(f.jsx)(St,{className:"mr-2"}),"Upload"]})]})]})]})}function Dc(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=Object(c.useSelector)(u.b);return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},disabled:!i,children:"Add Contract Template"}),Object(f.jsx)(Ec,{disabled:!i})]}),Object(f.jsxs)(In,{children:[i?null:Object(f.jsx)(Gn,{extraText:"To view or modify contract templates, you must select a session."}),Object(f.jsx)(Ac,{}),Object(f.jsx)(_c,{show:n,onHide:function(){r(!1)}})]})]})}var Tc={utorid:"<noid>",roles:[]};function Nc(e){var t=s.a.useState(!1),n=Object(m.a)(t,2),r=n[0],i=n[1],a=e.activeUser,o=void 0===a?Tc:a,c=e.activeRole,u=e.setActiveUserRole,l=o.roles,d=c?Object(f.jsx)("span",{className:"text-primary mr-2",children:c}):Object(f.jsx)("span",{className:"text-secondary mr-2",children:"Select a role"}),p=function(e){return c===e};return Object(f.jsxs)(Rt,{children:["Login: ",o.utorid," as",Object(f.jsxs)(an.a,{onSelect:function(e){null!=e&&u(l[+e])},onToggle:function(e){return i(e)},show:r,alignRight:!0,children:[Object(f.jsx)(an.a.Toggle,{split:!0,variant:"light",children:d}),Object(f.jsx)(an.a.Menu,{flip:!0,children:(l||[]).map((function(e,t){return Object(f.jsx)(an.a.Item,{eventKey:""+t,active:p(e),children:e},t)}))})]})]})}var Pc=s.a.forwardRef((function(e,t){var n=e.children,r=e.style,i=e.className,a=e.clearFilter,o=s.a.useState(""),c=Object(m.a)(o,2),u=c[0],l=c[1];s.a.useEffect((function(){a&&l("")}),[a]);var d=s.a.Children.toArray(n).filter((function(e){var t=!1;return t="string"===typeof e?e.includes(u.trim()):"number"===typeof e?(""+e).includes(u.trim()):e.props.children.toLowerCase().includes(u.trim()),!u.trim()||t})),p=0===n.length?"No Available Sessions":"No Matching Sessions";return Object(f.jsxs)("div",{style:r,className:i,ref:t,children:[Object(f.jsx)(Q,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",title:"Filter sessions",onChange:function(e){l(e.currentTarget.value)},value:u,tabIndex:0}),Object(f.jsx)("ul",{className:"list-unstyled my-0",children:d.length>0?d:Object(f.jsx)("li",{className:"dropdown-item text-muted",children:p})})]})}));function Rc(e){var t=e.items,n=e.activeItemId,r=e.clearFilter;return Object(f.jsx)(an.a.Menu,{as:Pc,clearFilter:r,children:t.map((function(e,t){return Object(f.jsx)(an.a.Item,{eventKey:""+t,active:n===e.id,children:e.name},e.id)}))})}function Hc(e){var t=e.sessions,n=void 0===t?[]:t,r=e.activeSession,i=e.setActiveSession,a=s.a.useState(!1),o=Object(m.a)(a,2),c=o[0],u=o[1],l=r?r.id:null,d=Object(f.jsx)("span",{className:"text-secondary mr-2",children:"Select a Session"});return null!=r&&(d=Object(f.jsx)("span",{className:"text-primary mr-2",children:r.name})),Object(f.jsxs)(Rt,{children:["Selected session:",Object(f.jsxs)(an.a,{onSelect:function(e){i(null==e?null:n[+e])},onToggle:function(e){return u(e)},show:c,children:[Object(f.jsx)(an.a.Toggle,{split:!0,variant:"light",children:d}),Object(f.jsx)(Rc,{items:n,activeItemId:l,clearFilter:!c})]})]})}function Ic(){var e=Object(c.useSelector)(u.Q),t=Object(c.useSelector)(u.b),n=Object(Nn.a)();return Object(f.jsx)(Hc,{sessions:e,activeSession:t,setActiveSession:function(e){return n(Object(u.R)(e))}})}function Fc(){var e=Object(c.useSelector)(u.c),t=Object(c.useSelector)(u.a),n=Object(Nn.a)();return Object(f.jsx)(Nc,{activeUser:e,activeRole:t,setActiveUserRole:function(e){return n(Object(u.S)(e))}})}function zc(){var e=Object(c.useSelector)(u.b),t=Object(f.jsxs)(f.Fragment,{children:["There is currently ",Object(f.jsx)("b",{className:"text-primary",children:"no active session"})," ","selected. Please select one below."]});return e&&(t=Object(f.jsxs)(f.Fragment,{children:["The current active session is"," ",Object(f.jsx)("b",{className:"text-primary",children:e.name}),". You may select a different session below."]})),Object(f.jsx)("div",{className:"page-body",children:Object(f.jsxs)(In,{children:[Object(f.jsx)("h2",{children:"Welcome to TAPP!"}),Object(f.jsx)("p",{children:"TAPP is a TA administration program designed for creating and distributing TA contracts."}),Object(f.jsxs)("p",{children:["In order to use most features of TAPP, you need to select a"," ",Object(f.jsx)("i",{children:"session"}),". ",t]}),Object(f.jsx)(Ic,{})]})})}var Mc=[{Header:"Last Name",accessor:"last_name"},{Header:"First Name",accessor:"first_name"},{Header:"UTORid",accessor:"utorid"},{Header:"Student Number",accessor:"student_number"},{Header:"Email",accessor:"email"},{Header:"Phone",accessor:"phone"}];function Bc(e){var t=e.modifiedApplicants;return Object(f.jsx)(Lc,{applicants:t,columns:xe(Mc)})}function Lc(e){var t=e.applicants,n=e.columns,r=void 0===n?Mc:n;return Object(f.jsx)(Ft,{columns:r,data:t,filterable:!0})}var Uc={first_name:"",last_name:"",email:"",utorid:"",phone:"",student_number:""};function Wc(e){var t=e.applicant,n=e.setApplicant,r=Object(v.a)(Object(v.a)({},Uc),t);function i(e){return function(t){var i=t.target.value||"",a=Object(v.a)(Object(v.a)({},r),{},Object(Oe.a)({},e,i));n(a)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:e}),Object(f.jsx)(ge.Control,{type:n,value:r[t]||"",onChange:i(t)})]})}return Object(f.jsx)(ge,{children:Object(f.jsxs)(ge.Row,{children:[Object(f.jsxs)(we,{children:[a("First Name","first_name"),a("Last Name","last_name")]}),Object(f.jsxs)(we,{children:[a("Email","email"),a("UTORid","utorid")]}),Object(f.jsxs)(we,{children:[a("Student Number","student_number"),a("Phone","phone")]})]})})}function Gc(e){var t=e.show,n=e.onHide,r=e.onDelete,i=e.applicant;return Object(f.jsxs)(Gt.a,{show:t,onHide:n,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Delete Applicant"})}),Object(f.jsxs)(Gt.a.Body,{children:["Are you sure you want to delete the applicant"," ",Object(f.jsx)("span",{className:"text-info font-weight-bold",children:i?"".concat(i.first_name," ").concat(i.last_name):null}),"? This action cannot be undone."]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:n,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:r,title:"Delete Applicant",children:"Delete"})]})]})}function Vc(e){var t,n=e.inDeleteMode,r=void 0!==n&&n,o=Object(c.useSelector)(u.e),l=Object(c.useSelector)(u.g),d=s.a.useState(null),p=Object(m.a)(d,2),h=p[0],j=p[1],g=Object(Nn.a)(),O={},y=Object(b.a)(l);try{for(y.s();!(t=y.n()).done;){var w=t.value;O[w.applicant.id]=!0}}catch(k){y.e(k)}finally{y.f()}function _(e){return g(Object(u.Y)(e))}function x(e){return function(t){return Object(f.jsx)(Xt,Object(v.a)({field:e,upsert:_},t))}}var S=[{Header:Object(f.jsx)(xt,{className:"delete-row-column-header-icon"}),Cell:function(e){var t=e.row,n=t.original||t._original;return O[n.id]?Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(ft,{className:"delete-row-button disabled",title:"This applicant has an associated assignment and so cannot be deleted."})}):Object(f.jsx)("div",{className:"delete-button-container",children:Object(f.jsx)(_t,{className:"delete-row-button",title:"Delete ".concat(n.last_name,", ").concat(n.first_name),onClick:function(){j(n)}})})},id:"delete_col",className:"delete-col",show:r,maxWidth:32,resizable:!1},{Header:Ln("Last Name"),accessor:"last_name",Cell:x("last_name")},{Header:Ln("First Name"),accessor:"first_name",Cell:x("first_name")},{Header:Ln("Email"),accessor:"email",Cell:x("email")},{Header:Ln("UTORid"),accessor:"utorid",Cell:x("utorid")},{Header:Ln("Student Number"),accessor:"student_number",Cell:x("student_number")},{Header:Ln("Phone"),accessor:"phone",Cell:x("phone")}];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Lc,{applicants:o,columns:S}),Object(f.jsx)(Gc,{applicant:h,show:!!h,onHide:function(){return j(null)},onDelete:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==h){e.next=4;break}return e.next=3,g(Object(u.l)(h));case 3:j(null);case 4:case"end":return e.stop()}}),e)})))})]})}var qc={first_name:"",last_name:"",email:"",utorid:"",phone:"",student_number:""};function Zc(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,o=s.a.useState(qc),l=Object(m.a)(o,2),d=l[0],p=l[1],h=s.a.useState(!1),b=Object(m.a)(h,2),v=b[0],j=b[1],g=Object(c.useSelector)(u.e),O=Object(Nn.a)();function y(e){return O(Object(u.Y)(e))}function w(){return(w=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,y(d);case 3:j(!1),r();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.useEffect((function(){t||p(qc)}),[t]);var _=v?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,x=function(e,t){var n={delayShow:"",immediateShow:""};Object(Tt.j)(e.utorid||"")&&Object(Tt.j)(e.first_name||"")&&Object(Tt.j)(e.last_name||"")||(n.delayShow="A first name, last name, and utorid is required");var r=t.find((function(t){return Object(Tt.j)(t.utorid)===Object(Tt.j)(e.utorid||"")}));return r&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another applicant exists with utorid=",e.utorid,":"," ",Object(f.jsxs)("b",{children:[r.first_name," ",r.last_name]})]})),n}(d,g);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Applicant"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Wc,{applicant:d,setApplicant:p}),x.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:x.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return w.apply(this,arguments)},title:x.delayShow||"Create Instructor",disabled:!!x.delayShow||!!x.immediateShow,children:[_,"Create Applicant"]})]})]})}function Yc(){var e=Object(Nn.a)(),t=s.a.useState(null),n=Object(m.a)(t,2),r=n[0],o=n[1];return s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(null),null!=r){t.next=3;break}throw new Error("Unknown export type ".concat(r));case 3:return t.next=5,e(Object(u.r)(Sn.e,r));case 5:n=t.sent,rn.a.saveAs(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&function(){return t.apply(this,arguments)}().catch(console.error)}),[r,e]),Object(f.jsx)(fn,{onClick:function(e){o(e)}})}function Kc(){var e=Object(Nn.a)(),t=Object(c.useSelector)(u.e),n=s.a.useState(null),r=Object(m.a)(n,2),o=r[0],l=r[1],d=s.a.useState(null),p=Object(m.a)(d,2),h=p[0],b=p[1],v=s.a.useState(null),j=Object(m.a)(v,2),g=j[0],O=j[1],y=s.a.useState(!1),w=Object(m.a)(y,2),_=w[0],x=w[1];function S(){return(S=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(h){t.next=2;break}throw new Error("Unable to compute an appropriate diff");case 2:return n=Dn(h),t.next=5,e(Object(u.Z)(n));case 5:l(null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.a.useEffect((function(){o||h&&b(null)}),[h,b,o]),s.a.useEffect((function(){if(o&&!_)try{O(null);var e=Object(Sn.d)(o,Tn.a),n=kn.applicants(e,{applicants:t});b(n)}catch(xp){console.warn(xp),O(xp)}}),[o,t,_]);var k=Object(f.jsx)("p",{children:"No data loaded..."});if(g)k=Object(f.jsx)(Qt.a,{variant:"danger",children:""+g});else if(h){var C=h.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),A=h.filter((function(e){return"modified"===e.status}));k=0===C.length&&0===A.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported applicants and those already on the system."}):Object(f.jsxs)(f.Fragment,{children:[C.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following ",Object(f.jsx)("strong",{children:C.length})," ","applicant",C.length>1?"s":""," will be ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(Lc,{applicants:C})]}),A.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following applicants will be"," ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(Bc,{modifiedApplicants:A})]})]})}return Object(f.jsx)(xn,{onConfirm:function(){return S.apply(this,arguments)},onFileChange:l,dialogContent:k,setInProgress:x})}function Jc(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],c=a[1];return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},children:"Add Applicant"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(xt,{}),onClick:function(){return c(!o)},active:o,children:"Delete Applicant"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(Kc,{}),Object(f.jsx)(Yc,{})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)(Zc,{show:n,onHide:function(){r(!1)}}),Object(f.jsx)(Vc,{inDeleteMode:o})]})]})}var Xc=n(141),$c=n(168);function Qc(e){return Math.abs(e.total_hours-e.assignment.hours)>.001?"Hours Mismatch (".concat(e.total_hours," vs. ").concat(e.assignment.hours,")"):null}function eu(e){switch(e.status){case"accepted":return"Accepted";case"emailed":return"Pending";default:return"Unsent"}}function tu(e){var t=Math.max.apply(null,[e.accepted_date,e.approved_date,e.emailed_date,e.revised_date].filter((function(e){return e})).map((function(e){return new Date(e||0)})));return t<=0?null:Object(Tt.d)(new Date(t).toISOString())}function nu(e){var t=e.indexOf(":");return t<0?{category:"other",description:e}:{category:e.slice(0,t),description:e.slice(t+1)}}var ru=[{Header:"Position",accessor:"assignment.position.position_code",maxWidth:120},{Header:"Last Name",accessor:"assignment.applicant.last_name",maxWidth:120},{Header:"First Name",accessor:"assignment.applicant.first_name",maxWidth:120},{Header:"Total Hours",accessor:"total_hours",maxWidth:100,className:"number-cell"},{Header:"Duties",accessor:"duties"}];function iu(e){var t=e.modifiedDdahs;return t=t.map((function(e){return null==e.obj.duties||"string"===typeof e.obj.duties?e:Object(v.a)(Object(v.a)({},e),{},{obj:Object(v.a)(Object(v.a)({},e.obj),{},{duties:Cn(e.obj.duties)})})})),Object(f.jsx)(au,{ddahs:t,columns:xe(ru)})}function au(e){var t=e.ddahs,n=e.columns,r=void 0===n?ru:n,i=t.map((function(e){return null==e.duties||"string"===typeof e.duties?e:Object(v.a)(Object(v.a)({},e),{},{duties:Cn(e.duties)})}));return Object(f.jsx)(Ft,{data:i,columns:r})}var ou={assignment:null,duties:[]};function su(e){var t=e.duty,n=e.removeDuty,r=e.upsertDuty,i=nu(t.description),a=i.category,o=i.description;return Object(f.jsxs)(we,{icon:Object(f.jsx)(Vt.a,{title:"Remove duty",onClick:function(){return n(t)},variant:"outline-info",children:Object(f.jsx)(xt,{})}),colStretch:[1,2,7],children:[Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Hours"}),"note"===a?Object(f.jsx)("div",{}):Object(f.jsx)(ge.Control,{type:"number",value:t.hours,onChange:function(e){return r(Object(v.a)(Object(v.a)({},t),{},{hours:Object($c.b)(e.target.value)}))}})]}),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Category"}),Object(f.jsxs)(ge.Control,{title:"Enter what category these duties fit into",as:"select",value:a,onChange:function(e){var n=Object(v.a)({},t),i=e.target.value;return"note"===i&&(n.hours=0),r(Object(v.a)(Object(v.a)({},n),{},{description:"".concat(i,":").concat(o)}))},children:[Object(f.jsx)("option",{value:"note",children:"Note"}),Object(f.jsx)("option",{value:"meeting",children:"Meetings"}),Object(f.jsx)("option",{value:"prep",children:"Preparation"}),Object(f.jsx)("option",{value:"contact",children:"Contact time"}),Object(f.jsx)("option",{value:"other",children:"Other duties"}),Object(f.jsx)("option",{value:"marking",children:"Marking/Grading"}),Object(f.jsx)("option",{value:"training",children:"Training"})]})]}),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Description"}),Object(f.jsx)(ge.Control,{title:"Enter a description of what these hours are allocated for",type:"input",value:o,onChange:function(e){return r(Object(v.a)(Object(v.a)({},t),{},{description:"".concat(a,":").concat(e.target.value)}))}})]})]})}function cu(e){var t,n=s.a.useState(!0),r=Object(m.a)(n,2),i=r[0],a=r[1],o=e.ddah,c=e.setDdah,u=e.assignments,l=void 0===u?[]:u,d=e.editableAssignment,p=void 0===d||d,h=Object(v.a)(Object(v.a)({},ou),o),j=h.assignment?" ".concat(h.assignment.position.position_code," for ").concat(h.assignment.applicant.last_name,", ").concat(h.assignment.applicant.first_name):"No Assignment";p&&(j=Object(f.jsx)(as,{id:"position-input",ignoreDiacritics:!0,placeholder:"Assignment...",multiple:!0,labelKey:function(e){return"".concat(e.position.position_code," for ").concat(e.applicant.first_name," ").concat(e.applicant.last_name)},selected:null==h.assignment?[]:[h.assignment],options:l,onChange:function(e){var t=e[e.length-1]||null;c(Object(v.a)(Object(v.a)({},h),{},{assignment:t}))}}));var g=Object(f.jsx)(Vt.a,{variant:"outline-info",size:"sm",onClick:function(){return a(!0)},className:"float-right",children:"Show Instructions"});i&&(g=Object(f.jsxs)(Qt.a,{variant:"info",onClose:function(){return a(!1)},dismissible:!0,children:[Object(f.jsxs)("p",{children:["A DDAH describes all duties and the amount of time allocated to each duty. A DDAH should also include a breakdown of when assignments are expected to be due, how long it will take to mark them, and the expected turnaround time. This information should be included in the description of every"," ",Object(f.jsx)("em",{children:"Marking/Grading"})," duty."]}),Object(f.jsxs)("p",{className:"mb-1",children:["A ",Object(f.jsx)("em",{children:"Note"})," provides information that doesn't correspond to specific hours. Information that should be included as a"," ",Object(f.jsx)("em",{children:"Note"})," include"," "]}),Object(f.jsxs)("ul",{className:"mb-0 mt-0",children:[Object(f.jsxs)("li",{children:["The"," ",Object(f.jsx)("em",{children:"Enrollment per TA Section at the time of the DDAH"})]}),Object(f.jsx)("li",{children:"The estimated enrollment in the course"}),Object(f.jsx)("li",{children:"The tutorial category (discussion-based/skill-development/exam review/practical)"}),Object(f.jsx)("li",{children:"Whether tutorials have 30-or-less students or more than 30 students"})]})]}));var O=Object(We.a)(h.duties);O.sort((function(e,t){return e.order-t.order}));var y,w=Math.max.apply(Math,Object(We.a)(O.map((function(e){return e.order}))).concat([0]))+1,_=0,x=Object(b.a)(O);try{for(x.s();!(y=x.n()).done;){_+=y.value.hours}}catch(A){x.e(A)}finally{x.f()}var S=!!h.assignment&&h.assignment.hours!==_;function k(e){var t=O.filter((function(t){return t.order!==e.order}));t.push(e),c(Object(v.a)(Object(v.a)({},h),{},{duties:t}))}function C(e){var t=O.filter((function(t){return t.order!==e.order}));c(Object(v.a)(Object(v.a)({},h),{},{duties:t}))}return Object(f.jsxs)(s.a.Fragment,{children:[g,Object(f.jsxs)(ge,{children:[Object(f.jsx)(we,{children:Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Assignment"}),j]})}),Object(f.jsx)("h4",{children:"Duties"}),O.map((function(e){return Object(f.jsx)(su,{duty:e,removeDuty:C,upsertDuty:k},e.order)})),Object(f.jsx)(we,{children:Object(f.jsxs)(Vt.a,{variant:"outline-info",onClick:function(){return k({description:"",hours:0,order:w})},children:[Object(f.jsx)(mt,{className:"add-duty-btn-icon"}),"Add Duty"]})}),Object(f.jsx)(we,{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:S?"add-ddah-hours-mismatch":"",children:_})," ","of ",h.assignment?h.assignment.hours:"?"," hours allocated"," ",S?"(".concat(((null===(t=h.assignment)||void 0===t?void 0:t.hours)||0)-_," unassigned)"):""]})})]})]})}var uu={assignment:null,duties:[]};function lu(e){var t,n=e.show,r=e.onHide,o=void 0===r?function(){}:r,l=s.a.useState(uu),d=Object(m.a)(l,2),p=d[0],h=d[1],v=s.a.useState(!1),j=Object(m.a)(v,2),g=j[0],O=j[1],y=Object(c.useSelector)(Xc.b),w=Object(Nn.a)(),_={},x=Object(b.a)(y);try{for(x.s();!(t=x.n()).done;){var S=t.value;_[S.assignment.id]=!0}}catch(T){x.e(T)}finally{x.f()}var k=Object(c.useSelector)(u.g).filter((function(e){return!_[e.id]&&"withdrawn"!==e.active_offer_status&&"rejected"!==e.active_offer_status}));function C(e){if(null!=e.assignment){var t={assignment_id:e.assignment.id,duties:e.duties};return w(Object(Xc.h)(t))}console.warn("Trying to upsert a DDAH with a null assignment reference")}function A(){return(A=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,C(p);case 3:O(!1),o();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.useEffect((function(){n||h(uu)}),[n]);var E=g?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,D=function(e,t){var n={delayShow:"",immediateShow:""};if(0===e.duties.length&&(n.delayShow="A DDAH must have at least one duty"),null==e.assignment)return n.delayShow="A DDAH can only be created for an existing assignment",n;var r=t.find((function(t){return t.assignment.id===(e.assignment||{}).id}));return r&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another DDAH exists for assignment=",e.assignment.position.position_code,":"," ",Object(f.jsxs)("b",{children:[r.assignment.applicant.first_name," ",r.assignment.applicant.last_name]})]})),n}(p,y);return Object(f.jsxs)(Gt.a,{show:n,onHide:o,size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add DDAH"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(cu,{ddah:p,setDdah:h,assignments:k}),!g&&D.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:D.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:o,variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return A.apply(this,arguments)},title:D.delayShow||"Create DDAH",disabled:!!D.delayShow||!!D.immediateShow,children:[E,"Create DDAH"]})]})]})}var du=n(50),fu=function(e){return{type:du.a,payload:e}},pu=function(e){return e.ui.ddahsTable};function hu(e){var t=e.disabled,n=void 0!==t&&t,r=Object(Nn.a)(),o=s.a.useState(null),u=Object(m.a)(o,2),l=u[0],d=u[1],p=Object(c.useSelector)(pu).selectedDdahIds;return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),e.next=3,r(Object(Xc.f)(Object(Sn.h)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return t&&t.length>0&&(e=e.filter((function(e){return t.includes(e.id)}))),e})),l));case 3:t=e.sent,rn.a.saveAs(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l&&function(){return e.apply(this,arguments)}().catch(console.error)}),[l,r,p]),Object(f.jsx)(fn,{onClick:function(e){d(e)},disabled:n})}function mu(e){var t=e.disabled,n=void 0!==t&&t,r=e.setImportInProgress,o=void 0===r?null:r,l=Object(Nn.a)(),d=Object(c.useSelector)(Xc.b),p=Object(c.useSelector)(u.g),h=Object(c.useSelector)(u.e),b=s.a.useState(null),v=Object(m.a)(b,2),j=v[0],g=v[1],O=s.a.useState(null),y=Object(m.a)(O,2),w=y[0],_=y[1],x=s.a.useState(null),S=Object(m.a)(x,2),k=S[0],C=S[1],A=s.a.useState(!1),E=Object(m.a)(A,2),D=E[0],T=E[1];function N(){return(N=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}throw new Error("Unable to compute an appropriate diff");case 2:return t=Dn(w),e.next=5,l(Object(Xc.i)(t));case 5:g(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){j||w&&_(null)}),[w,_,j]),s.a.useEffect((function(){if(j&&!D)try{C(null);var e=Object(Sn.c)(j,h),t=kn.ddahs(e,{ddahs:d,assignments:p});_(t)}catch(xp){console.warn(xp),C(xp)}}),[j,d,p,h,D]),Object(f.jsx)(xn,{onConfirm:function(){return N.apply(this,arguments)},onFileChange:g,dialogContent:Object(f.jsx)(wu,{diffed:w,processingError:k}),setInProgress:function(e){T(e),"function"===typeof o&&o(e)},disabled:n})}var bu={duties:[{order:1,hours:0,description:""},{order:2,hours:0,description:""},{order:3,hours:0,description:""},{order:4,hours:0,description:""}]};function vu(e,t){var n,r={},i=Object(b.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a.assignment.id]=a}}catch(m){i.e(m)}finally{i.f()}var o=t.map((function(e){return"rejected"===e.active_offer_status||"withdrawn"===e.active_offer_status?null:r[e.id]?r[e.id]:Object(v.a)(Object(v.a)({},bu),{},{assignment:e})})).filter((function(e){return e}));o.sort((function(e,t){var n=e.assignment,r=t.assignment,i="".concat(n.position.position_code," ").concat(n.applicant.last_name," ").concat(n.applicant.first_name),a="".concat(r.position.position_code," ").concat(r.applicant.last_name," ").concat(r.applicant.first_name);return i===a?0:i>a?1:-1}));var s,c=new Set,u=Object(b.a)(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;c.add(l.assignment.position.position_code)}}catch(m){u.e(m)}finally{u.f()}for(var d={},f=function(){var e=h[p];d[e]=Sn.n.ddah(o.filter((function(t){return t.assignment.position.position_code===e})))},p=0,h=Array.from(c);p<h.length;p++)f();return d}function ju(e){return gu.apply(this,arguments)}function gu(){return(gu=Object(a.a)(i.a.mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new ac.a,r=0,a=Object.entries(t);r<a.length;r++)o=Object(m.a)(a[r],2),s=o[0],c=o[1],u=s.replace(/[^A-z0-9 ]/g,"_"),l=hn.a.utils.book_new(),d=hn.a.utils.aoa_to_sheet(c),hn.a.utils.book_append_sheet(l,d,"".concat(u," DDAHs").slice(0,30)),f=hn.a.write(l,{type:"binary",bookType:"xlsx"}),n.file("".concat(u,"-DDAHs.xlsx"),f,{binary:!0});return e.next=4,n.generateAsync({type:"blob"});case 4:return p=e.sent,e.abrupt("return",p);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ou(e){var t=e.disabled,n=void 0!==t&&t,r=Object(c.useSelector)(u.g),o=Object(c.useSelector)(Xc.b);function s(){return(s=Object(a.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=vu(o,r),e.next=3,ju(t);case 3:n=e.sent,rn.a.saveAs(n,"DDAHs-by-position.zip");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)(ln,{icon:ot,title:"Download by-position spreadsheets appropriate for filling in and uploading to create DDAHs",onClick:function(){return function(){return s.apply(this,arguments)}()},disabled:n,children:"By-Position Templates"})}function yu(e){var t=e.disabled,n=void 0!==t&&t,r=Object(Nn.a)();function o(){return(o=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(Xc.d)());case 2:t=e.sent,rn.a.saveAs(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)(ln,{icon:ot,title:"Download a list of DDAHs that have been signed by TAs this session",onClick:function(){return function(){return o.apply(this,arguments)}()},disabled:n,children:"Signature List"})}var wu=s.a.memo((function(e){var t=e.diffed,n=e.processingError,r=Object(f.jsx)("p",{children:"No data loaded..."});if(n)r=Object(f.jsx)(Qt.a,{variant:"danger",children:""+n});else if(t){var i=t.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),a=t.filter((function(e){return"modified"===e.status}));r=0===i.length&&0===a.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported and existing DDAHs."}):Object(f.jsxs)(f.Fragment,{children:[i.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following DDAHs will be"," ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(au,{ddahs:i})]}),a.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following DDAHs will be"," ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(iu,{modifiedDdahs:a})]})]})}return r}));n(791);function _u(e){var t=e.row,n=e.children,r=void 0===n?null:n,i=t.original;if(null==i.id)return null;var a=eu(i);switch(i.status){case"accepted":return Object(f.jsxs)(s.a.Fragment,{children:[r,Object(f.jsx)("span",{className:"accepted-ddah",children:a})]});default:return Object(f.jsxs)(s.a.Fragment,{children:[r,a]})}}function xu(e){var t=e.row.original;switch(t.issue_code){case"hours_mismatch":return Object(f.jsx)("div",{className:"hours-mismatch-ddah",children:t.issues});case"missing":return Object(f.jsx)("div",{className:"missing-ddah",children:t.issues});default:return null}}function Su(e){var t=e.row,n=e.onClick,r=void 0===n?function(){}:n,i=t.original;return null==i.id?null:Object(f.jsx)(Vt.a,{variant:"light",size:"sm",className:"mr-2 py-0",title:"Preview DDAH",onClick:function(){return r(i.id)},children:Object(f.jsx)(jt,{})})}function ku(e){var t=e.ddah,n=e.show,r=e.onHide,i=void 0===r?function(){}:r,a=e.onApprove,o=void 0===a?function(){}:a,s=e.onEdit,c=void 0===s?function(){}:s,u="No DDAH to preview",l=null;return null!=t&&(u=Object(f.jsx)(Cu,{ddah:t}),l="/public/ddahs/".concat(t.url_token,".pdf")),Object(f.jsxs)(Gt.a,{show:n,onHide:i,dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Previewing DDAH"})}),Object(f.jsx)(Gt.a.Body,{children:u}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{variant:"outline-secondary",onClick:function(){return i()},children:"Close"}),Object(f.jsxs)(Vt.a,{variant:"outline-info",onClick:function(){return c(t)},children:[Object(f.jsx)(st,{className:"mr-2"}),"Edit"]}),l&&Object(f.jsxs)(Vt.a,{title:"Download DDAH.",variant:"link",href:Object(Tt.f)(l),children:[Object(f.jsx)(ot,{className:"mr-2"}),"Download DDAH"]}),Object(f.jsxs)(Vt.a,{onClick:function(){return o(t)},children:[Object(f.jsx)(it,{className:"mr-2"}),"Approve"]})]})]})}function Cu(e){var t=e.ddah,n=Object(We.a)(t.duties);n.sort((function(e,t){return e.order-t.order}));var r=t.assignment,i=r.applicant,a=r.position,o=a.instructors;return Object(f.jsxs)("div",{className:"ddah-preview-container",children:[Object(f.jsx)("h4",{children:"Description of Duties and Allocation of Hours"}),Object(f.jsxs)("h4",{children:["Position: ",a.position_code," (",a.position_title,")"]}),Object(f.jsxs)("h4",{children:["TA: ",i.first_name," ",i.last_name]}),Object(f.jsx)("h5",{children:"Duties"}),Object(f.jsxs)("ul",{children:[n.map((function(e){var t=nu(e.description),n=t.category,r=t.description;return Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{className:"ddah-duty-hours",children:"note"===n?null:e.hours}),Object(f.jsx)("span",{className:"ddah-duty-category ".concat(n)}),Object(f.jsx)("span",{className:"ddah-duty-description",children:r})]},e.order)})),Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{className:"ddah-duty-hours",children:t.total_hours}),Object(f.jsx)("span",{className:"ddah-duty-description",children:"Total"})]})]}),Object(f.jsxs)("div",{className:"signature-area",children:[Object(f.jsxs)("div",{children:["Prepared by ",Eu(o)," ",t.emailed_date?" on ".concat(Object(Tt.d)(t.emailed_date)):""]}),Object(f.jsx)("div",{children:t.accepted_date?"Accepted by ".concat(i.first_name," ").concat(i.last_name," on ").concat(Object(Tt.d)(t.accepted_date)):"Not yet accepted"})]})]})}function Au(e){var t=e.ddah,n=e.show,r=e.onHide,o=void 0===r?function(){}:r,c=s.a.useState(!1),u=Object(m.a)(c,2),l=u[0],d=u[1],p=Object(Nn.a)(),h=s.a.useState(t),b=Object(m.a)(h,2),v=b[0],j=b[1];s.a.useEffect((function(){j(t)}),[t]);var g=l?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;function O(){return(O=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}return d(!0),e.next=5,p(Object(Xc.h)(t));case 5:return e.prev=5,d(!1),o(),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[0,,5,9]])})))).apply(this,arguments)}var y=t?Object(f.jsx)(cu,{ddah:v,editableAssignment:!1,setDdah:j}):"No DDAH Specified";return Object(f.jsxs)(Gt.a,{show:n,onHide:o,dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Editing DDAH"})}),Object(f.jsx)(Gt.a.Body,{children:y}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{variant:"outline-secondary",onClick:function(){return o()},children:"Cancel"}),Object(f.jsxs)(Vt.a,{onClick:function(){return function(e){return O.apply(this,arguments)}(v)},children:[g,"Save"]})]})]})}function Eu(e){if(0===e.length)return"(Unknown)";var t=e.map((function(e){return"".concat(e.first_name," ").concat(e.last_name)}));try{return new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(t)}catch(xp){return t.join(", ")}}function Du(){var e=Object(c.useSelector)(Xc.b),t=Object(c.useSelector)(u.g),n=Object(c.useSelector)(pu).selectedDdahIds,r=Object(Nn.a)(),o=s.a.useState(!1),l=Object(m.a)(o,2),d=l[0],p=l[1],h=s.a.useState(!1),g=Object(m.a)(h,2),O=g[0],y=g[1],w=s.a.useState(null),_=Object(m.a)(w,2),x=_[0],S=_[1];function k(t){S(e.find((function(e){return e.id===t}))||null),p(!0)}var C,A=e.map((function(e){return{id:e.id,position_code:e.assignment.position.position_code,last_name:e.assignment.applicant.last_name,first_name:e.assignment.applicant.first_name,total_hours:e.total_hours,status:e.status||"unsent",recent_activity_date:tu(e),emailed_date:Object(Tt.d)(e.emailed_date||""),approved:e.approved_date?"Approved":"",readable_status:eu(e),issues:Qc(e),issue_code:Qc(e)?"hours_mismatch":null}})),E={},D=Object(b.a)(e);try{for(D.s();!(C=D.n()).done;){E[C.value.assignment.id]=!0}}catch(H){D.e(H)}finally{D.f()}var T,N=Object(b.a)(t);try{for(N.s();!(T=N.n()).done;){var P=T.value;"rejected"!==P.active_offer_status&&"withdrawn"!==P.active_offer_status&&(E[P.id]||A.push({position_code:P.position.position_code,last_name:P.applicant.last_name||"",first_name:P.applicant.first_name,total_hours:null,status:null,recent_activity_date:null,emailed_date:null,issues:"Missing DDAH",issue_code:"missing"}))}}catch(H){N.e(H)}finally{N.f()}A.sort((function(e,t){return e.position_code>t.position_code?1:e.position_code<t.position_code?-1:e.last_name>t.last_name?1:e.last_name<t.last_name?-1:0}));var R=[{Header:Ln("Position"),accessor:"position_code"},{Header:Ln("Last Name"),accessor:"last_name"},{Header:Ln("First Name"),accessor:"first_name"},{Header:Ln("DDAH Hours"),accessor:"total_hours",maxWidth:120,style:{textAlign:"right"}},{Header:Ln("Status"),accessor:"status",Cell:function(e){var t=e.row,n=Object(j.a)(e,["row"]);return Object(f.jsx)(_u,Object(v.a)(Object(v.a)({row:t},n),{},{children:Object(f.jsx)(Su,Object(v.a)(Object(v.a)({},e),{},{onClick:k}))}))}},{Header:Ln("Recent Activity"),accessor:"recent_activity_date"},{Header:Ln("Emailed"),accessor:"emailed_date"},{Header:Ln("Approved"),accessor:"approved",maxWidth:50,Cell:function(e){return e.value?Object(f.jsx)("div",{className:"accepted-ddah",children:Object(f.jsx)(it,{})}):null}},{Header:Ln("Issues"),accessor:"issues",Cell:xu}];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Au,{ddah:x,show:O,onHide:function(){return y(!1)}}),Object(f.jsx)(ku,{ddah:x,show:d,onHide:function(){return p(!1)},onEdit:function(){p(!1),y(!0)},onApprove:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=3;break}return e.next=3,r(Object(Xc.a)(x));case 3:p(!1);case 4:case"end":return e.stop()}}),e)})))}),Object(f.jsx)(Ft,{columns:R,data:A,selected:n,setSelected:function(e){r(fu(e.filter((function(e){return null!=e}))))},filterable:!0})]})}var Tu=[{Header:Ln("Position"),accessor:"position_code",width:200},{Header:Ln("Last Name"),accessor:"last_name",maxWidth:120},{Header:Ln("First Name"),accessor:"first_name",maxWidth:120},{Header:Ln("Status"),accessor:"status",maxWidth:100},{Header:Ln("Issues"),accessor:"issue",width:250}];function Nu(e,t){return Object(Tt.c)(e.position_code,t.position_code)||Object(Tt.c)(e.last_name,t.last_name)||Object(Tt.c)(e.first_name,t.first_name)}function Pu(e){var t=e.selectedDdahs,n=e.visible,r=e.setVisible,i=e.callback,a=e.title,o=e.body,s=e.confirmation,c=t.map((function(e){var t=Qc(e);return t||(t="Missing DDAH"),{id:e.id,position_code:e.assignment.position.position_code,last_name:e.assignment.applicant.last_name,first_name:e.assignment.applicant.first_name,total_hours:e.total_hours,status:eu(e),issue:t}}));return c.sort(Nu),Object(f.jsxs)(Gt.a,{show:n,onHide:function(){r(!1)},size:"lg",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:a})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)("div",{className:"mb-3 alert alert-info",role:"alert",children:o}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)(Ft,{columns:Tu,data:c,filterable:!1})})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){r(!1)},variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){i(),r(!1)},children:s})]})]})}function Ru(e){var t=e.selectedDdahs,n=s.a.useState(!1),r=Object(m.a)(n,2),i=r[0],a=r[1],o=Object(Nn.a)();function c(){return Promise.all(t.map((function(e){return o(Object(Xc.e)(e))})))}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:pt,onClick:function(){(null===t||void 0===t?void 0:t.length)>1?a(!0):c()},disabled:0===t.length,title:"Email selected DDAHs",children:"Email DDAH"}),Object(f.jsx)(Pu,{selectedDdahs:t,visible:i,setVisible:a,callback:c,title:"Emailing Multiple DDAHs",body:"Emailing the following ".concat(t.length," DDAHs."),confirmation:"Email ".concat(t.length," DDAHs")})]})}function Hu(e){var t=e.selectedDdahs,n=s.a.useState(!1),r=Object(m.a)(n,2),i=r[0],a=r[1],o=Object(Nn.a)();function c(){return Promise.all(t.map((function(e){return o(Object(Xc.a)(e))})))}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:it,onClick:function(){(null===t||void 0===t?void 0:t.length)>1?a(!0):c()},disabled:0===t.length,title:"Approve selected DDAHs",children:"Approve DDAH"}),Object(f.jsx)(Pu,{selectedDdahs:t,visible:i,setVisible:a,callback:c,title:"Approving Multiple DDAHs",body:"Approving the following ".concat(t.length," DDAHs."),confirmation:"Approve ".concat(t.length," DDAHs")})]})}function Iu(e){var t=e.selectedDdahs,n=s.a.useState(!1),r=Object(m.a)(n,2),i=r[0],a=r[1],o=Object(Nn.a)();function c(){return Promise.all(t.map((function(e){return o(Object(Xc.c)(e))})))}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:xt,onClick:function(){(null===t||void 0===t?void 0:t.length)>1?a(!0):c()},disabled:0===t.length,title:"Delete selected DDAHs",children:"Delete DDAH"}),Object(f.jsx)(Pu,{selectedDdahs:t,visible:i,setVisible:a,callback:c,title:"Deleting Multiple DDAHs",body:"Deleting the following ".concat(t.length," DDAHs."),confirmation:"Delete ".concat(t.length," DDAHs")})]})}function Fu(e){var t=new URL(window.location.origin);return t.pathname="/public/ddahs/".concat(e.url_token,".pdf"),t.href}function zu(e){return"".concat(e.assignment.position.position_code,"-DDAH-").concat(e.assignment.applicant.last_name,".pdf")}function Mu(e){var t=e.selectedDdahs,n=s.a.useState(!1),r=Object(m.a)(n,2),o=r[0],c=r[1];function u(){return(u=Object(a.a)(i.a.mark((function e(){var n,r,a,o,s,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return Promise.all([fetch(Fu(e)),zu(e)])})));case 2:return n=e.sent,e.next=5,Promise.all(n.map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1];return Promise.all([n.blob(),r])})));case 5:r=e.sent,a=new ac.a,o=Object(b.a)(r);try{for(o.s();!(s=o.n()).done;)c=Object(m.a)(s.value,2),u=c[0],l=c[1],a.file(l,u)}catch(i){o.e(i)}finally{o.f()}return e.next=11,a.generateAsync({type:"blob"});case 11:d=e.sent,rn.a.saveAs(d,"All-DDAH-PDFs.zip");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ln,{icon:ot,disabled:0===t.length,onClick:function(){return c(!0)},title:"Download PDF copies of selected DDAHs",children:"Download PDFs"}),Object(f.jsx)(Pu,{selectedDdahs:t,visible:o,setVisible:c,callback:function(){return u.apply(this,arguments)},title:"Download DDAH PDFs",body:"Download PDFs of the following ".concat(t.length," DDAHs."),confirmation:"Download"})]})}function Bu(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i=s.a.useState(!1),a=Object(m.a)(i,2),o=a[0],l=a[1],d=Object(c.useSelector)(u.b),p=Object(c.useSelector)(pu).selectedDdahIds,h=Object(c.useSelector)(Xc.b).filter((function(e){return p.includes(e.id)}));return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){r(!0)},disabled:!d,children:"Add DDAH"}),Object(f.jsx)(Ou,{disabled:!d}),Object(f.jsx)(yu,{disabled:!d}),Object(f.jsx)(Mu,{selectedDdahs:h}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(mu,{disabled:!d,setImportInProgress:l}),Object(f.jsx)(hu,{disabled:!d}),Object(f.jsx)(un,{children:"Selected DDAH Actions"}),Object(f.jsx)(Ru,{selectedDdahs:h}),Object(f.jsx)(Hu,{selectedDdahs:h}),Object(f.jsx)(Iu,{selectedDdahs:h})]}),Object(f.jsxs)(In,{children:[d?null:Object(f.jsx)(Gn,{extraText:"To view or modify DDAHs, you must select a session."}),Object(f.jsx)(lu,{show:n,onHide:function(){r(!1)}}),!o&&Object(f.jsx)(Du,{})]})]})}var Lu=n(36);function Uu(e){var t=e.editable,n=void 0===t||t,r=Object(c.useSelector)(u.O),i=Object(Nn.a)(),a=function(e){return i(Object(u.ib)(e))};function o(e,t){return function(r){return Object(f.jsx)(Xt,Object(v.a)({field:e,upsert:a,type:t,editable:n},r))}}var l=[{Header:Ln("Details"),id:"details-col",className:"details-col",maxWidth:32,resizable:!1,Cell:function(e){var t=e.row,n=(null===t||void 0===t?void 0:t.original)||{};return Object(f.jsx)("div",{className:"details-button-container",children:Object(f.jsx)(Lu.b,{to:"/postings/".concat(n.id,"/details"),children:Object(f.jsx)(jt,{className:"details-row-button",title:"View details of ".concat(n.name)})})})}},{Header:Ln("Name"),accessor:"name",Cell:o("name","text")},{Header:Ln("Open Date"),accessor:"open_date",Cell:o("open_date","date")},{Header:Ln("Close Date"),accessor:"close_date",Cell:o("close_date","date")},{Header:Ln("Availability"),id:"availability",Cell:function(e){var t=e.row,n=(null===t||void 0===t?void 0:t.original)||{},r=n.open_status?"Open":"Closed";return"".concat(r," (").concat(n.availability,")")}}];return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsx)(Ft,{columns:l,data:r})})}function Wu(e){var t=ye(e.posting,e.setPosting);return Object(f.jsxs)(ge,{children:[Object(f.jsx)(we,{children:t("Posting Name (e.g. 2019 Fall)","name")}),Object(f.jsxs)(we,{children:[t("Open Date","open_date","date"),t("Close Date","close_date","date")]}),Object(f.jsx)(we,{children:t("Intro Text","intro_text","text")})]})}var Gu={name:"",open_date:"",close_date:"",intro_text:""};function Vu(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,o=s.a.useState(Gu),l=Object(m.a)(o,2),d=l[0],p=l[1],h=Object(c.useSelector)(u.O),b=Object(Nn.a)();function v(){return(v=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(Object(u.ib)(t));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.a.useEffect((function(){t||p(Gu)}),[t]);var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={delayShow:"",immediateShow:""};return Object(Tt.j)(e.name)||(n.delayShow="A name is required."),t.find((function(t){return Object(Tt.j)(t.name)===Object(Tt.j)(e.name)}))&&(n.immediateShow=Object(f.jsxs)("p",{children:["Another session exists with name=",e.name]})),n}(d,h);return Object(f.jsxs)(Gt.a,{show:t,onHide:r,children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Add Posting"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Wu,{posting:d,setPosting:p}),j.immediateShow?Object(f.jsx)(Qt.a,{variant:"danger",children:j.immediateShow}):null]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:r,variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){!function(e){v.apply(this,arguments)}(d),r()},title:j.delayShow||"Create Session",disabled:!!j.delayShow||!!j.immediateShow,children:"Create Posting"})]})]})}function qu(e){var t=e.postingId,n=Object(Nn.a)(),r=s.a.useState(null),o=Object(m.a)(r,2),c=o[0],l=o[1];return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(null),null!=c){e.next=3;break}throw new Error("Unknown export type ".concat(c));case 3:return e.next=5,n(Object(u.w)(t,Sn.m,c));case 5:r=e.sent,rn.a.saveAs(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&function(){return e.apply(this,arguments)}().catch(console.error)}),[c,n,t]),Object(f.jsx)(fn,{onClick:function(e){l(e)}})}function Zu(e){var t=e.disabled,n=e.setImportInProgress,r=void 0===n?null:n,o=Object(Nn.a)(),l=Object(c.useSelector)(u.N),d=s.a.useState(null),p=Object(m.a)(d,2),h=p[0],b=p[1],v=s.a.useState(null),j=Object(m.a)(v,2),g=j[0],O=j[1],y=s.a.useState(null),w=Object(m.a)(y,2),_=w[0],x=w[1],S=s.a.useState(!1),k=Object(m.a)(S,2),C=k[0],A=k[1];function E(){return(E=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=g){e.next=2;break}throw new Error("Cannot import null data");case 2:return e.next=4,Promise.all(g.map((function(e){return o(Object(u.ib)(e))})));case 4:b(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){h||g&&O(null)}),[g,O,h]),s.a.useEffect((function(){if(h&&!C)try{x(null);var e=Object(Sn.d)(h,Tn.e),t=e[0];if(Array.isArray(null===t||void 0===t?void 0:t.posting_positions))e=e.map((function(e){return delete e.hours,delete e.num_positions,delete e.position_code,e}));else{var n=e.map((function(e){return{position_code:e.position_code,num_positions:e.num_positions,hours:e.hours}})),r=e[0];delete r.hours,delete r.num_positions,delete r.position_code,r.posting_positions=n;try{r.custom_questions=JSON.parse(r.custom_questions)}catch(xp){throw new Error("Could not parse JSON data for custom questions (".concat(xp,")"))}e=[r]}console.log("THE DATA",e),O(e.map((function(e){return Sn.i.posting(e,{positions:l})})))}catch(xp){console.warn(xp),x(xp)}}),[h,l,C]),Object(f.jsx)(xn,{onConfirm:function(){return E.apply(this,arguments)},onFileChange:b,dialogContent:Object(f.jsx)(Yu,{newPostings:g,processingError:_}),setInProgress:function(e){A(e),"function"===typeof r&&r(e)},disabled:t})}var Yu=s.a.memo((function(e){var t=e.newPostings,n=e.processingError,r=Object(f.jsx)("p",{children:"No data loaded..."});return n?r=Object(f.jsx)(Qt.a,{variant:"danger",children:""+n}):t&&(r=0===t.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No imported postings detected."}):Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Qt.a,{variant:"primary",children:Object(f.jsxs)("span",{className:"mb-1",children:["The following postings will be"," ",Object(f.jsx)("strong",{children:"added"})]})}),t.map((function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Name:"})," ",e.name]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Open Date:"})," ",e.open_date]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Close Date:"})," ",e.close_date]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Intro Text:"})," ",e.intro_text]}),Object(f.jsx)("h4",{children:"Posting Positions"}),Object(f.jsx)("ul",{children:e.posting_positions.map((function(e){return Object(f.jsxs)("li",{children:[e.position.position_code," ","(",e.num_positions||"?"," ","positions at"," ",e.hours||"?"," ","hours)"]},e.position.position_code)}))}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Custom Questions:"})," ",JSON.stringify(e.custom_questions)]}),Object(f.jsx)("hr",{})]},e.name)}))]})),r}));function Ku(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(c.useSelector)(u.b),l=Object(Nn.a)();return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(Object(u.C)());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o&&function(){e.apply(this,arguments)}()}),[o,l]),Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{icon:Object(f.jsx)(mt,{}),onClick:function(){return r(!0)},disabled:!o,children:"New Posting"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(Zu,{disabled:!o})]}),Object(f.jsxs)(In,{children:[o?null:Object(f.jsx)(Gn,{extraText:"To view, modify, or create postings, you must select a session."}),Object(f.jsx)(Vu,{show:n,onHide:function(){return r(!1)}}),Object(f.jsx)(Uu,{})]})]})}var Ju=n(792),Xu=(n(796),{pages:[{name:"page1"}]});function $u(e){var t,n=e.posting,r=Object(Nn.a)(),o=s.a.useState(JSON.stringify(n.custom_questions||Xu,null,4)),l=Object(m.a)(o,2),d=l[0],p=l[1],h=s.a.useState(!1),j=Object(m.a)(h,2),g=j[0],O=j[1],y=function(e){try{var t=JSON.parse(e);return Array.isArray(null===t||void 0===t?void 0:t.pages)?{valid:!0,message:""}:{valid:!1,message:'Expected the root of the JSON object to be `{ "pages": [...] }`'}}catch(xp){return{valid:!1,message:"The JSON data is not formatted correctly. ("+xp.message+")"}}}(d),w=n.id,_=Object(c.useSelector)(u.N),x=s.a.useMemo((function(){var e=n.posting_positions,t=_.map((function(t){var n=e.find((function(e){return e.position.id===t.id})),r={};return n&&(r.hours=n.hours,r.num_positions=n.num_positions,r.true_posting_position=!0),Object(v.a)({id:t.id,position_id:t.id,hours:t.hours_per_assignment,num_positions:t.desired_num_assignments,posting_id:w||0,position_code:t.position_code,position_title:t.position_title||"",true_posting_position:!1},r)})),r=t.filter((function(e){return e.true_posting_position})).map((function(e){return e.id}));return{postingPositions:e,tableData:t,selected:r}}),[w,n,_]),S=x.postingPositions,k=x.tableData,C=x.selected;function A(e,t){return function(n){var i=n.row.original;return Object(f.jsx)(Xt,Object(v.a)({field:e,upsert:function(t){var n=t[e];return r(Object(u.jb)(Object(Oe.a)({position_id:i.position_id,posting_id:i.posting_id},e,n)))},type:t,editable:i.true_posting_position},n))}}var E=[{Header:Ln("Position Code"),accessor:"position_code"},{Header:Ln("Num Positions"),accessor:"num_positions",Cell:A("num_positions","number")},{Header:Ln("Hours per Assignment"),accessor:"hours",Cell:A("hours","number")}],D=s.a.useCallback(function(){var e=Object(a.a)(i.a.mark((function e(t){var a,o,s,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(Tt.a)(t,C),o=Object(Tt.a)(C,t),s=S.filter((function(e){return o.includes(e.position.id)})),c=_.filter((function(e){return a.includes(e.id)})).map((function(e){return{position:e,posting:n,hours:e.hours_per_assignment,num_positions:e.desired_num_assignments}})),l=s.map((function(e){return r(Object(u.o)(e))})).concat(c.map((function(e){return r(Object(u.jb)(e))}))),e.prev=5,e.next=8,Promise.all(l);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),[C,_,S,n,r]),T=s.a.useCallback(function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(Object(u.ib)({id:n.id,custom_questions:JSON.parse(t)}));case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[r,n]);function N(e){r(Object(u.ib)(e))}var P=0,R=null===(t=n.custom_questions)||void 0===t?void 0:t.pages;if(Array.isArray(R)){var H,I=Object(b.a)(R);try{for(I.s();!(H=I.n()).done;){var F,z,M=H.value;P+=(null===M||void 0===M||null===(F=M.elements)||void 0===F?void 0:F.length)||(null===M||void 0===M||null===(z=M.questions)||void 0===z?void 0:z.length)||0}}catch(B){I.e(B)}finally{I.f()}}return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("table",{className:"posting-details-view",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Name"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Posting Name"},upsert:N,field:"name",row:{original:n},value:n.name})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Open Date"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Open Date"},upsert:N,field:"open_date",row:{original:n},value:n.open_date||"",type:"date"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Close Date"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Close Date"},upsert:N,field:"close_date",row:{original:n},value:n.close_date||"",type:"date"})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Intro Text"}),Object(f.jsx)("td",{children:Object(f.jsx)(Xt,{column:{Header:"Intro Text"},upsert:N,field:"intro_text",type:"paragraph",row:{original:n},value:n.intro_text||""})})]})]})}),Object(f.jsx)("h4",{className:"mt-2",children:"Positions"}),Object(f.jsxs)("p",{children:["The selected positions below will be available when applicants apply to this posting (You cannot edit ",Object(f.jsx)("em",{children:"Num Position"})," or"," ",Object(f.jsx)("em",{children:"Hours per Assignment"})," until it is selected as part of this posting.)"]}),Object(f.jsx)(Ft,{columns:E,data:k,filterable:!0,selected:C,setSelected:D}),Object(f.jsx)("h4",{children:"Custom Questions"}),Object(f.jsxs)("p",{children:["There are currently ",P," custom questions."]}),Object(f.jsx)(Vt.a,{onClick:function(){return O(!0)},children:"Edit Custom Questions"}),Object(f.jsxs)(Gt.a,{show:g,onHide:function(){return O(!1)},size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Edit Custom Questions"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsxs)(vn,{children:[Object(f.jsx)(yn,{children:Object(f.jsxs)("p",{children:["To edit custom survey questions, please go to"," ",Object(f.jsx)("a",{href:"https://surveyjs.io/create-survey",target:"_blank",rel:"noreferrer",children:"surveyjs.io/create-survey"})," ","and click the ",Object(f.jsx)("em",{children:"JSON Editor"})," tab. You may then copy and paste the text below into the JSON editor and switch to the"," ",Object(f.jsx)("em",{children:"Survey Designer"})," tab. When you are done, switch back to the ",Object(f.jsx)("em",{children:"JSON Editor"})," tab and copy-and-paste the JSON data below."]})}),Object(f.jsx)(yn,{className:"mb-2",children:Object(f.jsx)(Ju.CopyToClipboard,{text:d,children:Object(f.jsx)(Vt.a,{children:"Copy Custom Questions"})})}),Object(f.jsx)(yn,{children:Object(f.jsx)("textarea",{style:{width:"100%",minHeight:"20em"},value:d,onChange:function(e){return p(e.target.value)}})}),Object(f.jsx)(yn,{children:!y.valid&&Object(f.jsx)(Qt.a,{variant:"danger",children:y.message})})]})}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return O(!1)},variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{title:"Save",disabled:!y.valid,onClick:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(d);case 2:O(!1);case 3:case"end":return e.stop()}}),e)}))),children:"Save"})]})]})]})}function Qu(e){var t=e.posting,n=e.visible,r=e.onHide,i=new URL(window.location.origin);i.pathname="/hash/public/postings/".concat(t.url_token);var a=null;return 0===t.posting_positions.length&&(a=Object(f.jsx)(Qt.a,{variant:"warning",children:"This posting has no associated positions, which means applicants cannot currently complete an application."})),Object(f.jsxs)(Gt.a,{show:n,onHide:r,size:"lg",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Posting URL"})}),Object(f.jsxs)(Gt.a.Body,{children:[a,Object(f.jsxs)("p",{children:["You can distribute the following link to give access to the posting ",Object(f.jsx)("em",{children:t.name})]}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:i.href,children:i.href})})]})]})}function el(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(u.O),n=Object(Nn.a)(),r=s.a.useState(!1),o=Object(m.a)(r,2),l=o[0],d=o[1],p=s.a.useState(!1),b=Object(m.a)(p,2),v=b[0],j=b[1],g=Object(h.h)(),O=null!=g.posting_id?parseInt(g.posting_id,10):null;s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={id:O||0},e.next=4,n(Object(u.C)());case 4:if(e.sent.some((function(e){return e.id===t.id}))){e.next=10;break}return j(!0),e.abrupt("return");case 10:j(!1);case 11:return e.next=13,n(Object(u.B)(t));case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}e&&null!=O&&function(){t.apply(this,arguments)}()}),[e,O,n]);var y=t.find((function(e){return e.id===O}));if(v)return Object(f.jsx)(h.a,{to:"/postings/overview"});if(null==O)return Object(f.jsx)("div",{className:"page-body",children:Object(f.jsx)(In,{children:Object(f.jsx)("h4",{children:"Cannot view a Posting without a valid posting id"})})});if(null==y)return Object(f.jsx)("div",{className:"page-body",children:Object(f.jsx)(In,{children:Object(f.jsxs)("h4",{children:["Cannot Posting with id=",O]})})});var w=null;return 0===y.posting_positions.length&&(w=Object(f.jsx)(Qt.a,{variant:"warning",children:"This posting has no associated positions, which means applicants cannot currently complete an application."})),Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{onClick:function(){return d(!0)},icon:dt,children:"Get Link to Posting"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(qu,{postingId:O})]}),Object(f.jsxs)(In,{children:[e?null:Object(f.jsx)(Gn,{extraText:"To view, modify, or create postings, you must select a session."}),w,Object(f.jsx)($u,{posting:y})]}),Object(f.jsx)(Qu,{posting:y,visible:l,onHide:function(){return d(!1)}})]})}var tl=n(347);function nl(e){var t=e.posting,n=Object(Nn.a)(),r=s.a.useState({}),o=Object(m.a)(r,2),c=o[0],l=o[1];s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n(Object(u.E)(t));case 3:r=e.sent,l(r),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,n]),tl.StylesManager.applyTheme("bootstrap"),tl.defaultBootstrapCss.navigationButton="btn btn-primary";var d=new tl.Model(c);return d.questionsOnPageMode="singlePage",d.onComplete.add((function(e){return console.log("GOT SURVEY RESULTS",e.data)})),d.data={utorid:"XXXXX"},Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsx)("i",{className:"fa fa-info-circle mr-1"}),"All pages of this survey are shown together."]}),Object(f.jsx)(tl.Survey,{model:d})]})}function rl(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(u.O),n=Object(Nn.a)(),r=s.a.useState(!1),o=Object(m.a)(r,2),l=o[0],d=o[1],p=Object(h.h)(),b=null!=p.posting_id?parseInt(p.posting_id,10):null;s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={id:b||0},e.next=4,n(Object(u.C)());case 4:if(e.sent.some((function(e){return e.id===t.id}))){e.next=10;break}return d(!0),e.abrupt("return");case 10:d(!1);case 11:return e.next=13,n(Object(u.B)(t));case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}e&&null!=b&&function(){t.apply(this,arguments)}()}),[e,b,n]);var v=t.find((function(e){return e.id===b}));return l?Object(f.jsx)(h.a,{to:"/postings/overview"}):null==b?Object(f.jsx)("div",{className:"page-body",children:Object(f.jsx)(In,{children:Object(f.jsx)("h4",{children:"Cannot view a Posting without a valid posting id"})})}):null==v?Object(f.jsx)("div",{className:"page-body",children:Object(f.jsx)(In,{children:Object(f.jsxs)("h4",{children:["Cannot Posting with id=",b]})})}):Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(un,{children:"Import/Export"})]}),Object(f.jsxs)(In,{children:[e?null:Object(f.jsx)(Gn,{extraText:"To view, modify, or create postings, you must select a session."}),Object(f.jsx)(nl,{posting:v})]})]})}var il=[{Header:"Last Name",accessor:"applicant.last_name"},{Header:"First Name",accessor:"applicant.first_name"},{Header:"UTORid",accessor:"applicant.utorid"},{Header:"Student Number",accessor:"applicant.student_number"},{Header:"Email",accessor:"applicant.email"},{Header:"Phone",accessor:"applicant.phone"}];function al(e){var t=e.applicants,n=e.columns,r=void 0===n?il:n;return Object(f.jsx)(Ft,{columns:r,data:t,filterable:!0})}n(797);var ol={null:["outline","outline","outline","outline"],"-1":["outline","outline","outline","danger"],0:["outline","outline","secondary","outline"],1:["outline","primary","outline","outline"],2:["success","success","outline","outline"]},sl={null:"bg-light","-1":"bg-danger",0:"bg-secondary",1:"bg-primary",2:"bg-success"},cl={null:"Unknown","-1":"Not Suitable",0:"Unknown",1:"Suitable",2:"Strongly Preferred"};function ul(e){var t=e.rating,n=e.onChange,r=null==t?null:Math.max(Math.min(t,2),-1),i=ol[""+r],a=s.a.useCallback((function(e){n&&n(e)}),[n]);return Object(f.jsxs)(on.a,{"aria-label":"Applicant Rating",className:"applicant-rating-buttons",children:[Object(f.jsx)(Vt.a,{variant:i[0],onClick:function(){a(2)},title:"This applicant would make an outstanding TA for the position.",children:"+"}),Object(f.jsx)(Vt.a,{variant:i[1],onClick:function(){a(1)},title:"This applicant would make a good TA for the position.",children:"+"}),Object(f.jsx)(Vt.a,{variant:i[2],onClick:function(){a(0)},title:"Neutral or do not have enough information to rate.",children:"?"}),Object(f.jsx)(Vt.a,{variant:i[3],onClick:function(){a(-1)},title:"This applicant is not suitable for the position.",children:"-"})]})}function ll(e){var t=e.comment,n=e.onClick,r=s.a.useCallback((function(){n&&n()}),[n]);return null==t?Object(f.jsx)(Vt.a,{onClick:r,variant:"outline",className:"add-comment no-comment",title:"Add comment",children:Object(f.jsx)("div",{className:"comment-icon",children:Object(f.jsx)(Dt,{})})}):Object(f.jsxs)(Vt.a,{variant:"outline",className:"add-comment",title:"Edit comment",onClick:r,children:[Object(f.jsx)("div",{className:"comment-container",children:t}),Object(f.jsx)("div",{className:"comment-icon full",children:Object(f.jsx)(at,{})})]})}function dl(e){var t,n=e.instructorPreference,r=e.setInstructorPreference,i=e.compact,a=void 0===i||i,o=null!==(t=null===n||void 0===n?void 0:n.preference_level)&&void 0!==t?t:null,c=(null===n||void 0===n?void 0:n.comment)||null,u=s.a.useCallback((function(e){if(r)return r(Object(v.a)(Object(v.a)({},n||{}),{},{preference_level:e}))}),[r,n]),l=s.a.useCallback((function(e){var t=null!=e&&e.trim()||null;if(r)return r(Object(v.a)(Object(v.a)({},n||{}),{},{comment:t}))}),[r,n]),d=s.a.useState(!1),p=Object(m.a)(d,2),h=p[0],b=p[1],j=null;return j=a?Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ul,{rating:o,onChange:u}),Object(f.jsx)(ll,{comment:c,onClick:function(){return b(!0)}})]}):Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{children:Object(f.jsxs)(on.a,{vertical:!0,children:[Object(f.jsx)(fl,{rating:2,activeRating:o,onClick:function(){return u(2)}}),Object(f.jsx)(fl,{rating:1,activeRating:o,onClick:function(){return u(1)}}),Object(f.jsx)(fl,{rating:0,activeRating:o,onClick:function(){return u(0)}}),Object(f.jsx)(fl,{rating:-1,activeRating:o,onClick:function(){return u(-1)}})]})}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(Vt.a,{variant:"light",onClick:function(){return b(!0)},children:[Object(f.jsx)(Dt,{className:"mb-1"})," Edit Comment"]}),Object(f.jsxs)("div",{children:[c&&Object(f.jsx)("b",{className:"mr-2",children:"Comment:"}),c||Object(f.jsx)("i",{children:"No Comment"})]})]})]}),Object(f.jsxs)("div",{className:"applicant-rating-container ".concat(a?"compact":"expanded"),children:[j,Object(f.jsx)(Yt,{title:"Comment",value:c||"",onChange:function(e){l(e||null)},show:h,onHide:function(){return b(!1)},type:"paragraph"})]})}function fl(e){var t=e.onClick,n=e.rating,r=e.activeRating,i=null==r?null:Math.max(Math.min(r,2),-1);return Object(f.jsxs)(Vt.a,{className:"py-0 pl-0 large-rating-button",variant:i===n?"primary":"light",onClick:function(){return t?t():void 0},children:[Object(f.jsx)("div",{children:Object(f.jsx)(pl,{rating:n})}),Object(f.jsx)("div",{children:cl[""+n]})]})}function pl(e){var t=e.rating,n=null==t?null:Math.max(Math.min(t,2),-1),r=sl[""+t],i=Object(f.jsx)("span",{className:"display-rating ".concat(r),children:"?"});return-1===n&&(i=Object(f.jsx)("span",{className:"display-rating ".concat(r," text-white"),children:"-"})),0===n&&(i=Object(f.jsx)("span",{className:"display-rating ".concat(r," text-white"),children:"?"})),1===n&&(i=Object(f.jsx)("span",{className:"display-rating ".concat(r," text-white"),children:"+"})),2===n&&(i=Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("span",{className:"display-rating ".concat(r," text-white"),children:"+"}),Object(f.jsx)("span",{className:"display-rating ".concat(r," text-white"),children:"+"})]})),Object(f.jsx)("span",{className:"display-rating-container",children:i})}function hl(e){var t=e.visible,n=e.onHide,r=Object(c.useSelector)(u.b),i=new URL(window.location.origin);i.searchParams.append("role","instructor"),i.searchParams.append("activeSession",""+(null===r||void 0===r?void 0:r.id));var a=null;return null==r&&(a=Object(f.jsx)(Qt.a,{variant:"warning",children:"A valid link can only be generated if a session is selected."})),!1===(null===r||void 0===r?void 0:r.applications_visible_to_instructors)&&(a=Object(f.jsxs)(Qt.a,{variant:"warning",children:["Instructors can only provide preferences when"," ",Object(f.jsx)("b",{children:"Applications Visible to Instructors"}),"is set to ",Object(f.jsx)("b",{children:"True"})," via the ",Object(f.jsx)("i",{children:"Sessions"})," page."]})),Object(f.jsxs)(Gt.a,{show:t,onHide:n,size:"lg",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Instructor Preferences URL"})}),Object(f.jsxs)(Gt.a.Body,{children:[a,Object(f.jsxs)("p",{children:["You can distribute the following link to allow instructors to view applications of and give feedback about applicants for their courses in the ",Object(f.jsx)("em",{children:null===r||void 0===r?void 0:r.name})," ","session."]}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:i.href,children:i.href})})]})]})}var ml={3:"success",2:"primary",1:"warning","-1":"secondary"};function bl(e){var t,n=e.application,r=s.a.useMemo((function(){var e=n.posting||{custom_questions:{}};if(!e.custom_questions)return null;tl.StylesManager.applyTheme("bootstrap"),tl.defaultBootstrapCss.navigationButton="btn btn-primary";var t=new tl.Model(function(e){if(!Array.isArray(e.pages))return e;var t=e.pages.map((function(e){return Object(v.a)(Object(v.a)({},e),{},{elements:e.elements.filter((function(e){return"html"!==e.type}))})}));return Object(v.a)(Object(v.a)({},e),{},{pages:t})}(e.custom_questions));return t.showPreviewBeforeComplete="showAnsweredQuestions",t.showQuestionNumbers="off",t.questionsOnPageMode="singlePage",t.mode="display",t.data=n.custom_question_answers,t}),[n]),i=n.instructor_preferences;return Object(f.jsx)(s.a.Fragment,{children:Object(f.jsx)("table",{className:"application-details-table",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"First Name"}),Object(f.jsx)("td",{children:n.applicant.first_name})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Last Name"}),Object(f.jsx)("td",{children:n.applicant.last_name})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Email"}),Object(f.jsx)("td",{children:n.applicant.email})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"UTORid"}),Object(f.jsx)("td",{children:n.applicant.utorid})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Student Number"}),Object(f.jsx)("td",{children:n.applicant.student_number})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Phone"}),Object(f.jsx)("td",{children:n.applicant.phone})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Department"}),Object(f.jsx)("td",{children:n.department})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Program"}),Object(f.jsx)("td",{children:n.program})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Year in Progress"}),Object(f.jsx)("td",{children:n.yip})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Previous Experience"}),Object(f.jsxs)("td",{children:[null!=n.previous_department_ta?!0===n.previous_department_ta?"TAed for department; ":"Has not TAed for department; ":null,null!=n.previous_university_ta?!0===n.previous_university_ta?"TAed for university; ":"Has not TAed at this university; ":null,n.previous_experience_summary?"Experience Summary: ".concat(n.previous_experience_summary):null]})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Positions Applied For"}),Object(f.jsx)("td",{children:Object(f.jsx)("ul",{className:"position-preferences-list",children:n.position_preferences.filter((function(e){return 0!==e.preference_level})).map((function(e){return Object(f.jsxs)(Rt,{as:"li",variant:ml[e.preference_level]||"info",children:[e.position.position_code," ","(",e.preference_level,")"]},e.position.position_code)}))})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Supporting Documents"}),Object(f.jsx)("td",{children:n.documents.map((function(e){return Object(f.jsxs)(Vt.a,{href:"/public/files/".concat(e.url_token),title:"Download ".concat(e.name," (").concat(Math.round(e.size/1024)," kb)"),size:"sm",variant:"light",className:"mr-2",children:[Object(f.jsx)(ot,{className:"mr-2"}),e.name]},e.name)}))})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Additional Comments"}),Object(f.jsx)("td",{children:n.comments})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Instructor Comments"}),Object(f.jsx)("td",{children:Object(f.jsx)("ul",{className:"instructor-preferences-list",children:i.filter((function(e){return!(!e.comment&&0===e.preference_level)})).map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsxs)(Rt,{variant:"light",children:[e.position.position_code," ",Object(f.jsx)(pl,{rating:e.preference_level})]}),e.comment?Object(f.jsxs)(s.a.Fragment,{children:["(",e.comment,")"]}):null]},e.position.position_code)}))})})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Submission Date"}),Object(f.jsx)("td",{children:Object(Tt.e)(n.submission_date)})]}),(null===(t=n.posting)||void 0===t?void 0:t.custom_questions)&&Object(f.jsxs)("tr",{className:"custom-questions-row",children:[Object(f.jsx)("th",{children:"Custom Questions"}),Object(f.jsx)("td",{children:r&&Object(f.jsx)(tl.Survey,{model:r})})]})]})})})}function vl(){var e,t=Object(c.useSelector)(u.f),n=Object(c.useSelector)(u.g),r=Object(Nn.a)(),i=s.a.useState(null),a=Object(m.a)(i,2),o=a[0],l=a[1],d={},p=Object(b.a)(n);try{for(p.s();!(e=p.n()).done;){d[e.value.applicant.id]=!0}}catch(y){p.e(y)}finally{p.f()}function h(e){return r(Object(u.ab)(e))}function v(e){return r(Object(u.Y)(e))}function j(e){return function(t){var n=t.row.original;return Object(f.jsx)(Xt,{column:t.column,value:t.value,field:e,upsert:v,row:{original:n.applicant}})}}function g(e){return function(t){return Object(f.jsx)(Xt,{column:t.column,value:t.value,field:e,upsert:h,row:t.row})}}var O=[{Header:Ln("Details"),id:"details-col",className:"details-col",maxWidth:32,resizable:!1,Cell:function(e){var t=e.row,n=(null===t||void 0===t?void 0:t.original)||{};return Object(f.jsx)("div",{className:"details-button-container",onClick:function(){return l(n)},children:Object(f.jsx)(jt,{className:"details-row-button",title:"View details of ".concat(n.applicant.first_name," ").concat(n.applicant.last_name,"'s Application")})})}},{Header:Ln("Posting"),accessor:"posting.name",width:90},{Header:Ln("Program"),accessor:"program",Cell:g("program"),width:50},{Header:Ln("YIP"),accessor:"yip",Cell:g("yip"),width:50},{Header:Ln("Last Name"),accessor:"applicant.last_name",Cell:j("last_name")},{Header:Ln("First Name"),accessor:"applicant.first_name",Cell:j("first_name")},{Header:Ln("Email"),accessor:"applicant.email",Cell:j("email")},{Header:Ln("Department"),Cell:g("department"),accessor:"department"},{Header:Ln("UTORid"),accessor:"applicant.utorid",Cell:j("utorid")},{Header:Ln("Student Number"),accessor:"applicant.student_number",Cell:j("student_number")},{Header:Ln("Phone"),accessor:"applicant.phone",Cell:j("phone")},{Header:Ln("Submitted"),accessor:"submission_date",Cell:function(e){var t=Object(Tt.d)(e.value)||"",n=Object(Tt.e)(e.value)||"";return Object(f.jsx)("div",{title:n,children:t})}}];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(al,{applicants:t,columns:O}),Object(f.jsxs)(Gt.a,{show:!!o,onHide:function(){return l(null)},size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Application Details"})}),Object(f.jsx)(Gt.a.Body,{children:o&&Object(f.jsx)(bl,{application:o})}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{onClick:function(){return l(null)},variant:"outline-secondary",children:"Close"})})]})]})}function jl(){var e=Object(Nn.a)(),t=s.a.useState(null),n=Object(m.a)(t,2),r=n[0],o=n[1];return s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(null),null!=r){t.next=3;break}throw new Error("Unknown export type ".concat(r));case 3:return t.next=5,e(Object(u.s)(Sn.f,r));case 5:n=t.sent,rn.a.saveAs(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&function(){return t.apply(this,arguments)}().catch(console.error)}),[r,e]),Object(f.jsx)(fn,{onClick:function(e){o(e)}})}function gl(){var e=Object(c.useSelector)(u.b),t=Object(Nn.a)(),n=s.a.useState(!1),r=Object(m.a)(n,2),o=r[0],l=r[1];return s.a.useEffect((function(){function n(){return(n=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(u.C)());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[e,t]),Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Available Actions"}),Object(f.jsx)(ln,{onClick:function(){return l(!0)},icon:dt,children:"Instructors' Link"}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(jl,{})]}),Object(f.jsx)(In,{children:Object(f.jsx)(vl,{})}),Object(f.jsx)(hl,{visible:o,onHide:function(){return l(!1)}})]})}var Ol=n(13),yl=n(106),wl=Object(yl.a)(Ol.h),_l=(Object(yl.a)(Ol.b),Object(yl.a)(Ol.g),Object(yl.a)(Ol.a)),xl=Object(yl.a)(Ol.i),Sl=(Object(yl.a)(Ol.c),Object(yl.a)(Ol.e)),kl=Object(yl.a)(Ol.d),Cl=Object(yl.a)(Ol.f),Al=function(e){return e.ui.matchingData},El=function(e){return e.ui.matchingData.selectedMatchingPositionId},Dl=function(e){return e.ui.matchingData.applicantViewMode},Tl=function(e){return e.ui.matchingData.updated},Nl=function(e){return e.ui.matchingData.matches},Pl=Object(ps.a)([u.e,u.f],(function(e,t){if(0===t.length||0===e.length)return[];var n,r={},i=Object(b.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a.applicant.id]=r[a.applicant.id]||[],r[a.applicant.id].push(a)}}catch(o){i.e(o)}finally{i.f()}return e.map((function(e){var t=r[e.id];if(!t||0===t.length)return null;var n,i={},a=Object(b.a)(t);try{for(a.s();!(n=a.n()).done;){var s=n.value,c=-1;s.posting&&(c=s.posting.id),i[c]=i[c]||[],i[c].push(s)}}catch(o){a.e(o)}finally{a.f()}for(var u=null,l=0,d=Object.values(i);l<d.length;l++){var f=d[l];f.sort((function(e,t){return e.submission_date===t.submission_date?0:e.submission_date>t.submission_date?1:-1}));var p=f[f.length-1];if(u){var h,m=Object(b.a)(p.position_preferences);try{var v=function(){var e=h.value,t=u.position_preferences.find((function(t){return t.position.position_code===e.position.position_code}))||null;t?t.preference_level=Math.max(e.preference_level,t.preference_level):u.position_preferences.push(e)};for(m.s();!(h=m.n()).done;)v()}catch(o){m.e(o)}finally{m.f()}}else u=p}return u})).filter((function(e){return!!e}))})),Rl=Object(ps.a)([Nl,u.N,u.e,u.g,Pl],(function(e,t,n,r,i){var a,o=[],s={},c=Object(b.a)(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;u&&(s[u.applicant.id]=u)}}catch(F){c.e(F)}finally{c.f()}var l,d={},f=Object(b.a)(r);try{for(f.s();!(l=f.n()).done;){var p=l.value;d[p.applicant.id]=d[p.applicant.id]||[],d[p.applicant.id].push(p)}}catch(F){f.e(F)}finally{f.f()}var h,m={},v=Object(b.a)(e);try{for(v.s();!(h=v.n()).done;){var j=h.value;m[j.utorid]=m[j.utorid]||[],m[j.utorid].push(j)}}catch(F){v.e(F)}finally{v.f()}var g,O={},y=Object(b.a)(t);try{for(y.s();!(g=y.n()).done;){var w=g.value;O[w.position_code]=w}}catch(F){y.e(F)}finally{y.f()}var _,x=Object(b.a)(n);try{for(x.s();!(_=x.n()).done;){var S=_.value,k={},C=s[S.id];if(C){var A,E=Object(b.a)(C.position_preferences);try{for(E.s();!(A=E.n()).done;){var D=A.value;k[D.position.id]={applicant:S,position:D.position,hoursAssigned:0,status:"applied"}}}catch(F){E.e(F)}finally{E.f()}var T,N=Object(b.a)(m[S.utorid]||[]);try{for(N.s();!(T=N.n()).done;){var P=T.value;O[P.positionCode]&&(k[O[P.positionCode].id]={applicant:S,position:O[P.positionCode],hoursAssigned:P.stagedHoursAssigned||0,status:Fl(P)})}}catch(F){N.e(F)}finally{N.f()}var R,H=Object(b.a)(d[S.id]||[]);try{for(H.s();!(R=H.n()).done;){var I=R.value;k[I.position.id]={applicant:S,position:I.position,hoursAssigned:I.hours||0,status:"assigned"}}}catch(F){H.e(F)}finally{H.f()}o=[].concat(Object(We.a)(o),Object(We.a)(Object.values(k)))}}}catch(F){x.e(F)}finally{x.f()}return o})),Hl=Object(ps.a)([u.e,Rl,function(e){return e.ui.matchingData.guarantees},function(e){return e.ui.matchingData.notes},Pl],(function(e,t,n,r,i){var a,o=[],s={},c=Object(b.a)(i);try{for(c.s();!(a=c.n()).done;){var u=a.value;u&&(s[u.applicant.id]=u)}}catch(A){c.e(A)}finally{c.f()}var l,d={},f=Object(b.a)(t);try{for(f.s();!(l=f.n()).done;){var p=l.value;d[p.applicant.id]=d[p.applicant.id]||[],d[p.applicant.id].push(p)}}catch(A){f.e(A)}finally{f.f()}var h,m={},v=Object(b.a)(n);try{for(v.s();!(h=v.n()).done;){var j=h.value;m[j.utorid]=j}}catch(A){v.e(A)}finally{v.f()}var g,O=Object(b.a)(e);try{for(O.s();!(g=O.n()).done;){var y,w=g.value,_=0,x=Object(b.a)(d[w.id]||[]);try{for(x.s();!(y=x.n()).done;){var S=y.value;"assigned"!==S.status&&"staged-assigned"!==S.status||(_+=S.hoursAssigned)}}catch(A){x.e(A)}finally{x.f()}var k="n/a";if(_>0&&(k="over"),m[w.utorid]){var C=m[w.utorid].minHoursOwed;C>0&&0===_?k="empty":C-_>0?k="under":C-_===0?k="matched":C-_<0&&(k="over")}o.push({applicant:w,application:s[w.id],matches:d[w.id]||[],guarantee:m[w.utorid],note:r[w.utorid]||null,hoursAssigned:_,filledStatus:k})}}catch(A){O.e(A)}finally{O.f()}return o})),Il=Object(ps.a)([u.N,Hl,Rl],(function(e,t,n){var r,i=[],a={},o=Object(b.a)(t);try{for(o.s();!(r=o.n()).done;){var s,c=r.value,u=Object(b.a)(c.matches);try{for(u.s();!(s=u.n()).done;){var l=s.value;l.position&&(a[l.position.id]=a[l.position.id]||[],a[l.position.id].push(c))}}catch(C){u.e(C)}finally{u.f()}}}catch(C){o.e(C)}finally{o.f()}var d,f={},p=Object(b.a)(n);try{for(p.s();!(d=p.n()).done;){var h=d.value;f[h.position.id]||(f[h.position.id]={applied:[],assigned:[],"staged-assigned":[],hidden:[],starred:[]}),f[h.position.id][h.status].push(h)}}catch(C){p.e(C)}finally{p.f()}var m,v=Object(b.a)(e);try{for(v.s();!(m=v.n()).done;){var j=m.value,g=Object(Tt.i)(j.hours_per_assignment*(j.desired_num_assignments||0),2),O=0;if(f[j.id]){var y,w=Object(b.a)(["assigned","staged-assigned"]);try{for(w.s();!(y=w.n()).done;){var _,x=y.value,S=Object(b.a)(f[j.id][x]);try{for(S.s();!(_=S.n()).done;){O+=_.value.hoursAssigned||0}}catch(C){S.e(C)}finally{S.f()}}}catch(C){w.e(C)}finally{w.f()}}var k="empty";g>0&&0===O?k="empty":g-O>0?k="under":g-O===0?k="matched":g-O<0&&(k="over"),i[j.id]={position:j,hoursAssigned:O,filledStatus:k,applicantSummaries:a[j.id]||[]}}}catch(C){v.e(C)}finally{v.f()}return i}));function Fl(e){return e.stagedAssigned?"staged-assigned":e.starred?"starred":e.hidden?"hidden":"applied"}function zl(e){var t=e.selectedPositionId,n=e.positionSummaries,r=s.a.useState(""),i=Object(m.a)(r,2),a=i[0],o=i[1],c=s.a.useMemo((function(){return n.filter((function(e){return-1!==e.position.position_code.toLowerCase().indexOf(a.toLowerCase())})).sort((function(e,t){return e.position.position_code.toLowerCase()<t.position.position_code.toLowerCase()?-1:1}))}),[a,n]);return Object(f.jsxs)("div",{className:"position-sidebar page-actions",children:[Object(f.jsx)("div",{className:"search-container position-search",children:Object(f.jsx)("input",{className:"form-control search-bar",type:"text",placeholder:"Filter by position code...",onChange:function(e){return o(e.target.value)}})}),Object(f.jsx)("div",{className:"position-list",children:Object(f.jsx)("div",{className:"position-list-inner",children:c.map((function(e){return Object(f.jsx)(Ml,{positionSummary:e,focused:(null===e||void 0===e?void 0:e.position.id)===t},e.position.id)}))})})]})}function Ml(e){var t=e.positionSummary,n=e.focused,r=Object(Nn.a)(),i=Object(Tt.i)(t.position.hours_per_assignment*(t.position.desired_num_assignments||0),2),a=s.a.useMemo((function(){return["over","matched"].includes(t.filledStatus)?100:"under"===t.filledStatus?Object(Tt.i)(t.hoursAssigned/i*100,0):0}),[t,i]);return Object(f.jsx)(Vt.a,{bsPrefix:"position-row",className:w()("position-row",t.filledStatus,{selected:n}),onClick:function(){return r(Sl(t.position.id))},children:Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("div",{className:"position-row-background",children:Object(f.jsx)("div",{style:{width:"".concat(a,"%")},className:"progress ".concat(t.filledStatus)})}),Object(f.jsxs)("div",{className:"position-row-info",children:[Object(f.jsx)("span",{className:"position-title",children:t.position.position_code}),Object(f.jsxs)("span",{className:"position-hours-filled",children:[t.hoursAssigned,"\u2009/\u2009",i,"\u2009h"]}),n&&Object(f.jsxs)("span",{className:"position-row-detail",children:[t.applicantSummaries.length," ","applicant",1===t.applicantSummaries.length?"":"s"]})]})]})})}function Bl(e,t){return t&&e&&e.matches&&e.matches.find((function(e){return e.position.position_code===t.position_code}))||null}function Ll(e,t){var n;return e&&(null===(n=e.position_preferences)||void 0===n?void 0:n.find((function(e){return e.position.id===t.id})))||null}var Ul={Program:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=["U","PD","MScAC","M","P"];e.sort((function(e,r){var i,a,o,s,c,u,l,d;return(null===(i=e.application)||void 0===i?void 0:i.program)?(null===(a=r.application)||void 0===a?void 0:a.program)?-1===n.indexOf(null===(o=e.application)||void 0===o?void 0:o.program)?Wl(1,t):-1===n.indexOf(null===(s=r.application)||void 0===s?void 0:s.program)?Wl(-1,t):(null===(c=e.application)||void 0===c?void 0:c.program)===(null===(u=r.application)||void 0===u?void 0:u.program)?0:n.indexOf(null===(l=e.application)||void 0===l?void 0:l.program)<n.indexOf(null===(d=r.application)||void 0===d?void 0:d.program)?Wl(-1,t):Wl(1,t):Wl(-1,t):Wl(1,t)}))},Department:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){var r,i,a,o,s,c;return(null===(r=e.application)||void 0===r?void 0:r.department)?(null===(i=n.application)||void 0===i?void 0:i.department)?(null===(a=e.application)||void 0===a?void 0:a.department)===(null===(o=n.application)||void 0===o?void 0:o.department)?0:(null===(s=e.application)||void 0===s?void 0:s.department)<(null===(c=n.application)||void 0===c?void 0:c.department)?Wl(-1,t):Wl(1,t):Wl(1,t):Wl(-1,t)}))},"Year in Progress":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){var r,i,a,o,s,c;return(null===(r=e.application)||void 0===r?void 0:r.yip)?(null===(i=n.application)||void 0===i?void 0:i.yip)?(null===(a=e.application)||void 0===a?void 0:a.yip)===(null===(o=n.application)||void 0===o?void 0:o.yip)?0:(null===(s=e.application)||void 0===s?void 0:s.yip)<(null===(c=n.application)||void 0===c?void 0:c.yip)?Wl(-1,t):Wl(1,t):Wl(1,t):Wl(-1,t)}))},GPA:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){var r,i,a,o,s,c;return(null===(r=e.application)||void 0===r?void 0:r.gpa)?(null===(i=n.application)||void 0===i?void 0:i.gpa)?(null===(a=e.application)||void 0===a?void 0:a.gpa)===(null===(o=n.application)||void 0===o?void 0:o.gpa)?0:(null===(s=e.application)||void 0===s?void 0:s.gpa)<=(null===(c=n.application)||void 0===c?void 0:c.gpa)?Wl(-1,t):Wl(1,t):Wl(1,t):Wl(-1,t)}))},"TA Preference":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;e.sort((function(e,r){if(!n)return 0;var i=Ll(e.application,n),a=Ll(r.application,n);return i?a?i===a?0:i.preference_level<a.preference_level?Wl(-1,t):Wl(1,t):Wl(1,t):Wl(-1,t)}))},"Instructor Preference":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;e.sort((function(e,r){var i,a;if(!n)return 0;var o=(null===(i=e.application)||void 0===i?void 0:i.instructor_preferences.filter((function(e){return e.position.id===(null===n||void 0===n?void 0:n.id)})).map((function(e){return e.preference_level})))||[],s=(null===(a=r.application)||void 0===a?void 0:a.instructor_preferences.filter((function(e){return e.position.id===(null===n||void 0===n?void 0:n.id)})).map((function(e){return e.preference_level})))||[];if(0===o.length)return Wl(-1,t);if(0===s.length)return Wl(1,t);var c=Tt.k.apply(void 0,Object(We.a)(o))/o.length,u=Tt.k.apply(void 0,Object(We.a)(s))/s.length;return c===u?0:Wl(c<u?-1:1,t)}))},"Total Hours Assigned":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){if(!e.matches)return Wl(-1,t);if(!n.matches)return Wl(1,t);var r=e.hoursAssigned,i=n.hoursAssigned;return r===i?0:Wl(r<i?-1:1,t)}))},"Total Hours Owed":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){var r,i,a=(null===(r=e.guarantee)||void 0===r?void 0:r.minHoursOwed)||0,o=(null===(i=e.guarantee)||void 0===i?void 0:i.minHoursOwed)||0;return a===o?0:Wl(a<o?-1:1,t)}))},"Remaining Hours Owed":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){var r,i,a,o,s=(null===(r=e.guarantee)||void 0===r?void 0:r.minHoursOwed)||0,c=(null===(i=e.guarantee)||void 0===i?void 0:i.minHoursOwed)||0;if(s===c)return 0;var u=s-((null===(a=e.guarantee)||void 0===a?void 0:a.previousHoursFulfilled)||0)-(e.hoursAssigned||0),l=c-((null===(o=n.guarantee)||void 0===o?void 0:o.previousHoursFulfilled)||0)-(n.hoursAssigned||0);return u===l?0:Wl(u<l?-1:1,t)}))},"First Name":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){return"".concat(e.applicant.first_name,", ").concat(e.applicant.last_name).toLowerCase()<="".concat(n.applicant.first_name,", ").concat(n.applicant.last_name).toLowerCase()?Wl(-1,t):Wl(1,t)}))},"Last Name":function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.sort((function(e,n){return"".concat(e.applicant.last_name,", ").concat(e.applicant.first_name).toLowerCase()<="".concat(n.applicant.last_name,", ").concat(n.applicant.first_name).toLowerCase()?Wl(-1,t):Wl(1,t)}))}};function Wl(e,t){return e*(t?1:-1)}var Gl=n(333),Vl=n(421),ql=["title","children","bsPrefix","rootCloseEvent","variant","size","menuAlign","menuRole","renderMenuOnMount","disabled","href","id"],Zl={id:x.a.any,href:x.a.string,onClick:x.a.func,title:x.a.node.isRequired,disabled:x.a.bool,menuAlign:Vl.a,menuRole:x.a.string,renderMenuOnMount:x.a.bool,rootCloseEvent:x.a.string,bsPrefix:x.a.string,variant:x.a.string,size:x.a.string},Yl=s.a.forwardRef((function(e,t){var n=e.title,r=e.children,i=e.bsPrefix,a=e.rootCloseEvent,o=e.variant,c=e.size,u=e.menuAlign,l=e.menuRole,d=e.renderMenuOnMount,f=e.disabled,p=e.href,h=e.id,m=Object(O.a)(e,ql);return s.a.createElement(an.a,Object(g.a)({ref:t},m),s.a.createElement(Gl.a,{id:h,href:p,size:c,variant:o,disabled:f,childBsPrefix:i},n),s.a.createElement(Vl.b,{align:u,role:l,renderOnMount:d,rootCloseEvent:a},r))}));Yl.displayName="DropdownButton",Yl.propTypes=Zl;var Kl=Yl;function Jl(e){return tt({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.8 9.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.4-.3.7s.1.5.3.7z"}}]})(e)}function Xl(e){return tt({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.2 13.3l-6.2-6.3-6.2 6.3c-.2.2-.3.5-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7z"}}]})(e)}function $l(e){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",stroke:"#000",strokeWidth:"2",d:"M7,7 L17,17 M7,17 L17,7"}}]})(e)}var Ql=[{name:"Department",asc:!0},{name:"Program",asc:!1},{name:"Year in Progress",asc:!0}];function ed(e){var t=e.sortList,n=e.setSortList;return Object(f.jsxs)("div",{className:"sort-dropdown-container",children:[t.map((function(e,r){return Object(f.jsx)(td,{index:r,selected:e.name,sortList:t,setSortList:n},r)})),Object(f.jsx)(td,{index:t.length,selected:null,sortList:t,setSortList:n},t.length)]})}function td(e){var t,n=e.index,r=e.selected,i=e.sortList,a=e.setSortList;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Kl,{title:r||"Sort by... ",size:"sm",variant:"info",className:"sort-dropdown",children:Object.keys(Ul).map((function(e){return Object(f.jsx)(an.a.Item,{onSelect:function(){t=Object(We.a)(i);var r={asc:!0,name:e};t[n]=r,a(t)},children:e},e)}))}),r&&Object(f.jsxs)("div",{className:"sort-icon",onClick:function(){(t=Object(We.a)(i))[n]=Object(v.a)(Object(v.a)({},t[n]),{},{asc:!t[n].asc}),a(t)},children:[" ",i[n].asc?Object(f.jsx)(Xl,{}):Object(f.jsx)(Jl,{})," "]}),r&&Object(f.jsx)("div",{className:"sort-icon",onClick:function(){(t=Object(We.a)(i)).splice(n,1),a(t)},children:Object(f.jsx)($l,{})})]})}var nd={program:{label:"Program",func:function(e,t){if(0===t.length)return e;return e.filter((function(e){var n,r=(null===e||void 0===e||null===(n=e.application)||void 0===n?void 0:n.program)||"";return!t.includes(r)&&(!t.includes("other")||!rd("program",r))}))},values:[{label:"Postdoc (PD)",value:"PD"},{label:"PhD (P)",value:"P"},{label:"Masters (M)",value:"M"},{label:"MScAC (m)",value:"MScAC"},{label:"Undergraduate (U)",value:"U"}],hasOther:!0},department:{label:"Department",func:function(e,t){if(0===t.length)return e;return e.filter((function(e){var n,r=(null===e||void 0===e||null===(n=e.application)||void 0===n?void 0:n.department)||"";return!t.includes(r)&&(!t.includes("other")||!rd("department",r))}))},values:[{label:"Mathematics/Applied Mathematics (M)",value:"math"},{label:"Computer Science (CS)",value:"cs"},{label:"Engineering (E)",value:"engr"},{label:"Astronomy and Astrophysics (A)",value:"astro"},{label:"Chemistry (Ch)",value:"chem"},{label:"Medical Biophysics (B)",value:"biophys"},{label:"Physics (P)",value:"phys"},{label:"Statistics (S)",value:"stat"}],hasOther:!0},taPositionPref:{label:"TA Preference",func:function(e,t,n){if(0===e.length||0===t.length||!n)return e;return e.filter((function(e){var r=null;if(e.application){var i=Ll(e.application,n);i&&(r=i.preference_level)}return(!t.includes("other")||null!==r)&&!t.includes(r)}))},values:[{label:"High",value:3},{label:"Medium",value:2},{label:"Low",value:1},{label:"N/A",value:0},{label:"Strong Preference Against",value:-1}],hasOther:!0},status:{label:"Position Status",func:function(e,t,n){if(0===e.length||0===t.length||!n)return e;return e.filter((function(e){var r=Bl(e,n);return!(!r||t.includes(r.status))}))},values:[{label:"Assigned",value:"assigned"},{label:"Assigned (Staged)",value:"staged-assigned"},{label:"Starred",value:"starred"},{label:"Applied",value:"applied"},{label:"Hidden",value:"hidden"}],hasOther:!1},hourFulfillment:{label:"Hour Fulfillment",func:function(e,t){if(0===e.length||0===t.length)return e;return e.filter((function(e){return!t.includes(e.filledStatus)}))},values:[{label:"Overfilled",value:"over"},{label:"Filled",value:"matched"},{label:"Underfilled",value:"under"},{label:"Empty",value:"empty"},{label:"N/A",value:"n/a"}],hasOther:!1}};function rd(e,t){var n,r=Object(b.a)(nd[e].values);try{for(r.s();!(n=r.n()).done;){if(n.value.value===t)return!1}}catch(i){r.e(i)}finally{r.f()}return!0}var id={program:[],department:[],taPositionPref:[],status:["hidden"],hourFulfillment:[]};function ad(e){var t=e.showFilters,n=e.setShowFilters,r=e.filterList,i=e.setFilterList;return Object(f.jsxs)(Gt.a,{show:t,onHide:function(){return n(!1)},size:"xl",dialogClassName:"filter-modal",children:[Object(f.jsx)(Gt.a.Header,{children:Object(f.jsx)(Gt.a.Title,{children:"Filter Applicants"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsx)(ge,{className:"filter-form",children:["department","program","taPositionPref","status","hourFulfillment"].map((function(e){return Object(f.jsxs)(ge.Group,{className:"mb-3",children:[Object(f.jsx)(ge.Label,{className:"filter-section-title",children:nd[e].label}),nd[e].values.map((function(t){return Object(f.jsx)(od,{filterType:e,filterItem:t,filterList:r,setFilterList:i},t.value)})),nd[e].hasOther&&Object(f.jsx)(od,{filterType:e,filterItem:{label:"Other",value:"other"},filterList:r,setFilterList:i},"".concat(e,"-other"))]},e)}))})}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{onClick:function(){return n(!1)},variant:"light",children:"Close"})})]})}function od(e){var t=e.filterType,n=e.filterItem,r=e.filterList,i=e.setFilterList,a=s.a.useMemo((function(){return r[t].indexOf(n.value)}),[r,n.value,t]);return Object(f.jsx)(ge.Check,{type:"checkbox",label:n.label,defaultChecked:-1===a,onChange:function(){var e=Object(v.a)({},r);-1===a?e[t].push(n.value):e[t].splice(a,1),i(e)}})}var sd=n(187),cd=n(328),ud=n(457),ld=["children","name","className","checked","type","onChange","value","disabled","inputRef"],dd=function(){},fd=s.a.forwardRef((function(e,t){var n=e.children,r=e.name,i=e.className,a=e.checked,c=e.type,u=e.onChange,l=e.value,d=e.disabled,f=e.inputRef,p=Object(O.a)(e,ld),h=Object(o.useState)(!1),m=h[0],b=h[1],v=Object(o.useCallback)((function(e){"INPUT"===e.target.tagName&&b(!0)}),[]),j=Object(o.useCallback)((function(e){"INPUT"===e.target.tagName&&b(!1)}),[]);return s.a.createElement(Vt.a,Object(g.a)({},p,{ref:t,className:w()(i,m&&"focus",d&&"disabled"),type:void 0,active:!!a,as:"label"}),s.a.createElement("input",{name:r,type:c,value:l,ref:f,autoComplete:"off",checked:!!a,disabled:!!d,onFocus:v,onBlur:j,onChange:u||dd}),n)}));fd.displayName="ToggleButton";var pd=fd,hd=["children","type","name","value","onChange"],md=s.a.forwardRef((function(e,t){var n=Object(sd.a)(e,{value:"onChange"}),r=n.children,i=n.type,a=n.name,o=n.value,c=n.onChange,u=Object(O.a)(n,hd),l=function(){return null==o?[]:[].concat(o)};return"radio"!==i||a||br()(!1),s.a.createElement(on.a,Object(g.a)({},u,{ref:t,toggle:!0}),Object(ud.a)(r,(function(e){var t=l(),n=e.props,r=n.value,o=n.onChange;return s.a.cloneElement(e,{type:i,name:e.name||a,checked:-1!==t.indexOf(r),onChange:Object(cd.a)(o,(function(e){return function(e,t){if(c){var n=l(),r=-1!==n.indexOf(e);"radio"!==i?c(r?n.filter((function(t){return t!==e})):[].concat(n,[e]),t):!r&&c&&c(e,t)}}(r,e)}))})})))}));md.defaultProps={type:"radio",vertical:!1},md.Button=pd;var bd=md;function vd(e){var t=e.positionSummary,n=e.setFilterString,r=e.filterList,i=e.setFilterList,a=e.sortList,o=e.setSortList;return Object(f.jsxs)("div",{className:"matching-course-header",children:[Object(f.jsxs)("div",{className:"search-container",children:[Object(f.jsx)("div",{className:"form-inline",children:Object(f.jsx)("input",{className:"form-control mr-sm-2 search-bar",type:"text",placeholder:"Filter by name/UTORid...",onChange:function(e){return n(e.target.value)}})}),Object(f.jsx)(gd,{filterList:r,setFilterList:i}),Object(f.jsx)(ed,{sortList:a,setSortList:o}),Object(f.jsx)("div",{className:"container-filler"}),Object(f.jsx)(jd,{})]}),Object(f.jsx)("h2",{children:null===t||void 0===t?void 0:t.position.position_code})]})}function jd(){var e=Object(Nn.a)(),t=Object(c.useSelector)(Dl);return Object(f.jsxs)(bd,{type:"radio",name:"views",defaultValue:t,onChange:function(t){return e(kl(t))},children:[Object(f.jsx)(pd,{className:"no-highlight",value:"grid",children:Object(f.jsx)(wt,{})}),Object(f.jsx)(pd,{className:"no-highlight",value:"table",children:Object(f.jsx)(yt,{})})]})}function gd(e){var t=e.filterList,n=e.setFilterList,r=s.a.useState(!1),i=Object(m.a)(r,2),a=i[0],o=i[1],c=s.a.useMemo((function(){var e=0;for(var n in t)e+=t[n].length;return e}),[t]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"filter-button-container",children:Object(f.jsx)(ut,{className:w()("filter-button",{active:c>0}),onClick:function(){return o(!a)}})}),Object(f.jsx)(ad,{showFilters:a,setShowFilters:o,filterList:t,setFilterList:n})]})}var Od={math:{abbrev:"M",full:"Mathematics/Applied Mathematics"},cs:{abbrev:"CS",full:"Computer Science"},engr:{abbrev:"E",full:"Engineering"},astro:{abbrev:"A",full:"Astronomy and Astrophysics"},chem:{abbrev:"Ch",full:"Chemistry"},biophys:{abbrev:"B",full:"Medical Biophysics"},phys:{abbrev:"P",full:"Physics"},stat:{abbrev:"S",full:"Statistics"},other:{abbrev:"o",full:"Other"}},yd={U:{abbrev:"U",full:"Undergraduate"},PD:{abbrev:"PD",full:"Postdoc"},P:{abbrev:"P",full:"PhD"},MScAC:{abbrev:"m",full:"Masters of Applied Computing"},M:{abbrev:"M",full:"Masters"},other:{abbrev:"o",full:"Other"}},wd=[{Header:"Status",accessor:"status"},{Header:"First Name",accessor:"first_name"},{Header:"Last Name",accessor:"last_name"},{Header:"UTORid",accessor:"utorid"},{Header:"Department",accessor:"department"},{Header:"Program",accessor:"program"},{Header:"YIP",accessor:"yip",width:64},{Header:"GPA",accessor:"gpa",width:64},{Header:"TA Rating",accessor:"taPreference",width:64},{Header:"Instructor Rating",accessor:"instructorPreference",width:64},{Header:"Assignments",accessor:"assignments"},{Header:"Assigned Hours",accessor:"totalHoursAssigned",width:64},{Header:"Previously Assigned Hours",accessor:"previousHoursFulfilled",width:64},{Header:"Total Guaranteed Hours",accessor:"guaranteedHours",width:64}];function _d(e){var t=e.position,n=e.applicantSummaries,r=s.a.useMemo((function(){var e,r={},i=Object(b.a)(n);try{for(i.s();!(e=i.n()).done;){var a,o=e.value;r[o.applicant.id]=(null===(a=Ll(o.application,t))||void 0===a?void 0:a.preference_level)||null}}catch(s){i.e(s)}finally{i.f()}return r}),[n,t]),i=s.a.useMemo((function(){var e,r={},i=Object(b.a)(n);try{for(i.s();!(e=i.n()).done;){var a=e.value;r[a.applicant.id]=Bl(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}),[n,t]),a=n.map((function(e){var n,a,o,s,c,u,l,d,f,p,h,m,b,v,j=(null===(n=e.application)||void 0===n?void 0:n.instructor_preferences.filter((function(e){return e.position.id===t.id})).map((function(e){return e.preference_level})))||[],g=j.length>0?Object(Tt.i)(Tt.k.apply(void 0,Object(We.a)(j))/j.length,3):null,O=i[e.applicant.id],y="";return O&&("Assigned"!==(y=Md[O.status])&&"Assigned (Staged)"!==y||(y+=" (".concat(O.hoursAssigned||"0",")"))),{status:y,last_name:e.applicant.last_name,first_name:e.applicant.first_name,utorid:e.applicant.utorid,department:(null===(a=e.application)||void 0===a?void 0:a.department)?Od[null===(o=e.application)||void 0===o?void 0:o.department]?Od[null===(s=e.application)||void 0===s?void 0:s.department].full:"Other (".concat(null===(c=e.application)||void 0===c?void 0:c.department,")"):"",program:(null===(u=e.application)||void 0===u?void 0:u.program)?yd[null===(l=e.application)||void 0===l?void 0:l.program]?yd[null===(d=e.application)||void 0===d?void 0:d.program].full:"Other (".concat(null===(f=e.application)||void 0===f?void 0:f.program,")"):"",yip:(null===(p=e.application)||void 0===p?void 0:p.yip)||"",gpa:(null===(h=e.application)||void 0===h?void 0:h.gpa)||"",taPreference:r[e.applicant.id],instructorPreference:g,assignments:(v=e,v.matches.map((function(e){return"assigned"===e.status||"staged-assigned"===e.status?"".concat(e.position.position_code," (").concat(e.hoursAssigned,")"):null})).filter((function(e){return e})).join("\n")),totalHoursAssigned:e.hoursAssigned,previousHoursFulfilled:null===(m=e.guarantee)||void 0===m?void 0:m.previousHoursFulfilled,guaranteedHours:"".concat((null===(b=e.guarantee)||void 0===b?void 0:b.minHoursOwed)?"".concat(e.guarantee.minHoursOwed,"\n                ").concat(e.guarantee.maxHoursOwed?" - ".concat(e.guarantee.maxHoursOwed):""):"")}}));return Object(f.jsx)(Ft,{columns:wd,data:a})}function xd(e){var t=e.application,n=e.setShownApplication;return t?Object(f.jsxs)(Gt.a,{show:!!t,onHide:function(){return n(null)},size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Application Details"})}),Object(f.jsx)(Gt.a.Body,{children:t&&Object(f.jsx)(bl,{application:t})}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{onClick:function(){return n(null)},variant:"outline-secondary",children:"Close"})})]}):null}function Sd(e){var t=e.match,n=e.show,r=e.setShow,i=s.a.useState(""),a=Object(m.a)(i,2),o=a[0],c=a[1],u=Object(Nn.a)();return Object(f.jsxs)(Gt.a,{show:n,onHide:function(){return r(!1)},size:"sm",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Update Hours"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsx)("input",{className:"form-control",type:"number",defaultValue:t&&t.hoursAssigned>0?t.hoursAssigned:0,onChange:function(e){return c(e.target.value)}})}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return r(!1)},variant:"outline-secondary",children:"Close"}),Object(f.jsx)(Vt.a,{disabled:""===o,onClick:function(){u(wl({positionCode:t.position.position_code,utorid:t.applicant.utorid,stagedAssigned:!0,stagedHoursAssigned:Number(o)})),r(!1)},variant:"outline-primary",children:"Save"})]})]})}function kd(e){var t=e.match,n=e.applicantSummary,r=e.setShownApplication,i=e.setShowChangeHours,a=Object(Nn.a)(),o=s.a.useMemo((function(){return{positionCode:t.position.position_code,utorid:t.applicant.utorid}}),[t]),c="hidden"===t.status||"applied"===t.status||"starred"===t.status,u="assigned"!==t.status&&"hidden"!==t.status,l=s.a.useCallback((function(){a(wl(Object(v.a)(Object(v.a)({},o),{},{stagedAssigned:!0,stagedHoursAssigned:t.position.hours_per_assignment||0})))}),[o,t,a]),d=s.a.useCallback((function(){a(wl(Object(v.a)(Object(v.a)({},o),{},{stagedAssigned:!1,stagedHoursAssigned:0})))}),[o,a]),p=s.a.useCallback((function(){a(wl(Object(v.a)(Object(v.a)({},o),{},{hidden:!0})))}),[o,a]),h=s.a.useCallback((function(){a(wl(Object(v.a)(Object(v.a)({},o),{},{hidden:!1})))}),[o,a]),m=s.a.useCallback((function(){var e,r=Object(b.a)(n.matches);try{for(r.s();!(e=r.n()).done;){var i=e.value;a(wl({utorid:t.applicant.utorid,positionCode:i.position.position_code,hidden:!0}))}}catch(o){r.e(o)}finally{r.f()}}),[a,t,n.matches]),j=s.a.useCallback((function(){var e,r=Object(b.a)(n.matches);try{for(r.s();!(e=r.n()).done;){var i=e.value;a(wl({utorid:t.applicant.utorid,positionCode:i.position.position_code,hidden:!1}))}}catch(o){r.e(o)}finally{r.f()}}),[a,t,n.matches]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(an.a.Item,{onClick:function(){return r(n.application)},children:"View application details"}),c&&Object(f.jsxs)(an.a.Item,{onClick:l,children:["Assign to ",Object(f.jsx)("b",{children:t.position.position_code})," (",t.position.hours_per_assignment||0,")"]}),"staged-assigned"===t.status&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(an.a.Item,{onClick:function(){return i(!0)},children:"Change assigned hours"}),Object(f.jsxs)(an.a.Item,{onClick:d,children:["Unassign from ",Object(f.jsx)("b",{children:t.position.position_code})]})]}),u&&Object(f.jsxs)(an.a.Item,{onClick:p,children:["Hide from ",Object(f.jsx)("b",{children:t.position.position_code})]}),c&&Object(f.jsx)(an.a.Item,{onClick:m,children:"Hide from all courses"}),"hidden"===t.status&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(an.a.Item,{onClick:h,children:["Unhide from ",Object(f.jsx)("b",{children:t.position.position_code})]}),Object(f.jsx)(an.a.Item,{onClick:j,children:"Unhide from all courses"})]})]})}function Cd(e){var t,n=e.applicantSummary;return Object(f.jsxs)("div",{className:w()("applicant-status-sidebar",n.filledStatus),children:[Object(f.jsx)("div",{className:"applicant-status-value",children:n.hoursAssigned}),Object(f.jsx)("div",{className:"applicant-status-divider"}),Object(f.jsx)("div",{className:"applicant-status-value",children:(null===(t=n.guarantee)||void 0===t?void 0:t.minHoursOwed)||0})]})}function Ad(e){return tt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M15 14l-.117.007a1 1 0 0 0-.876.876L14 15v6H3.998A.996.996 0 0 1 3 20.007V3.993C3 3.445 3.445 3 3.993 3h16.014c.548 0 .993.447.993.999V14h-6zm6 2l-5 4.997V16h5z"}}]}]})(e)}function Ed(e){var t=e.applicantSummary,n=Object(Nn.a)(),r=s.a.useState(!1),i=Object(m.a)(r,2),a=i[0],o=i[1],c=s.a.useState(t.note||""),u=Object(m.a)(c,2),l=u[0],d=u[1],p=s.a.useCallback((function(e){n(xl({utorid:t.applicant.utorid,note:l}))}),[n,l,t]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Ad,{title:"View or edit this applicant's note",className:"applicant-icon ".concat(t.note&&t.note.length>0?"active":"inactive"),onClick:function(){return o(!0)}}),Object(f.jsxs)(Gt.a,{show:a,onHide:function(){return o(!1)},children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Applicant Note"})}),Object(f.jsx)(Gt.a.Body,{children:Object(f.jsx)(ge,{children:Object(f.jsx)(ge.Group,{className:"mb-3",children:Object(f.jsx)(ge.Control,{as:"textarea",rows:3,defaultValue:t.note||"",onChange:function(e){return d(e.target.value)}})})})}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return o(!1)},variant:"outline-secondary",children:"Cancel"}),Object(f.jsx)(Vt.a,{onClick:function(){p(l),o(!1)},variant:"outline-primary",children:"Save"})]})]})]})}function Dd(e){return tt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}}]})(e)}function Td(e){var t=e.match,n=Object(Nn.a)(),r=s.a.useCallback((function(){n(wl({positionCode:t.position.position_code,utorid:t.applicant.utorid,starred:"starred"!==t.status}))}),[n,t]);return Object(f.jsx)(Dd,{className:w()("star-icon",{filled:"starred"===t.status}),onClick:r})}function Nd(e){var t,n,r,i,a,o,c,u,l,d=e.applicantSummary,p=e.match,h=s.a.useMemo((function(){return Ll(d.application,p.position)}),[p,d]),m=s.a.useMemo((function(){var e;return(null===(e=d.application)||void 0===e?void 0:e.instructor_preferences)?d.application.instructor_preferences.filter((function(e){return e.position.id===p.position.id})).map((function(e){return e.preference_level})):[]}),[d,p]),b=m.length>0?Object(Tt.i)(Tt.k.apply(void 0,Object(We.a)(m))/m.length,3):null,v=(null===(t=d.application)||void 0===t?void 0:t.department)?Od[d.application.department]:null,j=(null===(n=d.application)||void 0===n?void 0:n.program)?yd[d.application.program]:null;return Object(f.jsxs)("div",{className:"applicant-pill-middle",children:[Object(f.jsx)("div",{className:"grid-row",children:Object(f.jsx)("div",{className:"applicant-name",children:"".concat(d.applicant.first_name," ").concat(d.applicant.last_name)})}),Object(f.jsxs)("div",{className:"grid-row",children:[Object(f.jsx)("div",{className:"grid-detail-small",title:v?v.full:(null===(r=d.application)||void 0===r?void 0:r.department)?"Other (".concat(null===(i=d.application)||void 0===i?void 0:i.department,")"):"",children:v?v.abbrev:(null===(a=d.application)||void 0===a?void 0:a.department)?"o":""}),Object(f.jsxs)("div",{className:"grid-detail-small",title:j?j.full:(null===(o=d.application)||void 0===o?void 0:o.program)?"Other (".concat(null===(c=d.application)||void 0===c?void 0:c.program,")"):"",children:[j?j.abbrev:(null===(u=d.application)||void 0===u?void 0:u.program)?"o":"",null===(l=d.application)||void 0===l?void 0:l.yip]}),Object(f.jsx)("div",{className:"grid-detail-small",title:"TA's preference level",children:null===h||void 0===h?void 0:h.preference_level}),Object(f.jsx)("div",{className:"grid-detail-small",title:"Average instructor rating",children:b||""})]})]})}function Pd(e){var t=e.applicantSummary,n=e.match,r="assigned"===n.status||"staged-assigned"===n.status;return Object(f.jsxs)("div",{className:"applicant-pill-right",children:[Object(f.jsx)("div",{className:"grid-row",children:r?Object(f.jsxs)("div",{className:"applicant-hours",children:["(",n.hoursAssigned,")"]}):Object(f.jsx)("div",{className:"icon-container",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:Object(f.jsx)(Td,{match:n})})}),Object(f.jsx)("div",{className:"grid-row",children:Object(f.jsx)("div",{className:"icon-container",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:Object(f.jsx)(Ed,{applicantSummary:t})})})]})}var Rd=s.a.forwardRef((function(e,t){var n=e.applicantSummary,r=e.match,i=e.onClick;return r?Object(f.jsxs)("button",{ref:t,className:"applicant-pill",onClick:i,children:[Object(f.jsx)(Cd,{applicantSummary:n}),Object(f.jsx)(Nd,{applicantSummary:n,match:r}),Object(f.jsx)(Pd,{applicantSummary:n,match:r})]}):Object(f.jsx)("button",{ref:t,className:"applicant-pill",onClick:i,children:Object(f.jsx)(Cd,{applicantSummary:n})})}));function Hd(e){var t=e.applicantSummary,n=e.position,r=s.a.useState(null),i=Object(m.a)(r,2),a=i[0],o=i[1],c=s.a.useState(!1),u=Object(m.a)(c,2),l=u[0],d=u[1],p=Bl(t,n),h=s.a.useMemo((function(){return s.a.forwardRef((function(e,n){return Object(f.jsx)(Rd,{ref:n,onClick:function(t){t.preventDefault(),e.onClick&&e.onClick(t)},applicantSummary:t,match:p})}))}),[t,p]);return p?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(an.a,{children:[Object(f.jsx)(Gl.a,{as:h}),Object(f.jsx)(Vl.b,{children:Object(f.jsx)(kd,{match:p,applicantSummary:t,setShownApplication:o,setShowChangeHours:d})})]}),Object(f.jsx)(xd,{application:a,setShownApplication:o}),Object(f.jsx)(Sd,{match:p,show:l,setShow:d})]}):null}function Id(e){var t=e.position,n=e.applicantSummaries,r=s.a.useMemo((function(){var e,r={applied:[],starred:[],"staged-assigned":[],assigned:[],hidden:[]},i=Object(b.a)(n);try{for(i.s();!(e=i.n()).done;){var a=e.value,o=Bl(a,t);o&&o.status&&(r[o.status]=r[o.status]||[],r[o.status].push(a))}}catch(s){i.e(s)}finally{i.f()}return r}),[n,t]);return Object(f.jsx)(s.a.Fragment,{children:["assigned","staged-assigned","starred","applied","hidden"].map((function(e){return Object(f.jsx)(Fd,{header:Md[e],applicantSummaries:r[e],position:t},e)}))})}function Fd(e){var t=e.header,n=e.applicantSummaries,r=e.position;return 0===n.length?null:Object(f.jsxs)("div",{className:"grid-view-section",children:[Object(f.jsxs)("h4",{children:[t,"Assigned"===t&&Object(f.jsx)(ft,{className:"header-lock",title:"These assignments can only be changed through the Assignments & Positions > Assignments tab."})]}),Object(f.jsx)("div",{className:"grid-view-list",children:n.map((function(e){return Object(f.jsx)(Hd,{applicantSummary:e,position:r},e.applicant.id)}))})]})}function zd(e){var t=e.positionSummary,n=e.applicantSummaries,r=Object(c.useSelector)(Dl),i=s.a.useMemo((function(){var e=n.length,r=t.applicantSummaries.length,i=t.applicantSummaries.length-n.length,a="Showing ".concat(e,"/").concat(r," applicants");return i>0&&(a+=" (".concat(i," hidden)")),a}),[t,n]);return Object(f.jsxs)("div",{className:"matching-course-body",children:["table"===r?Object(f.jsx)(_d,{position:t.position,applicantSummaries:n}):Object(f.jsx)(Id,{position:t.position,applicantSummaries:n}),Object(f.jsx)("div",{className:"applicant-count",children:i})]})}var Md={assigned:"Assigned","staged-assigned":"Assigned (Staged)",applied:"Applied",starred:"Starred",hidden:"Hidden"};function Bd(e){var t=e.positionSummary,n=s.a.useState(""),r=Object(m.a)(n,2),i=r[0],a=r[1],o=s.a.useState(Ql),c=Object(m.a)(o,2),u=c[0],l=c[1],d=s.a.useState(id),p=Object(m.a)(d,2),h=p[0],v=p[1],j=s.a.useMemo((function(){return function(e,t,n,r){return function(e,t,n){if(0===e.length||0===t.length)return Object(We.a)(e);var r,i=Object(We.a)(e),a=Object(We.a)(t).reverse(),o=Object(b.a)(a);try{for(o.s();!(r=o.n()).done;){var s=r.value;"TA Preference"===s.name||"Instructor Preference"===s.name?Ul[s.name](i,s.asc,n):Ul[s.name](i,s.asc)}}catch(c){o.e(c)}finally{o.f()}return i}(function(e,t,n){if(0===Object.keys(t).length||!n)return Object(We.a)(e);var r=Object(We.a)(e);for(var i in t)r="taPositionPref"===i||"status"===i?nd[i].func(r,t[i],n):nd[i].func(r,t[i]);return r}(e.applicantSummaries.filter((function(e){return"".concat(e.applicant.first_name," ").concat(e.applicant.last_name," ").concat(e.applicant.utorid).toLowerCase().includes(t.toLowerCase())})),n,e.position)||[],r,e.position)}(t,i,h,u)}),[i,u,h,t]);return Object(f.jsxs)("div",{className:"matching-applicant-area",children:[Object(f.jsx)(vd,{positionSummary:t,setFilterString:a,filterList:h,setFilterList:v,sortList:u,setSortList:l}),Object(f.jsx)(zd,{positionSummary:t,applicantSummaries:j})]})}function Ld(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i="Select a JSON file.",a=s.a.useState(i),o=Object(m.a)(a,2),c=o[0],u=o[1],l=s.a.useState(null),d=Object(m.a)(l,2),p=d[0],h=d[1],b=s.a.useState(null),v=Object(m.a)(b,2),j=v[0],g=v[1],O=s.a.useState(null),y=Object(m.a)(O,2),w=y[0],_=y[1],x=s.a.useState(""),S=Object(m.a)(x,2),k=S[0],C=S[1];s.a.useEffect((function(){if(p){var e=new Uint8Array(p);try{var t=(new TextDecoder).decode(e);return g({data:JSON.parse(t),fileType:"json"}),void C("")}catch(xp){var n="Could not determine file type for ".concat(c);console.warn(n),C(n)}}}),[p,c]),s.a.useEffect((function(){if(j)try{return _(j.data.map((function(e){return{utorid:e.utorid,minHoursOwed:e.minHoursOwed,maxHoursOwed:e.maxHoursOwed,previousHoursFulfilled:e.previousHoursFulfilled}}))),void C("")}catch(xp){var e="Could not parse data for ".concat(c,", check content format");C(e),console.warn(e)}}),[j,c]);var A=Object(Nn.a)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Vt.a,{variant:"outline-primary",size:"sm",onClick:function(){return r(!0)},children:"Import Sub. Appt. Data"}),Object(f.jsxs)(Gt.a,{show:n,onHide:function(){return r(!1)},children:[Object(f.jsx)(Gt.a.Header,{children:Object(f.jsx)(Gt.a.Title,{children:"Import Subsequent Appointment Data"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(ge,{children:Object(f.jsx)(yn,{className:"mb-3",children:Object(f.jsx)(oe,{children:Object(f.jsx)(ge.File,{label:c,onChange:function(e){if(e.target&&e.target.files){var t=e.target.files[0];u(t.name);var n=new FileReader;n.onload=function(e){if(!e.target||"string"===typeof e.target.result){var t="File of unexpected type";return C(t),void console.warn(t)}C(""),h(e.target.result)},n.readAsArrayBuffer(t)}},custom:!0})})})}),k&&Object(f.jsx)(Qt.a,{variant:"warning",children:k})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return r(!1)},variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{variant:"primary",onClick:function(){w&&A(_l(w)),h(null),g(null),u(i),r(!1)},disabled:!!k||!j,children:"Confirm"})]})]})]})}function Ud(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],i="Select a JSON file.",a=s.a.useState(i),o=Object(m.a)(a,2),u=o[0],l=o[1],d=s.a.useState(null),p=Object(m.a)(d,2),h=p[0],v=p[1],j=s.a.useState(null),g=Object(m.a)(j,2),O=g[0],y=g[1],w=s.a.useState(null),_=Object(m.a)(w,2),x=_[0],S=_[1],k=s.a.useState(null),C=Object(m.a)(k,2),A=C[0],E=C[1],D=s.a.useState({}),T=Object(m.a)(D,2),N=T[0],P=T[1],R=s.a.useState(""),H=Object(m.a)(R,2),I=H[0],F=H[1],z=Object(c.useSelector)(Nl),M=Object(Nn.a)();return s.a.useEffect((function(){if(h){var e=new Uint8Array(h);try{var t=(new TextDecoder).decode(e);return y({data:JSON.parse(t),fileType:"json"}),void F("")}catch(xp){var n="Could not determine file type for ".concat(u);F(n),console.warn(n)}}}),[h,u]),s.a.useEffect((function(){if(O)try{if(O.data.matches){var e=function(e,t){var n,r={},i=Object(b.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a.utorid]||(r[a.utorid]={}),r[a.utorid][a.positionCode]=a}}catch(o){i.e(o)}finally{i.f()}return t.filter((function(e){if(!r[e.utorid]||!r[e.utorid][e.positionCode])return!0;var t=r[e.utorid][e.positionCode];return t.starred!==e.starred||t.hidden!==e.hidden||t.stagedAssigned!==e.stagedAssigned||t.stagedHoursAssigned!==e.stagedHoursAssigned}))}(z,O.data.matches);S(e)}if(O.data.guarantees&&E(O.data.guarantees),O.data.notes){var t={};for(var n in Object.keys(O.data.notes))t[n]=O.data.notes[n];P(t)}return void F("")}catch(xp){var r="Could not parse data for ".concat(u,", check content format");F(r),console.warn(r)}}),[O,z,u]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Vt.a,{variant:"outline-primary",size:"sm",onClick:function(){return r(!0)},children:"Import Data"}),Object(f.jsxs)(Gt.a,{show:n,onHide:function(){return r(!1)},children:[Object(f.jsx)(Gt.a.Header,{children:Object(f.jsx)(Gt.a.Title,{children:"Import Matching Data"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(ge,{children:Object(f.jsx)(yn,{className:"mb-3",children:Object(f.jsx)(oe,{children:Object(f.jsx)(ge.File,{label:u,onChange:function(e){if(e.target&&e.target.files){var t=e.target.files[0];l(t.name);var n=new FileReader;n.onload=function(e){if(!e.target||"string"===typeof e.target.result){var t="File of unexpected type";return F(t),void console.warn(t)}F(""),v(e.target.result)},n.readAsArrayBuffer(t)}},custom:!0})})})}),I&&Object(f.jsx)(Qt.a,{variant:"warning",children:I})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return r(!1)},variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{variant:"primary",onClick:function(){if(x){var e,t=Object(b.a)(x);try{for(t.s();!(e=t.n()).done;){var n=e.value;M(wl(n))}}catch(o){t.e(o)}finally{t.f()}}if(A&&M(_l(A)),N)for(var a in Object.keys(N))M(xl({utorid:a,note:N[a]}));v(null),y(null),l(i),F(""),r(!1)},disabled:!!I||!O,children:"Confirm"})]})]})]})}function Wd(){var e=Object(c.useSelector)(Al),t=Object(c.useSelector)(Tl),n=Object(Nn.a)();return Object(f.jsxs)(Vt.a,{variant:"outline-primary",size:"sm",onClick:function(){var t=new Blob([JSON.stringify(e,null,4)],{type:"text/plain;charset=utf-8"});rn.a.saveAs(t,"matching_data-".concat((new Date).toLocaleDateString("en-CA",{year:"numeric",month:"numeric",day:"numeric"}),".json")),n(Cl(!1))},children:[t&&Object(f.jsx)("span",{className:"change-icon",children:"\u25cf"}),"Export Data"]})}var Gd=[{Header:"Position Code",accessor:"position.position_code"},{Header:"Hours",accessor:"hoursAssigned"},{Header:"Last Name",accessor:"applicant.last_name"},{Header:"First Name",accessor:"applicant.first_name"},{Header:"UTORid",accessor:"applicant.utorid"}];function Vd(){var e=s.a.useState(!1),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(c.useSelector)(Rl),l=Object(Nn.a)(),d=s.a.useMemo((function(){return o.filter((function(e){return"staged-assigned"===e.status}))}),[o]);function p(){return(p=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.map((function(e){return l(Object(u.bb)({position:e.position,applicant:e.applicant,hours:e.hoursAssigned}))})),e.next=3,Promise.all(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(Vt.a,{variant:"outline-primary",size:"sm",className:"footer-button finalize",onClick:function(){return r(!0)},disabled:0===d.length,children:["Finalize Changes",d.length>0?" (".concat(d.length,")"):""]}),Object(f.jsxs)(Gt.a,{show:n,dialogClassName:"finalize-changes-modal",onHide:function(){return r(!1)},size:"lg",children:[Object(f.jsx)(Gt.a.Header,{children:Object(f.jsx)(Gt.a.Title,{children:"Finalize Changes"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)(Qt.a,{variant:"info",children:"The following assignments will be made."}),Object(f.jsx)(Ft,{columns:Gd,data:d,filterable:!0})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:function(){return r(!1)},variant:"light",children:"Cancel"}),Object(f.jsx)(Vt.a,{variant:"primary",onClick:function(){if(0!==d.length){!function(){p.apply(this,arguments)}();var e,t=Object(b.a)(d);try{for(t.s();!(e=t.n()).done;){var n=e.value;l(wl({positionCode:n.position.position_code,utorid:n.applicant.utorid,stagedAssigned:!1,stagedHoursAssigned:0}))}}catch(i){t.e(i)}finally{t.f()}r(!1)}else r(!1)},children:"Confirm"})]})]})]})}n(798);function qd(){var e=Object(c.useSelector)(u.b),t=Object(Nn.a)();s.a.useEffect((function(){function n(){return(n=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(u.C)());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(){n.apply(this,arguments)}()}),[e,t]);var n=Object(c.useSelector)(Il),r=Object(c.useSelector)(El),o=s.a.useMemo((function(){return r?n[r]:null}),[r,n]);return Object(f.jsxs)("div",{className:"page-body matching",children:[Object(f.jsxs)("div",{className:"matching-body",children:[Object(f.jsx)(zl,{selectedPositionId:r,positionSummaries:Object.values(n)}),o&&Object(f.jsx)(Bd,{positionSummary:o})]}),Object(f.jsxs)("div",{className:"matching-footer page-actions",children:[Object(f.jsx)(Ud,{}),Object(f.jsx)(Ld,{}),Object(f.jsx)(Wd,{}),Object(f.jsx)("div",{className:"footer-button-separator"}),Object(f.jsx)(Vd,{})]})]})}function Zd(){return Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{exact:!0,path:"/",children:Object(f.jsx)(h.a,{to:"/assignments_and_positions/assignments"})}),Object(f.jsx)(h.b,{exact:!0,path:"/tapp",children:Object(f.jsx)(zc,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/session_setup",children:Object(f.jsx)(h.a,{to:"/session_setup/sessions"})}),Object(f.jsx)(h.b,{exact:!0,path:"/session_setup/sessions",children:Object(f.jsx)(Vn,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/session_setup/contract_templates",children:Object(f.jsx)(Dc,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/session_setup/instructors",children:Object(f.jsx)(Fn,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/assignments_and_positions",children:Object(f.jsx)(h.a,{to:"/assignments_and_positions/assignments"})}),Object(f.jsx)(h.b,{exact:!0,path:"/assignments_and_positions/positions",children:Object(f.jsx)(Ts,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/assignments_and_positions/assignments",children:Object(f.jsx)(jc,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/assignments_and_positions/ddahs",children:Object(f.jsx)(Bu,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/applicants_and_matching",children:Object(f.jsx)(h.a,{to:"/applicants_and_matching/applicants"})}),Object(f.jsx)(h.b,{exact:!0,path:"/applicants_and_matching/applicants",children:Object(f.jsx)(Jc,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/applicants_and_matching/applications",children:Object(f.jsx)(gl,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/applicants_and_matching/matching",children:Object(f.jsx)(qd,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/postings",children:Object(f.jsx)(h.a,{to:"/postings/overview"})}),Object(f.jsx)(h.b,{exact:!0,path:"/postings/overview",children:Object(f.jsx)(Ku,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/postings/:posting_id/details",children:Object(f.jsx)(el,{})}),Object(f.jsx)(h.b,{exact:!0,path:"/postings/:posting_id/preview",children:Object(f.jsx)(rl,{})})]})}var Yd=n(30),Kd=function(e){return{type:Yd.b,payload:e}},Jd=function(e){return e.ui.instructor},Xd=Object(ps.a)([Jd,u.N],(function(e,t){return t.find((function(t){return t.id===e.activePositionId}))||null})),$d=Object(ps.a)([Jd],(function(e){return e.selectedDdahForEmailIds}));function Qd(){var e=Object(c.useSelector)(Xd),t=Object(c.useSelector)(u.g),n=Object(o.useMemo)((function(){return t.filter((function(t){return t.position.id===(null===e||void 0===e?void 0:e.id)}))}),[e,t]);if(!e)return Object(f.jsx)("h4",{children:"No position currently selected"});var r=[{Header:"Last Name",accessor:"applicant.last_name"},{Header:"First Name",accessor:"applicant.first_name"},{Header:"UTORid",accessor:"applicant.utorid"},{Header:"Email",accessor:"applicant.email",Cell:function(t){var n=t.value,r=t.row.original.applicant;return Object(f.jsx)("a",{href:encodeURI("mailto:".concat(r.first_name," ").concat(r.last_name," <").concat(n,">?subject=").concat(e.position_code,"&body=Dear ").concat(r.first_name," ").concat(r.last_name,",\n\n")),children:n})}},{Header:"Hours",accessor:"hours",className:"number-cell",maxWidth:70},{Header:"Offer Status",id:"status",accessor:function(e){return"No Contract"===e.active_offer_status?null:e.active_offer_status},Cell:Hs},{Header:"Recent Activity",accessor:"active_offer_recent_activity_date",Cell:function(e){var t=e.value;return t?Object(Tt.d)(t):null}}];return Object(f.jsx)(Ft,{filterable:!0,columns:r,data:n})}function ef(e){return e.slice(0,10)}function tf(e){return function(t){t=t.filter((function(t){return t.position.id===e.id}));var n,r={},i=Object(b.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;r[a.applicant.utorid]=a.applicant}}catch(s){i.e(s)}finally{i.f()}var o={assignments:t.map((function(e){var t;return{utorid:e.applicant.utorid,position_code:e.position.position_code,hours:e.hours,start_date:ef(e.start_date),end_date:ef(e.end_date),status:e.active_offer_status,wage_chunks:null===(t=e.wage_chunks)||void 0===t?void 0:t.map((function(e){return{hours:e.hours,start_date:ef(e.start_date),end_date:ef(e.end_date),rate:e.rate}}))}})),applicants:Object.values(r).map((function(e){return{utorid:e.utorid,student_number:e.student_number,first_name:e.first_name,last_name:e.last_name,email:e.email}})),positions:[{position_code:e.position_code,position_title:e.position_title,start_date:ef(e.start_date),end_date:ef(e.end_date),current_enrollment:e.current_enrollment,current_waitlisted:e.current_waitlisted,duties:e.duties,qualifications:e.qualifications,instructors:e.instructors.map((function(e){return{first_name:e.first_name,last_name:e.last_name,email:e.email}}))}]};return new File([JSON.stringify(o,null,4)],"".concat(e.position_code,".json"),{type:"application/json"})}}function nf(){var e=Object(Nn.a)(),t=s.a.useState(null),n=Object(m.a)(t,2),r=n[0],o=n[1],l=Object(c.useSelector)(u.b),d=Object(c.useSelector)(Xd);return s.a.useEffect((function(){function t(){return(t=Object(a.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o(null),null!=r){t.next=3;break}throw new Error("Unknown export type ".concat(r));case 3:if(l){t.next=5;break}throw new Error("Must have a session selected to export data");case 5:if(d){t.next=7;break}throw new Error("Must have a position selected to export data");case 7:if("json"!==r){t.next=14;break}return t.next=10,e(Object(u.t)(tf(d),r));case 10:n=t.sent,rn.a.saveAs(n),t.next=18;break;case 14:return t.next=16,e(Object(u.t)(Object(Sn.g)(l,(function(e){return e.filter((function(e){return e.position.id===d.id}))})),r));case 16:a=t.sent,rn.a.saveAs(a);case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&function(){return t.apply(this,arguments)}().catch(console.error)}),[r,e,d,l]),Object(f.jsx)(fn,{onClick:function(e){o(e)}})}function rf(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(Xd);if(!e||!t)return Object(f.jsx)("h4",{children:"Please select a Session and Position to see TA information"});var n="".concat(t.position_code," ").concat(t.position_title?" (".concat(t.position_title,")"):""),r="".concat(e.name," (").concat(Object(Tt.d)(e.start_date)," to ").concat(Object(Tt.d)(e.end_date),")");return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Actions"}),Object(f.jsx)(nf,{})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)("h4",{children:Object(f.jsx)("span",{children:n})}),Object(f.jsxs)("p",{children:["Below is a list of your TAs for"," ",Object(f.jsx)("span",{className:"text-primary",children:n})," ","for the"," ",Object(f.jsx)("span",{className:"text-primary",children:r})," ","session. TAs will only show up in this list if they have been emailed an offer (status ",Object(f.jsx)("i",{children:"pending"}),") or if they have accepted an offer (status ",Object(f.jsx)("i",{children:"accepted"}),"). TAs who have rejected an offer or had their offer withdrawn will now show up."]}),Object(f.jsx)(Qd,{})]})]})}function af(e){var t=e.row.original;switch(t.issue_code){case"hours_mismatch":return Object(f.jsx)("div",{className:"hours-mismatch-ddah",children:t.issues});case"missing":return Object(f.jsx)("div",{className:"missing-ddah",children:t.issues});default:return null}}function of(e){var t=e.position_id,n=e.onView,r=e.onCreate,i=e.onEmail,a=Object(c.useSelector)(u.g),o=Object(c.useSelector)(Xc.b).filter((function(e){return e.assignment.position.id===t})),l=a.filter((function(e){return e.position.id===t})),d=Object(Nn.a)(),p=o.map((function(e){return{id:e.id,assignment_id:e.assignment.id,position_code:e.assignment.position.position_code,last_name:e.assignment.applicant.last_name,first_name:e.assignment.applicant.first_name,total_hours:e.total_hours,status:e.status||"unsent",emailed_date:Object(Tt.d)(e.emailed_date||""),approved:e.approved_date?"Approved":"",readable_status:eu(e),issues:Qc(e),issue_code:Qc(e)?"hours_mismatch":null}}));var h,m={},v=Object(b.a)(o);try{for(v.s();!(h=v.n()).done;){m[h.value.assignment.id]=!0}}catch(w){v.e(w)}finally{v.f()}var j,g=Object(b.a)(l);try{for(g.s();!(j=g.n()).done;){var O=j.value;m[O.id]||p.push({position_code:O.position.position_code,assignment_id:O.id,last_name:O.applicant.last_name||"",first_name:O.applicant.first_name,total_hours:null,status:null,emailed_date:null,issues:"Missing DDAH",issue_code:"missing"})}}catch(w){g.e(w)}finally{g.f()}p.sort((function(e,t){return e.position_code>t.position_code?1:e.position_code<t.position_code?-1:e.last_name>t.last_name?1:e.last_name<t.last_name?-1:0}));var y=[{Header:Object(f.jsx)("div",{title:"View or edit a DDAH",children:Object(f.jsx)(Et,{})}),Cell:function(e){var t=e.row.original;if(null!=t.id){var i=t.id;return Object(f.jsx)(Vt.a,{variant:"light",size:"sm",title:"View or Edit DDAH for ".concat(t.first_name," ").concat(t.last_name),className:"py-0",onClick:function(){n&&n(i)},children:Object(f.jsx)(jt,{})})}return Object(f.jsx)(Vt.a,{variant:"light",size:"sm",title:"Create DDAH for ".concat(t.first_name," ").concat(t.last_name),className:"py-0",onClick:function(){r&&r(t.assignment_id)},children:Object(f.jsx)(mt,{})})},id:"add_or_edit",maxWidth:40,resizable:!1,className:"details-col centered"},{Header:Ln("Last Name"),accessor:"last_name"},{Header:Ln("First Name"),accessor:"first_name"},{Header:Ln("DDAH Hours"),accessor:"total_hours",maxWidth:120,style:{textAlign:"right"}},{Header:Ln("Status"),accessor:"status"},{Header:Ln("Emailed"),accessor:"emailed_date",Cell:function(e){var t=e.value,n=e.row.original;return n.id?Object(f.jsxs)(s.a.Fragment,{children:[t,Object(f.jsx)(Vt.a,{variant:"light",size:"sm",className:"py-0 mx-1 float-right",title:"Email DDAH",onClick:function(){n.id&&i&&(d(Kd([n.id])),i())},children:Object(f.jsx)(ht,{})})]}):null}},{Header:Ln("Approved"),accessor:"approved",Cell:function(e){return e.value?Object(f.jsx)("div",{className:"accepted-ddah",children:Object(f.jsx)(it,{})}):null}},{Header:Ln("Issues"),accessor:"issues",Cell:af}];return Object(f.jsx)(Ft,{columns:y,data:p,filterable:!0})}n(476);var sf,cf={note:{title:"Notes",helpText:"As notes, you must list (a) the enrollment per TA Section at the time of the DDAH, (b) the estimated course enrollment, (c) the tutorial category (discussion-based/skill-development/exam review/practical), and (d) whether tutorials have 30-or-less or more than 30 students. You may list this information in one note or in multiple notes."},prep:{title:"Preparation",helpText:"Preparation time must include at least 1 hour per different tutorial lesson. If a TA runs the same tutorial multiple times, the prep time may be the same as if the TA ran the tutorial only once."},training:{title:"Training",helpText:""},meeting:{title:"Meetings",helpText:"Meetings must include a minimum of 0.5 hours for a mid-semester check-in where you discuss with the TA whether their workload is appropriately balanced and whether the DDAH needs to be modified."},contact:{title:"Contact Time",helpText:"Tutorials, Lecture TAing, and Office Hours should be listed here."},marking:{title:"Marking/Grading",helpText:'A breakdown of when assignments are expected to be available for marking, how long it will take to mark them, and the expected turnaround time must be included on a per-assignment basis. For example, you might write "20 hours marking Midterm 1; 120 tests; 10 minutes per test; available on Oct 4; expected turnaround time 5 days."'},other:{title:"Other duties",helpText:""}};function uf(e){var t=e.category,n=e.duties,r=e.showEmptyDutyString,i=void 0===r||r,a=e.editable,o=void 0===a||a,c=e.onChange,u=e.onDelete,l=e.onNew;if(!n)return null;var d=o&&l?Object(f.jsxs)("div",{className:"form-row mb-3",children:[Object(f.jsx)(Vt.a,{title:"Add Duty",onClick:function(){return l&&l(t)},variant:"outline-secondary",size:"sm",className:"ml-1",children:Object(f.jsx)(mt,{})}),Object(f.jsx)("span",{className:"add-duty",children:"Add"})]}):null;return i&&0===n.length?Object(f.jsx)(s.a.Fragment,{children:d||Object(f.jsx)("li",{className:"duty no-duties",children:"No Duties Listed"})}):Object(f.jsxs)(s.a.Fragment,{children:[n.map((function(e){return o?Object(f.jsx)(lf,{category:t,duty:e,onChange:c,onDelete:u},e.order):Object(f.jsx)(lf,{category:t,duty:e},e.order)})),d]})}function lf(e){var t=e.category,n=e.duty,r=e.onChange,i=e.onDelete;return r?Object(f.jsxs)(we,{icon:i?Object(f.jsx)(Vt.a,{title:"Remove duty",onClick:function(){return i(n)},variant:"outline-info",children:Object(f.jsx)(xt,{})}):null,colStretch:[1,7],children:[Object(f.jsx)(f.Fragment,{children:"note"===t?Object(f.jsx)("div",{}):Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Hours"}),Object(f.jsx)(ge.Control,{type:"number",value:n.hours,onChange:function(e){return r(t,Object(v.a)(Object(v.a)({},n),{},{hours:Object($c.b)(e.target.value)}))}})]})}),Object(f.jsx)(f.Fragment,{children:"note"===t?Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Note"}),Object(f.jsx)(ge.Control,{title:"Enter a note",type:"input",value:n.description,onChange:function(e){return r(t,Object(v.a)(Object(v.a)({},n),{},{description:e.target.value}))}})]}):Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(ge.Label,{children:"Description"}),Object(f.jsx)(ge.Control,{title:"Enter a description of what these hours are allocated for",type:"input",value:n.description,onChange:function(e){return r(t,Object(v.a)(Object(v.a)({},n),{},{description:e.target.value}))}})]})})]}):Object(f.jsxs)("li",{className:"duty",children:["note"!==t?Object(f.jsx)("span",{className:"duty-hours",children:n.hours}):null,Object(f.jsx)("span",{className:"duty-description",children:n.description})]})}function df(e){var t=e.ddah,n=e.show,r=e.onHide,o=void 0===r?function(){}:r,c=e.onEdit,u=void 0===c?function(){}:c,l=e.forceEditMode,d=void 0!==l&&l,p="No DDAH to preview",h=null,j=s.a.useMemo((function(){var e=t?Object(We.a)(t.duties):[];return e.sort((function(e,t){return e.order-t.order})),e}),[t]),g=s.a.useState(j),O=Object(m.a)(g,2),y=O[0],w=O[1],_=s.a.useState(!1),x=Object(m.a)(_,2),S=x[0],k=x[1],C=S||d,A=s.a.useState(!1),E=Object(m.a)(A,2),D=E[0],T=E[1];function N(){k(!1),w(j),o()}function P(e,t){var n=y.map((function(n){return n.order!==t.order?n:(t=Object(v.a)(Object(v.a)({},t),{},{description:"".concat(e,":").concat(t.description)}),Object(v.a)(Object(v.a)({},n),t))}));w(n)}function R(e){var t=Math.max.apply(Math,Object(We.a)(y.map((function(e){return e.order})))),n=Number.isFinite(t)?t+1:-1;w([].concat(Object(We.a)(y),[{order:n,hours:0,description:"".concat(e,":")}]))}function H(e){w(y.filter((function(t){return t.order!==e.order})))}if(s.a.useEffect((function(){null!=t&&w(j)}),[t,j]),null!=t){var I,F,z=0,M=Object(b.a)(y);try{for(M.s();!(F=M.n()).done;){z+=F.value.hours}}catch(Q){M.e(Q)}finally{M.f()}var B,L=!!t.assignment&&t.assignment.hours!==z,U={note:[],prep:[],training:[],meeting:[],contact:[],marking:[],other:[]},W=Object(b.a)(y);try{for(W.s();!(B=W.n()).done;){var G=B.value,V=nu(G.description),q=V.category,Z=V.description;U[q]=U[q]||[],U[q].push(Object(v.a)(Object(v.a)({},G),{},{description:Z}))}}catch(Q){W.e(Q)}finally{W.f()}var Y=t.assignment,K=Y.applicant,J=Y.position;p=Object(f.jsxs)("div",{className:"instructor-ddah-preview-container",children:[Object(f.jsx)("table",{className:"position-summary",children:Object(f.jsxs)("tbody",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"TA:"}),Object(f.jsxs)("td",{children:[K.first_name," ",K.last_name]})]}),Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Position:"}),Object(f.jsxs)("td",{children:[J.position_code," (",J.position_title,")"]})]})]})}),Object(f.jsx)("h4",{children:"Notes"}),C&&Object(f.jsxs)(Qt.a,{variant:"secondary",children:[Object(f.jsx)(lt,{className:"mr-2"}),cf.note.helpText]}),Object(f.jsx)("ul",{children:Object(f.jsx)(uf,{category:"note",duties:U.note||[],showEmptyDutyString:!1,onChange:P,onDelete:H,onNew:R,editable:C})}),Object(f.jsx)("h4",{children:"Duties"}),["meeting","prep","contact","marking","training","other"].map((function(e){return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)("h6",{children:cf[e].title}),C&&cf[e].helpText&&Object(f.jsxs)(Qt.a,{variant:"secondary",children:[Object(f.jsx)(lt,{className:"mr-2"}),cf[e].helpText]}),Object(f.jsx)("ul",{children:Object(f.jsx)(uf,{category:e,duties:U[e]||[],onChange:P,onDelete:H,onNew:R,editable:C})})]},e)})),Object(f.jsx)(we,{children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{className:L?"add-ddah-hours-mismatch":"",children:z})," ","of ",t.assignment?t.assignment.hours:"?"," hours allocated"," ",L?"(".concat(((null===(I=t.assignment)||void 0===I?void 0:I.hours)||0)-z," unassigned)"):""]})}),Object(f.jsxs)("div",{className:"signature-area",children:[Object(f.jsxs)("div",{children:["Prepared",t.emailed_date?" on ".concat(Object(Tt.d)(t.emailed_date)):""]}),Object(f.jsx)("div",{children:t.accepted_date?"Acknowledged by ".concat(K.first_name," ").concat(K.last_name," on ").concat(Object(Tt.d)(t.accepted_date)):"Not yet acknowledged"})]})]}),h="/public/ddahs/".concat(t.url_token,".pdf")}var X=D?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null,$=Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Vt.a,{variant:"outline-secondary",onClick:function(){return N()},children:"Close"}),Object(f.jsxs)(Vt.a,{variant:"outline-info",onClick:function(){return k(!0)},children:[Object(f.jsx)(st,{className:"mr-2"}),"Edit"]}),h&&Object(f.jsxs)(Vt.a,{title:"Download DDAH.",variant:"link",href:Object(Tt.f)(h),children:[Object(f.jsx)(ot,{className:"mr-2"}),"Download PDF"]})]});return C&&($=Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Vt.a,{variant:"outline-secondary",onClick:function(){w(j),k(!1),d&&N()},children:"Cancel"}),Object(f.jsxs)(Vt.a,{variant:"outline-info",onClick:Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,u(Object(v.a)(Object(v.a)({},t),{},{duties:y}));case 3:T(!1),k(!1);case 5:case"end":return e.stop()}}),e)}))),children:[X||Object(f.jsx)(bt,{className:"mr-2"}),"Save"]})]})),Object(f.jsxs)(Gt.a,{show:n,onHide:N,dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Description of Duties and Allocation of Hours"})}),Object(f.jsx)(Gt.a.Body,{children:p}),Object(f.jsx)(Gt.a.Footer,{children:$})]})}function ff(e){var t=e.show,n=e.onHide,r=void 0===n?function(){}:n,o=s.a.useState(!1),u=Object(m.a)(o,2),l=u[0],d=u[1],p=Object(Nn.a)(),h=Object(c.useSelector)($d),b=Object(c.useSelector)(Xd),v=Object(c.useSelector)(Xc.b),j=s.a.useMemo((function(){return v.filter((function(e){return e.assignment.position.id===(null===b||void 0===b?void 0:b.id)}))}),[v,b]),g=s.a.useMemo((function(){return j.filter((function(e){return h.includes(e.id)}))}),[j,h]),O=s.a.useMemo((function(){return j.map((function(e){return{id:e.id,assignment_id:e.assignment.id,position_code:e.assignment.position.position_code,last_name:e.assignment.applicant.last_name,first_name:e.assignment.applicant.first_name,total_hours:e.total_hours,status:e.status||"unsent",emailed_date:Object(Tt.d)(e.emailed_date||""),approved:e.approved_date?"Approved":"",readable_status:eu(e),issues:Qc(e),issue_code:Qc(e)?"hours_mismatch":null}}))}),[j]),y=s.a.useMemo((function(){return[{Header:Ln("Last Name"),accessor:"last_name"},{Header:Ln("First Name"),accessor:"first_name"},{Header:Ln("DDAH Hours"),accessor:"total_hours",maxWidth:120,style:{textAlign:"right"}},{Header:Ln("Status"),accessor:"status"},{Header:Ln("Emailed"),accessor:"emailed_date"},{Header:Ln("Approved"),accessor:"approved",Cell:function(e){return e.value?Object(f.jsx)("div",{className:"accepted-ddah",children:Object(f.jsx)(it,{})}):null}},{Header:Ln("Issues"),accessor:"issues",Cell:af}]}),[]);function w(){r()}function _(){return(_=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,Promise.all(g.map((function(e){return p(Object(Xc.e)(e))})));case 4:w();case 5:return e.prev=5,d(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})))).apply(this,arguments)}var x=l?Object(f.jsx)(Zt.a,{animation:"border",size:"sm",className:"mr-1"}):null;return Object(f.jsxs)(Gt.a,{show:t,onHide:w,dialogClassName:"wide-modal",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Email DDAH Forms to TA(s)"})}),Object(f.jsxs)(Gt.a.Body,{children:[Object(f.jsx)("p",{children:"Select the DDAH forms you wish to email. (You may select all DDAHs by clicking the header of the checkboxes column.) You will be CCed on each email."}),Object(f.jsx)(Ft,{data:O,columns:y,filterable:!0,selected:h,setSelected:function(e){return p(Kd(e))}})]}),Object(f.jsxs)(Gt.a.Footer,{children:[Object(f.jsx)(Vt.a,{onClick:w,variant:"light",children:"Cancel"}),Object(f.jsxs)(Vt.a,{disabled:0===g.length||!!x,title:0===g.length?"You must select at least one DDAH to email":"Email DDAH(s)",onClick:function(){return _.apply(this,arguments)},children:[x,"Email ",g.length?g.length:""," ","DDAH",1===g.length?"":"s"]})]})]})}function pf(e){var t=e.oldDuty,n=e.newDuty;switch(e.status){case sf.Unchanged:return Object(f.jsxs)("li",{className:"duty-unchanged",children:[t.description," - ",t.hours,"h"]});case sf.Updated:return Object(f.jsxs)("li",{className:"duty-updated",children:[t.description," - ",t.hours,"h"," \u279e ",n.hours,"h"]});case sf.Created:return Object(f.jsxs)("li",{className:"duty-created",children:[n.description," - ",n.hours,"h"]});case sf.Deleted:return Object(f.jsxs)("li",{className:"duty-deleted",children:[t.description," - ",t.hours,"h"]});default:return null}}function hf(e){var t=e.changes;return Object(f.jsx)("ul",{children:t.map((function(e,t){var n=e.oldDuty,r=e.newDuty,i=e.status;return Object(f.jsx)(pf,{oldDuty:n,newDuty:r,status:i},t)}))})}function mf(e){var t=e.ddahs;return Object(f.jsx)("ul",{children:t.map((function(e,t){var n=e.assignment.applicant,r=e.duties;return Object(f.jsxs)("li",{children:["DDAH for ",n.first_name," ",n.last_name," (",n.utorid,")",Object(f.jsx)("ul",{className:"instructor-ddah-import-new-ddah-duties-list",children:r.map((function(e){return Object(f.jsxs)("li",{children:[Object(f.jsx)("span",{children:e.description})," -"," ",Object(f.jsxs)("span",{children:[e.hours,"h"]})]},t)}))})]})}))})}function bf(e){var t=e.ddahUpdates;return Object(f.jsx)("ul",{className:"instructor-ddah-import-duties-diff-list",children:t.map((function(e,t){var n=e.oldDdah,r=e.updatedDdah,i=function(e,t){var n=new Set([].concat(Object(We.a)(e.map((function(e){return e.description}))),Object(We.a)(t.map((function(e){return e.description}))))),r=Object(We.a)(n).map((function(n){var r=e.find((function(e){return e.description===n})),i=t.find((function(e){return e.description===n}));if(!r&&i)return{newDuty:i,status:sf.Created};if(r&&!i)return{oldDuty:r,status:sf.Deleted};if(!r&&!i)throw new Error("Cannot find matching duties");return(null===r||void 0===r?void 0:r.hours)!==(null===i||void 0===i?void 0:i.hours)?{oldDuty:r,newDuty:i,status:sf.Updated}:{oldDuty:r,newDuty:i,status:sf.Unchanged}}));return r.every((function(e){return e.status===sf.Unchanged}))?[]:r}(n.duties,r.duties),a=r.assignment.applicant,o=a.first_name,s=a.last_name,c=a.utorid;return Object(f.jsxs)("li",{children:["DDAH for ",o," ",s," (",c,")",Object(f.jsx)(hf,{changes:i})]},"ddah-diff-".concat(t))}))})}function vf(e){var t=e.disabled,n=void 0!==t&&t,r=e.setImportInProgress,o=void 0===r?null:r,l=Object(Nn.a)(),d=Object(c.useSelector)(Xc.b),p=Object(c.useSelector)(u.g),h=Object(c.useSelector)(u.e),b=Object(c.useSelector)(Xd),v=s.a.useState(null),j=Object(m.a)(v,2),g=j[0],O=j[1],y=s.a.useState(null),w=Object(m.a)(y,2),_=w[0],x=w[1],S=s.a.useState([]),k=Object(m.a)(S,2),C=k[0],A=k[1],E=s.a.useState([]),D=Object(m.a)(E,2),T=D[0],N=D[1],P=s.a.useState(null),R=Object(m.a)(P,2),H=R[0],I=R[1],F=s.a.useState(!1),z=Object(m.a)(F,2),M=z[0],B=z[1];function L(){return(L=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=2;break}throw new Error("Unable to compute an appropriate diff");case 2:return t=Dn(_),e.next=5,l(Object(Xc.i)(t));case 5:O(null);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s.a.useEffect((function(){g||_&&x(null)}),[_,x,g]),s.a.useEffect((function(){if(g&&!M)try{I(null);var e=Object(Sn.c)(g,h,void 0,null===b||void 0===b?void 0:b.position_code),t=kn.ddahs(e,{ddahs:d,assignments:p}),n=t.filter((function(e){return"new"===e.status})).map((function(e){return e.obj})),r=t.filter((function(e){return"modified"===e.status})).map((function(e){return e.obj})).map((function(e){return{updatedDdah:e,oldDdah:d.find((function(t){return t.id===e.id}))}}));A(n),N(r),x(t)}catch(xp){console.warn(xp),I(xp)}}),[g,d,p,h,M,b]),Object(f.jsx)(xn,{onConfirm:function(){return L.apply(this,arguments)},onFileChange:O,dialogContent:Object(f.jsx)(jf,{processingError:H,newDdahs:C,ddahUpdates:T,fileLoaded:!!_}),setInProgress:function(e){B(e),"function"===typeof o&&o(e)},disabled:n})}!function(e){e.Unchanged="UNCHANGED",e.Created="CREATED",e.Updated="UPDATED",e.Deleted="DELETED"}(sf||(sf={}));var jf=s.a.memo((function(e){var t=e.processingError,n=e.newDdahs,r=e.ddahUpdates,i=e.fileLoaded;return t?Object(f.jsx)(Qt.a,{variant:"danger",children:""+t}):i?0===n.length&&0===r.length?Object(f.jsx)(Qt.a,{variant:"warning",children:"No difference between imported and existing DDAHs."}):Object(f.jsxs)(s.a.Fragment,{children:[n.length>0&&Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following DDAHs will be ",Object(f.jsx)("strong",{children:"added"})]}),Object(f.jsx)(mf,{ddahs:n})]}),r.length>0&&Object(f.jsxs)(Qt.a,{variant:"info",children:[Object(f.jsxs)("span",{className:"mb-1",children:["The following DDAHs will be ",Object(f.jsx)("strong",{children:"modified"})]}),Object(f.jsx)(bf,{ddahUpdates:r})]})]}):Object(f.jsx)("p",{children:"No data loaded."})}));function gf(e){var t=e.disabled,n=void 0!==t&&t,r=Object(c.useSelector)(u.g),o=Object(c.useSelector)(Xc.b),s=Object(c.useSelector)(Xd);function l(){return(l=Object(a.a)(i.a.mark((function e(){var t,n,a,c,u,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:t=vu(o,r),n=t[s.position_code],a=s.position_code.replace(/[^A-z0-9 ]/g,"_"),c=hn.a.utils.book_new(),u=hn.a.utils.aoa_to_sheet(n),hn.a.utils.book_append_sheet(c,u,"".concat(a," DDAHs").slice(0,30)),l=hn.a.write(c,{type:"array",bookType:"xlsx"}),d=new File([l],"".concat(a,"-DDAHs.xlsx"),{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),rn.a.saveAs(d);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.jsx)(ln,{icon:ot,title:"Download a spreadsheet template that you may fill to bulk create/update DDAHs",onClick:function(){return function(){return l.apply(this,arguments)}()},disabled:n,children:"DDAH Template"})}function Of(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(Xc.b),n=Object(c.useSelector)(u.g),r=Object(Nn.a)(),o=Object(c.useSelector)(Xd),l=s.a.useState(!1),d=Object(m.a)(l,2),p=d[0],h=d[1],b=s.a.useState(!1),v=Object(m.a)(b,2),j=v[0],g=v[1],O=s.a.useState(null),y=Object(m.a)(O,2),w=y[0],_=y[1],x=s.a.useState(null),S=Object(m.a)(x,2),k=S[0],C=S[1],A=s.a.useState(!1),E=Object(m.a)(A,2),D=E[0],T=E[1],N=s.a.useCallback((function(e){var t=null===e||void 0===e?void 0:e.id;C(t||null),_(e)}),[C,_]),P=s.a.useMemo((function(){return k&&t.find((function(e){return e.id===k}))||w}),[t,w,k]);if(s.a.useEffect((function(){var e=t.filter((function(e){return e.assignment.position.id===(null===o||void 0===o?void 0:o.id)})).map((function(e){return e.id}));r(fu(e))}),[r,o,t]),!e||!o)return Object(f.jsx)("h4",{children:"Please select a Session and Position to see TA information"});var R="".concat(o.position_code," ").concat(o.position_title?" (".concat(o.position_title,")"):""),H="".concat(e.name," (").concat(Object(Tt.d)(e.start_date)," to ").concat(Object(Tt.d)(e.end_date),")");return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Actions"}),Object(f.jsx)(ln,{icon:pt,onClick:function(){r(Kd([])),T(!0)},children:"Email DDAHs"}),Object(f.jsx)(gf,{}),Object(f.jsx)(un,{children:"Import/Export"}),Object(f.jsx)(vf,{disabled:!e}),Object(f.jsx)(hu,{disabled:!e})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)("h4",{children:Object(f.jsx)("span",{children:R})}),Object(f.jsxs)("p",{children:["Below is a list of your TAs for"," ",Object(f.jsx)("span",{className:"text-primary",children:R})," ","for the"," ",Object(f.jsx)("span",{className:"text-primary",children:H})," ","session. You can view, create, and edit DDAH forms for your TAs. After you create/edit a DDAH form, don't forget to email the form to your TAs."]}),Object(f.jsxs)("p",{children:["The ",Object(f.jsx)("i",{children:"Approved"})," column indicates whether the TA coordinator has reviewed and approved the DDAH. If you have any questions about DDAHs and their requirements, please contact the TA coordinator."]}),Object(f.jsx)(of,{position_id:(null===o||void 0===o?void 0:o.id)||-1,onView:function(e){var n=t.find((function(t){return t.id===e}));n&&(N(n),h(!0))},onCreate:function(e){var t=n.find((function(t){return t.id===e}));t?(N({duties:[],approved_date:null,accepted_date:null,revised_date:null,emailed_date:null,signature:null,url_token:"",total_hours:0,assignment:t,status:null}),g(!0)):console.warn("Could not find assignment with id",e)},onEmail:function(){return T(!0)}}),Object(f.jsx)(df,{ddah:P,show:p,onHide:function(){return h(!1)},onEdit:function(){var e=Object(a.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(Xc.h)(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)(df,{ddah:P,show:j,forceEditMode:!0,onHide:function(){return g(!1)},onEdit:function(){var e=Object(a.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Object(Xc.h)(t));case 2:n=e.sent,C(n.id),g(!1),h(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(f.jsx)(ff,{show:D,onHide:function(){return T(!1)}})]})]})}var yf=n(459),wf=["bsPrefix","active","disabled","className","variant","action","as","onClick"],_f={variant:void 0,active:!1,disabled:!1},xf=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,i=e.disabled,a=e.className,c=e.variant,u=e.action,l=e.as,d=e.onClick,f=Object(O.a)(e,wf);n=Object(D.a)(n,"list-group-item");var p=Object(o.useCallback)((function(e){if(i)return e.preventDefault(),void e.stopPropagation();d&&d(e)}),[i,d]);return i&&void 0===f.tabIndex&&(f.tabIndex=-1,f["aria-disabled"]=!0),s.a.createElement(yf.a,Object(g.a)({ref:t},f,{as:l||(u?f.href?"a":"button":"div"),onClick:p,className:w()(a,n,r&&"active",i&&"disabled",c&&n+"-"+c,u&&n+"-action")}))}));xf.defaultProps=_f,xf.displayName="ListGroupItem";var Sf=xf,kf=n(339),Cf=n(458),Af=["bsPrefix","className","variant","as"],Ef=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,c=Object(O.a)(e,Af),u=Object(D.a)(n,"card-img");return s.a.createElement(o,Object(g.a)({ref:t,className:w()(i?u+"-"+i:u,r)},c))}));Ef.displayName="CardImg",Ef.defaultProps={variant:null};var Df=Ef,Tf=["bsPrefix","className","bg","text","border","body","children","as"],Nf=Object(kf.a)("h5"),Pf=Object(kf.a)("h6"),Rf=Object(me.a)("card-body"),Hf=Object(me.a)("card-title",{Component:Nf}),If=Object(me.a)("card-subtitle",{Component:Pf}),Ff=Object(me.a)("card-link",{Component:"a"}),zf=Object(me.a)("card-text",{Component:"p"}),Mf=Object(me.a)("card-header"),Bf=Object(me.a)("card-footer"),Lf=Object(me.a)("card-img-overlay"),Uf=s.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,c=e.border,u=e.body,l=e.children,d=e.as,f=void 0===d?"div":d,p=Object(O.a)(e,Tf),h=Object(D.a)(n,"card"),m=Object(o.useMemo)((function(){return{cardHeaderBsPrefix:h+"-header"}}),[h]);return s.a.createElement(Cf.a.Provider,{value:m},s.a.createElement(f,Object(g.a)({ref:t},p,{className:w()(r,h,i&&"bg-"+i,a&&"text-"+a,c&&"border-"+c)}),u?s.a.createElement(Rf,null,l):l))}));Uf.displayName="Card",Uf.defaultProps={body:!1},Uf.Img=Df,Uf.Title=Hf,Uf.Subtitle=If,Uf.Body=Rf,Uf.Link=Ff,Uf.Text=zf,Uf.Header=Mf,Uf.Footer=Bf,Uf.ImgOverlay=Lf;var Wf=Uf,Gf=n(179),Vf=s.a.createContext(null);Vf.displayName="AccordionContext";var qf=Vf,Zf=["as","children","eventKey","onClick"];var Yf=s.a.forwardRef((function(e,t){var n=e.as,r=void 0===n?"button":n,i=e.children,a=e.eventKey,c=e.onClick,u=Object(O.a)(e,Zf),l=function(e,t){var n=Object(o.useContext)(qf),r=Object(o.useContext)(Gf.a);return function(i){r&&r(e===n?null:e,i),t&&t(i)}}(a,c);return"button"===r&&(u.type="button"),s.a.createElement(r,Object(g.a)({ref:t,onClick:l},u),i)})),Kf=n(460),Jf=["children","eventKey"],Xf=s.a.forwardRef((function(e,t){var n=e.children,r=e.eventKey,i=Object(O.a)(e,Jf),a=Object(o.useContext)(qf);return s.a.createElement(Gf.a.Provider,{value:null},s.a.createElement(Kf.a,Object(g.a)({ref:t,in:a===r},i),s.a.createElement("div",null,s.a.Children.only(n))))}));Xf.displayName="AccordionCollapse";var $f=Xf,Qf=["as","activeKey","bsPrefix","children","className","onSelect"],ep=s.a.forwardRef((function(e,t){var n=Object(sd.a)(e,{activeKey:"onSelect"}),r=n.as,i=void 0===r?"div":r,a=n.activeKey,o=n.bsPrefix,c=n.children,u=n.className,l=n.onSelect,d=Object(O.a)(n,Qf),f=w()(u,Object(D.a)(o,"accordion"));return s.a.createElement(qf.Provider,{value:a||null},s.a.createElement(Gf.a.Provider,{value:l||null},s.a.createElement(i,Object(g.a)({ref:t},d,{className:f}),c)))}));ep.displayName="Accordion",ep.Toggle=Yf,ep.Collapse=$f;var tp=ep,np=n(601),rp=["className","bsPrefix","variant","horizontal","as"],ip={variant:void 0,horizontal:void 0},ap=s.a.forwardRef((function(e,t){var n,r=Object(sd.a)(e,{activeKey:"onSelect"}),i=r.className,a=r.bsPrefix,o=r.variant,c=r.horizontal,u=r.as,l=void 0===u?"div":u,d=Object(O.a)(r,rp),f=Object(D.a)(a,"list-group");return n=c?!0===c?"horizontal":"horizontal-"+c:null,s.a.createElement(np.a,Object(g.a)({ref:t},d,{as:l,className:w()(i,f,o&&f+"-"+o,n&&f+"-"+n)}))}));ap.defaultProps=ip,ap.displayName="ListGroup",ap.Item=Sf;var op=ap;function sp(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(u.Q),n=Object(c.useSelector)(u.N),r=Object(Nn.a)(),i=Object(f.jsx)("div",{children:Object(f.jsx)("h4",{className:"text-black",children:"No session is currently selected"})});e&&(i=Object(f.jsxs)("h4",{children:["The currently active session is"," ",Object(f.jsxs)("span",{className:"text-primary",children:[e.name," (",Object(Tt.d)(e.start_date)," ","to ",Object(Tt.d)(e.end_date),")"]})]}));var a=n.map((function(e){return Object(f.jsx)(Sf,{children:Object(f.jsxs)(Wf.Link,{as:Lu.c,to:"/positions/".concat(e.id),children:[e.position_code,e.position_title?" (".concat(e.position_title,")"):""]})},e.position_code)}));return Object(f.jsx)("div",{className:"page-body",children:Object(f.jsxs)(In,{children:[i,Object(f.jsxs)("p",{children:["Below is a list of all sessions where you are listed as an instructor. Select a session to see ",Object(f.jsx)("i",{children:"positions"})," ","(courses) that you are/were an instructor for."]}),0===t.length?Object(f.jsx)("h4",{children:"You are not listed as an instructor for any session"}):null,Object(f.jsx)(tp,{children:t.map((function(t){var n=t.id===(null===e||void 0===e?void 0:e.id);return Object(f.jsxs)(Wf,{bg:n?"primary":"light",text:n?"white":"dark",children:[Object(f.jsxs)(Wf.Header,{as:"button",className:"btn text-left ".concat(n?"btn-primary ":"btn-light"),onClick:function(){r(Object(u.R)(t))},children:[t.name," (",Object(Tt.d)(t.start_date)," to"," ",Object(Tt.d)(t.end_date),")"]}),n?Object(f.jsx)(op,{className:"mx-2 mb-2 text-dark",children:a.length>0?a:Object(f.jsx)(Sf,{children:"No Positions"})}):null]},t.id)}))})]})})}var cp=n(276);function up(){var e=Object(c.useSelector)(Xd),t=Object(c.useSelector)(u.f),n=s.a.useState(null),r=Object(m.a)(n,2),i=r[0],a=r[1],o=Object(Nn.a)(),l=s.a.useCallback((function(e){return o(Object(cp.c)(e))}),[o]),d=t.find((function(e){return e.id===i}))||null,p=s.a.useMemo((function(){return e?t.filter((function(t){return t.position_preferences.some((function(t){return t.position.id===e.id}))})):[]}),[e,t]),h=function(t){var n=t.application,r=Object(j.a)(t,["application"]),i=n.instructor_preferences.find((function(t){return t.position.id===(null===e||void 0===e?void 0:e.id)}))||null,a={application:n,position:e};return Object(f.jsx)(dl,Object(v.a)({instructorPreference:i,setInstructorPreference:function(e){return l(Object(v.a)(Object(v.a)({},a),e))}},r))};if(!e)return Object(f.jsx)("h4",{children:"No position currently selected"});var b=[{Header:"Your Rating",id:"instructor_preference",Cell:function(e){return Object(f.jsx)(h,{application:e.row.original})}},{Header:"Application",id:"application",Cell:function(e){var t=e.row.original;return Object(f.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(f.jsxs)(Vt.a,{variant:"info",size:"sm",className:"mr-2 py-0",title:"View the full Application",onClick:function(){a(t.id)},children:[Object(f.jsx)(jt,{className:"mr-2"}),"View"]})})}},{Header:"Last Name",accessor:"applicant.last_name"},{Header:"First Name",accessor:"applicant.first_name"},{Header:"Email",accessor:"applicant.email",Cell:function(t){var n=t.value,r=t.row.original.applicant;return Object(f.jsx)("a",{href:encodeURI("mailto:".concat(r.first_name," ").concat(r.last_name," <").concat(n,">?subject=").concat(e.position_code,"&body=Dear ").concat(r.first_name," ").concat(r.last_name,",\n\n")),children:n})}},{Header:Ln("Program","Program: P (PhD), M (Masters), U (Undergrad)"),width:90,accessor:"program"},{Header:Ln("YIP","Year of study"),width:50,accessor:"yip"},{Header:Ln("GPA"),width:60,accessor:"gpa"},{Header:Ln("Experience"),accessor:"previous_experience_summary"}];return Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsx)(Ft,{filterable:!0,columns:b,data:p}),Object(f.jsxs)(Gt.a,{show:!!d,onHide:function(){return a(null)},size:"xl",children:[Object(f.jsx)(Gt.a.Header,{closeButton:!0,children:Object(f.jsx)(Gt.a.Title,{children:"Application Details"})}),Object(f.jsx)(Gt.a.Body,{children:d&&Object(f.jsxs)(s.a.Fragment,{children:[Object(f.jsxs)(Qt.a,{variant:"primary",children:[Object(f.jsxs)(Qt.a.Heading,{children:["Your Rating ",Object(f.jsx)("small",{children:"(click to edit)"})]}),Object(f.jsx)(h,{application:d,compact:!1})]}),Object(f.jsx)(bl,{application:d})]})}),Object(f.jsx)(Gt.a.Footer,{children:Object(f.jsx)(Vt.a,{onClick:function(){return a(null)},variant:"outline-secondary",children:"Close"})})]})]})}function lp(){var e=s.a.useState(null),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(c.useSelector)(Xd),l=Object(c.useSelector)(u.f),d=s.a.useMemo((function(){return o?l.filter((function(e){return e.position_preferences.some((function(e){return e.position.id===o.id}))})):[]}),[o,l]);return s.a.useEffect((function(){function e(){return(e=Object(a.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(null),null!=n){e.next=3;break}throw new Error("Unknown export type ".concat(n));case 3:t=Object(Sn.f)(d,n),rn.a.saveAs(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n&&function(){return e.apply(this,arguments)}().catch(console.error)}),[n,d]),Object(f.jsx)(fn,{onClick:function(e){r(e)}})}function dp(){var e=Object(c.useSelector)(u.b),t=Object(c.useSelector)(Xd);if(!e||!t)return Object(f.jsx)("h4",{children:"Please select a Session and Position to see TA information"});var n="".concat(t.position_code," ").concat(t.position_title?" (".concat(t.position_title,")"):""),r="".concat(e.name," (").concat(Object(Tt.d)(e.start_date)," to ").concat(Object(Tt.d)(e.end_date),")");return Object(f.jsxs)("div",{className:"page-body",children:[Object(f.jsxs)(cn,{children:[Object(f.jsx)(un,{children:"Actions"}),Object(f.jsx)(lp,{})]}),Object(f.jsxs)(In,{children:[Object(f.jsx)("h4",{children:Object(f.jsx)("span",{children:n})}),Object(f.jsxs)("p",{children:["Below is a list of your TAs who have applied for"," ",Object(f.jsx)("span",{className:"text-primary",children:n})," ","for the"," ",Object(f.jsx)("span",{className:"text-primary",children:r})," ","session. You may review a TA's application and indicate which TAs would be most suitable for your course."]}),Object(f.jsxs)("p",{children:["Please indicate whether a TA is ",Object(f.jsx)("b",{children:"suitable"})," (",Object(f.jsx)(pl,{rating:1}),") for the course,"," ",Object(f.jsx)("b",{children:"strongly preferred"})," (",Object(f.jsx)(pl,{rating:2}),"), or ",Object(f.jsx)("b",{children:"not suitable"})," (",Object(f.jsx)(pl,{rating:-1}),'). Additionally, you may leave a comment by clicking the "',Object(f.jsx)(Dt,{}),"\" icon. If you don't have enough information to rate the applicant, leave the rating blank or"," ",Object(f.jsx)("b",{children:"unknown"})," (",Object(f.jsx)(pl,{rating:0}),")."]}),Object(f.jsx)("p",{children:"Please note that while your preferences will be taken into account to the best of the TA Coordinator's ability, there are many constraints when assigning TAs and the final TA assignments may not match your preferences."}),Object(f.jsx)(up,{})]})]})}function fp(){var e=Object(h.h)(),t=Object(Nn.a)(),n=+(e.position_id||NaN),r=Number.isFinite(n)?n:null;return s.a.useEffect((function(){var e;t((e=r,{type:Yd.a,payload:e}))}),[r,t]),null}function pp(){var e=Object(c.useSelector)(u.b),t=(null===e||void 0===e?void 0:e.applications_visible_to_instructors)||!1,n=t?"/positions/:position_id/preferences":"/positions/:position_id/assignments";return Object(f.jsxs)(h.d,{children:[Object(f.jsx)(h.b,{exact:!0,path:"/",children:Object(f.jsx)(h.a,{from:"/",to:"/sessions/details"})}),Object(f.jsxs)(h.b,{path:"/positions/:position_id/preferences",children:[Object(f.jsx)(fp,{}),t&&Object(f.jsx)(dp,{})]}),Object(f.jsxs)(h.b,{path:"/positions/:position_id/assignments",children:[Object(f.jsx)(fp,{}),Object(f.jsx)(rf,{})]}),Object(f.jsxs)(h.b,{path:"/positions/:position_id/ddahs",children:[Object(f.jsx)(fp,{}),Object(f.jsx)(Of,{})]}),Object(f.jsx)(h.b,{exact:!0,path:"/sessions/details",children:Object(f.jsx)(sp,{})}),Object(f.jsx)(h.a,{from:"/positions/:position_id",to:n}),Object(f.jsx)(h.a,{from:"/sessions",to:"/sessions/details"})]})}var hp=n(1376),mp=n(1375);n(325);function bp(e){return Object(f.jsx)(hp.a.Item,{children:Object(f.jsx)(hp.a.Link,Object(v.a)(Object(v.a)({as:Lu.c},e),{},{children:e.children}))})}function vp(e){var t=e.routes,n=void 0===t?[]:t,r=e.infoComponents,i=void 0===r?[]:r,a=(Object(h.i)("/:mainRoute/:subRoute?")||{params:{mainRoute:"tapp"}}).params.mainRoute,o=Object(h.g)().pathname;if(0===n.length)return Object(f.jsx)("div",{children:"No Routes in Header"});var s=n.map((function(e){return Object(f.jsx)(bp,{title:e.description,eventKey:e.route,to:e.route,className:"primary",children:e.name},e.route)})),c=n.filter((function(e){return e.route.substring(1)===a||o.startsWith(e.route)})).map((function(e){return(e.subroutes||[]).map((function(t){var n="".concat(e.route).concat(t.route);return Object(f.jsx)(bp,{to:n,title:t.description,className:"secondary",children:t.name},n)}))}));return Object(f.jsxs)("div",{className:"header-container",children:[Object(f.jsxs)("div",{className:"header-nav",children:[Object(f.jsx)(mp.a,{children:Object(f.jsx)(hp.a,{activeKey:a,defaultActiveKey:"tapp",className:"primary-nav-links",children:s})}),Object(f.jsx)(hp.a,{className:"secondary-nav-links",children:c})]}),Object(f.jsx)("div",{className:"header-widgets",children:i})]})}var jp=[{route:"/session_setup",name:"Session Setup",description:"Setup a new session or manage an existing session.",subroutes:[{route:"/sessions",name:"Sessions",description:"Manage Sessions"},{route:"/contract_templates",name:"Contract Templates",description:"Manage Contract Templates"},{route:"/instructors",name:"Instructors",description:"Manage Instructors"}]},{route:"/assignments_and_positions",name:"Assignments & Positions",description:"Manage Assignments & Positions",subroutes:[{route:"/positions",name:"Positions",description:"Manage Positions"},{route:"/assignments",name:"Assignments",description:"Manage Assignments"},{route:"/ddahs",name:"DDAHs",description:"Manage DDAHs"}]},{route:"/applicants_and_matching",name:"Applicants & Matching",description:"Manage applicants and match applicants to positions",subroutes:[{route:"/applicants",name:"Applicants",description:"Manage Applicants"},{route:"/applications",name:"Applications",description:"Manage Applications"},{route:"/matching",name:"Matching",description:"Match applicants to positions"}]}],gp={route:"/postings",name:"Job Postings",description:"Manage and create job postings",subroutes:[{route:"/overview",name:"Overview",description:"Manage Job Postings"}]};function Op(){var e,t=Object(h.i)("/postings/:posting_id/"),n=[].concat(jp);if(t&&(null===(e=t.params)||void 0===e?void 0:e.posting_id)&&!isNaN(parseInt(""+t.params.posting_id))){var r=t.params.posting_id,i=Object(v.a)({},gp);i.subroutes=[].concat(Object(We.a)(i.subroutes),[{route:"/".concat(r,"/details"),name:"Details",description:"Edit/View Details of a Job Postings"},{route:"/".concat(r,"/preview"),name:"Preview",description:"Preview a Job Postings"}]),n.push(i)}else n.push(gp);return Object(f.jsx)(vp,{routes:n,infoComponents:[Object(f.jsx)(Ic,{},0),Object(f.jsx)(Fc,{},1)]})}n(326),n(799);var yp=n(140);function wp(){var e=Object(c.useSelector)(yp.e),t=Object(c.useSelector)(u.Q),n=Object(c.useSelector)(u.b),r=Object(Nn.a)();s.a.useEffect((function(){var e=window.setTimeout((function(){if(null==n){var e=Object(Tt.h)(t);e&&r(Object(u.R)(e))}}),100);return function(){window.clearTimeout(e)}}),[r,n,t]);var i=(null===n||void 0===n?void 0:n.applications_visible_to_instructors)?[{route:"/preferences",name:"TA Preferences",description:"View information about TAs who have applied to your course"}]:[],a=e.map((function(e){return{route:"/positions/".concat(e.id),name:"".concat(e.position_code),description:"View information about position ".concat(e.position_code," ").concat(e.position_title),subroutes:[].concat(i,[{route:"/assignments",name:"Assigned TAs",description:"View information about your TAs"},{route:"/ddahs",name:"DDAHs",description:"Manage your TAs' DDAH forms"}])}})).concat([{route:"/sessions",name:"Courses from Other Sessions",description:"View TA information for other sessions",subroutes:[{route:"/details",name:"Details",description:"Details about other sessions"}]}]);return Object(f.jsx)(vp,{routes:a,infoComponents:[Object(f.jsx)(Ic,{},0),Object(f.jsx)(Fc,{},1)]})}function _p(){var e=Object(c.useSelector)(u.a),t=Object(Nn.a)();Object(o.useEffect)((function(){Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(Object(u.H)("pageLoad"));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[t]);var n=Object(f.jsx)("div",{children:"Loading..."});return"admin"===e&&(n=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Op,{}),Object(f.jsx)("div",{className:"view-container",children:Object(f.jsx)(Zd,{})})]})),"instructor"===e&&(n=Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(wp,{}),Object(f.jsx)("div",{className:"view-container",children:Object(f.jsx)(pp,{})})]})),"ta"===e&&(n=Object(f.jsx)("div",{children:'"Viewing as TA"'})),Object(f.jsxs)(s.a.Fragment,{children:[n,Object(f.jsx)(p,{})]})}},91:function(e,t,n){"use strict";n.d(t,"D",(function(){return r.c})),n.d(t,"kb",(function(){return r.f})),n.d(t,"p",(function(){return r.b})),n.d(t,"R",(function(){return r.e})),n.d(t,"Q",(function(){return r.d})),n.d(t,"b",(function(){return r.a})),n.d(t,"A",(function(){return i.c})),n.d(t,"gb",(function(){return i.f})),n.d(t,"n",(function(){return i.a})),n.d(t,"v",(function(){return i.b})),n.d(t,"hb",(function(){return i.g})),n.d(t,"N",(function(){return i.e})),n.d(t,"eb",(function(){return a.f})),n.d(t,"m",(function(){return a.a})),n.d(t,"u",(function(){return a.b})),n.d(t,"fb",(function(){return a.g})),n.d(t,"I",(function(){return a.e})),n.d(t,"Y",(function(){return o.f})),n.d(t,"l",(function(){return o.b})),n.d(t,"r",(function(){return o.c})),n.d(t,"Z",(function(){return o.g})),n.d(t,"e",(function(){return o.a})),n.d(t,"bb",(function(){return s.f})),n.d(t,"t",(function(){return s.b})),n.d(t,"cb",(function(){return s.g})),n.d(t,"g",(function(){return s.a})),n.d(t,"ab",(function(){return c.d})),n.d(t,"s",(function(){return c.a})),n.d(t,"db",(function(){return u.i})),n.d(t,"y",(function(){return u.d})),n.d(t,"P",(function(){return u.g})),n.d(t,"q",(function(){return u.c})),n.d(t,"X",(function(){return u.h})),n.d(t,"h",(function(){return u.b})),n.d(t,"d",(function(){return u.a})),n.d(t,"F",(function(){return l.a})),n.d(t,"z",(function(){return C})),n.d(t,"V",(function(){return A})),n.d(t,"W",(function(){return E})),n.d(t,"M",(function(){return D})),n.d(t,"J",(function(){return T})),n.d(t,"K",(function(){return N})),n.d(t,"L",(function(){return P})),n.d(t,"x",(function(){return j.f})),n.d(t,"S",(function(){return j.g})),n.d(t,"i",(function(){return j.c})),n.d(t,"k",(function(){return j.e})),n.d(t,"j",(function(){return j.d})),n.d(t,"lb",(function(){return j.h})),n.d(t,"c",(function(){return j.b})),n.d(t,"a",(function(){return j.a})),n.d(t,"C",(function(){return R.e})),n.d(t,"ib",(function(){return R.i})),n.d(t,"E",(function(){return R.g})),n.d(t,"B",(function(){return R.c})),n.d(t,"jb",(function(){return R.j})),n.d(t,"o",(function(){return R.a})),n.d(t,"w",(function(){return R.b})),n.d(t,"O",(function(){return R.h})),n.d(t,"H",(function(){return H.b})),n.d(t,"T",(function(){return I.b})),n.d(t,"U",(function(){return I.c})),n.d(t,"G",(function(){return I.a})),n.d(t,"f",(function(){return F.a}));var r=n(109),i=n(140),a=n(166),o=n(149),s=n(134),c=n(191),u=n(167),l=n(192),d=(n(190),n(24)),f=n.n(d),p=n(35),h=n(2),m=n(103),b=n(106),v=n(101),j=n(104),g=Object(b.a)(h.H),O=Object(b.a)(h.Z),y=Object(b.a)(h.ab),w=Object(b.a)(h.S),_=Object(b.a)(h.T),x=Object(b.a)(h.U),S=Object(b.a)(h.V),k=Object(b.a)(h.z),C=Object(b.g)({name:"fetchOfferHistoryForAssignment",description:"Fetch the history of all offers associated with an assignment",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),a=e.id,t.next=4,Object(v.a)("/".concat(i,"/assignments/").concat(a,"/active_offer/history"));case 4:o=t.sent,n(k({assignment_id:a,offers:o}));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),A=(Object(b.g)({name:"fetchActiveOfferForAssignment",description:"Fetch an offer associated with an assignment",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.a)("/".concat(i,"/assignments/").concat(e.id,"/active_offer"));case 3:return a=t.sent,n(g(a)),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),Object(b.g)({name:"setOfferForAssignmentAccepted",description:"Set an offer as accepted",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/accept"));case 3:return a=t.sent,n(O(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})),E=Object(b.g)({name:"setOfferForAssignmentRejected",description:"Set an offer as rejected",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/reject"));case 3:return a=t.sent,n(y(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),D=Object(b.g)({name:"offerForAssignmentWithdraw",description:"Withdraw an offer",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/withdraw"));case 3:return a=t.sent,n(S(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),T=Object(b.g)({name:"offerForAssignmentCreate",description:"Create an offer",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/create"));case 3:return a=t.sent,n(w(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),N=Object(b.g)({name:"offerForAssignmentEmail",description:"Email an offer",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/email"));case 3:return a=t.sent,n(_(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),P=Object(b.g)({name:"offerForAssignmentNag",description:"Send a nag email for an offer",onErrorDispatch:function(e){return Object(m.c)(e.toString())},dispatcher:function(e){return function(){var t=Object(p.a)(f.a.mark((function t(n,r){var i,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(j.a)(r()),t.next=3,Object(v.b)("/".concat(i,"/assignments/").concat(e.id,"/active_offer/nag"));case 3:return a=t.sent,n(x(a)),t.next=7,n(Object(s.c)(e));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),R=n(165),H=n(148),I=n(193),F=n(211)},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=n(25).useDispatch},97:function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"j",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return h}));var r=n(21);n(34),n(0),n(25);function i(){for(var e=0,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e+=+o}return e}function a(e,t){return e>t?1:e<t?-1:0}function o(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function s(e){return null==e?"":(""+e).trim()}function c(e){if(!e)return e;var t=(new Date(e).toJSON()||"").slice(0,10),n=new Date("".concat(t,"T00:00:00.000"));return"".concat(n.toLocaleDateString("en-CA",{month:"short",year:"numeric",day:"numeric"}))}function u(e){return e&&null!=e?new Date(e).toLocaleString("en-CA"):e}var l=function(e){return e};function d(e,t){return e.filter((function(e){return!t.includes(e)}))}function f(e){var t,n=+new Date("2020-02-01")-+new Date("2020-01-01"),i=+new Date,a=Object(r.a)(e);try{for(a.s();!(t=a.n()).done;){var o=t.value,s=+new Date(o.start_date)-i;if(s<n&&s>=0)return o}}catch(f){a.e(f)}finally{a.f()}var c,u=Object(r.a)(e);try{for(u.s();!(c=u.n()).done;){var l=c.value,d=+new Date(l.start_date);if(i<=+new Date(l.end_date)+n&&i>=d)return l}}catch(f){u.e(f)}finally{u.f()}return null}function p(e){return isFinite(parseFloat(e))?parseFloat(e).toFixed(2):e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}}}]);
//# sourceMappingURL=7.51c93a19.chunk.js.map